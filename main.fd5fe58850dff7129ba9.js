(self.webpackChunkliga_futbol=self.webpackChunkliga_futbol||[]).push([[179],{8255:st=>{function Te(P){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+P+"'");throw a.code="MODULE_NOT_FOUND",a})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,st.exports=Te},7716:(st,Te,P)=>{"use strict";P.d(Te,{deG:()=>s0,tb:()=>$T,AFp:()=>jT,ip1:()=>_w,CZH:()=>jd,hGG:()=>FV,z2F:()=>Gd,sBO:()=>QD,Sil:()=>pp,_Vd:()=>xs,EJc:()=>qT,SBq:()=>aa,qLn:()=>nd,vpe:()=>Er,gxx:()=>Ic,tBr:()=>Aa,XFs:()=>$e,OlP:()=>ei,zs3:()=>ti,ZZ4:()=>Lm,aQg:()=>Vm,soG:()=>f_,YKP:()=>Tb,v3s:()=>Dk,h0i:()=>qc,PXZ:()=>nS,R0b:()=>Os,FiY:()=>qo,Lbi:()=>GT,g9A:()=>HT,n_E:()=>cp,Qsj:()=>$D,FYo:()=>$f,JOm:()=>Jo,Tiy:()=>bb,q3G:()=>Ln,tp0:()=>Xi,EAV:()=>Ik,Rgc:()=>la,dDg:()=>Tw,DyG:()=>Pu,q4F:()=>wb,GfV:()=>$x,s_b:()=>Um,ifc:()=>je,eFA:()=>bk,G48:()=>DV,Gpc:()=>W,f3M:()=>Jh,X6Q:()=>gp,_c5:()=>mS,VLi:()=>QT,c2e:()=>zT,zSh:()=>To,wAp:()=>bt,vHH:()=>Ae,EiD:()=>un,mCW:()=>ml,qzn:()=>Ko,JVY:()=>xg,pB0:()=>fl,eBb:()=>af,L6k:()=>sf,LAX:()=>wo,cg1:()=>nb,Tjo:()=>Nk,kL8:()=>_D,yhl:()=>Mg,dqk:()=>Ht,sIi:()=>hd,CqO:()=>Bv,QGY:()=>_m,F4k:()=>Vv,RDi:()=>wh,AaK:()=>ne,z3N:()=>bo,qOj:()=>am,TTD:()=>fi,_Bn:()=>BD,xp6:()=>L0,uIk:()=>cm,ekj:()=>Em,Suo:()=>OR,Xpm:()=>O,lG2:()=>Ke,Yz7:()=>Zt,cJS:()=>en,oAB:()=>$,Yjl:()=>ft,Y36:()=>Al,_UZ:()=>mm,GkF:()=>Rf,BQk:()=>Lv,ynx:()=>Fv,qZA:()=>es,TgZ:()=>gm,EpF:()=>kf,n5z:()=>vg,Ikx:()=>eb,LFG:()=>Nn,$8M:()=>Gh,NdJ:()=>Of,CRH:()=>PR,O4$:()=>Mh,oxw:()=>kE,ALo:()=>op,lcZ:()=>Jb,Hsn:()=>Ml,F$t:()=>OE,Q6J:()=>xf,DdM:()=>Nd,VKq:()=>Fd,WLB:()=>yT,iGM:()=>nw,MAs:()=>Oa,CHM:()=>Ql,LSH:()=>Zu,kYT:()=>ce,Udp:()=>zv,WFA:()=>ym,d8E:()=>tb,YNc:()=>Dv,W1O:()=>ST,_uU:()=>Wv,Oqu:()=>Im,hij:()=>Lf,AsE:()=>yd,HOy:()=>ms,Gf:()=>TT});var a=P(9765),z=P(5319),L=P(7574),oe=P(6682),ue=P(8819);function J(s){for(let o in s)if(s[o]===J)return o;throw Error("Could not find renamed property on target object.")}function te(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ee(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=J({__forward_ref__:J});function W(s){return s.__forward_ref__=W,s.toString=function(){return ne(this())},s}function G(s){return ie(s)?s():s}function ie(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===W}class Ae extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}function Xt(s,o){const l=o?` in ${o}`:"";throw new Ae("201",`No provider for ${Fe(s)} found${l}`)}function _n(s,o){null==s&&function(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Zt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function kt(s){return yn(s,Re)||yn(s,Rn)}function yn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ci(s){return s&&(s.hasOwnProperty(En)||s.hasOwnProperty(Qi))?s[En]:null}const Re=J({\u0275prov:J}),En=J({\u0275inj:J}),Rn=J({ngInjectableDef:J}),Qi=J({ngInjectorDef:J});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let $n;function ln(s){const o=$n;return $n=s,o}function or(s,o,l){const u=kt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&$e.Optional?null:void 0!==o?o:void Xt(ne(s),"Injector")}function Xn(s){return{toString:s}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),je=(()=>((je=je||{})[je.Emulated=0]="Emulated",je[je.None=2]="None",je[je.ShadowDom=3]="ShadowDom",je))();const Qe="undefined"!=typeof globalThis&&globalThis,Tr="undefined"!=typeof window&&window,an="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=Qe||"undefined"!=typeof global&&global||Tr||an,Tt={},wt=[],Ot=J({\u0275cmp:J}),Le=J({\u0275dir:J}),Ce=J({\u0275pipe:J}),nt=J({\u0275mod:J}),se=J({\u0275loc:J}),pe=J({\u0275fac:J}),De=J({__NG_ELEMENT_ID__:J});let H=0;function O(s){return Xn(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||wt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||je.Emulated,id:"c",styles:s.styles||wt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,f=s.features,m=s.pipes;return u.id+=H++,u.inputs=Pe(s.inputs,l),u.outputs=Pe(s.outputs),f&&f.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ae):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(R):null,u})}function ae(s){return qe(s)||function(s){return s[Le]||null}(s)}function R(s){return function(s){return s[Ce]||null}(s)}const N={};function $(s){return Xn(()=>{const o={type:s.type,bootstrap:s.bootstrap||wt,declarations:s.declarations||wt,imports:s.imports||wt,exports:s.exports||wt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(N[s.id]=s.type),o})}function ce(s,o){return Xn(()=>{const l=cn(s,!0);l.declarations=o.declarations||wt,l.imports=o.imports||wt,l.exports=o.exports||wt})}function Pe(s,o){if(null==s)return Tt;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),l[h]=u,o&&(o[h]=f)}return l}const Ke=O;function ft(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function qe(s){return s[Ot]||null}function cn(s,o){const l=s[nt]||null;if(!l&&!0===o)throw new Error(`Type ${ne(s)} does not have '\u0275mod' property.`);return l}function Sr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ir(s){return Array.isArray(s)&&!0===s[1]}function za(s){return 0!=(8&s.flags)}function No(s){return 2==(2&s.flags)}function Fo(s){return 1==(1&s.flags)}function Zr(s){return null!==s.template}function ji(s){return 0!=(512&s[2])}function vr(s,o){return s.hasOwnProperty(pe)?s[pe]:null}class Kr{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function fi(){return ya}function ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=cg),Ar}function Ar(){const s=bu(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Tt)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function cg(s,o,l,u){const h=bu(s)||function(s,o){return s[Zl]=o}(s,{previous:Tt,current:null}),f=h.current||(h.current={}),m=h.previous,v=this.declaredInputs[l],C=m[v];f[v]=new Kr(C&&C.currentValue,o,m===Tt),s[u]=o}fi.ngInherit=!0;const Zl="__ngSimpleChanges__";function bu(s){return s[Zl]||null}const Kl="http://www.w3.org/2000/svg";let Hi;function wh(s){Hi=s}function si(s){return!!s.listen}const lr={createRenderer:(s,o)=>void 0!==Hi?Hi:"undefined"!=typeof document?document:void 0};function Pn(s){for(;Array.isArray(s);)s=s[0];return s}function X(s,o){return Pn(o[s])}function fe(s,o){return Pn(o[s.index])}function We(s,o){return s.data[o]}function yt(s,o){return s[o]}function pn(s,o){const l=o[s];return Sr(l)?l:l[0]}function xi(s){return 4==(4&s[2])}function zn(s){return 128==(128&s[2])}function St(s,o){return null==o?null:s[o]}function Gs(s){s[18]=0}function xr(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const mt={lFrame:my(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tl(){return mt.bindingsEnabled}function xe(){return mt.lFrame.lView}function rn(){return mt.lFrame.tView}function Ql(s){return mt.lFrame.contextLView=s,s[8]}function Kn(){let s=Jl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Jl(){return mt.lFrame.currentTNode}function Rr(s,o){const l=mt.lFrame;l.currentTNode=s,l.isParent=o}function Xl(){return mt.lFrame.isParent}function nl(){mt.lFrame.isParent=!1}function Cu(){return mt.isInCheckNoChangesMode}function il(s){mt.isInCheckNoChangesMode=s}function Gi(){const s=mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Qr(){return mt.lFrame.bindingIndex}function Es(){return mt.lFrame.bindingIndex++}function kr(s){const o=mt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function ug(s,o){const l=mt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Th(o)}function Th(s){mt.lFrame.currentDirectiveIndex=s}function ec(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Sh(){return mt.lFrame.currentQueryIndex}function ba(s){mt.lFrame.currentQueryIndex=s}function dg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Tu(s,o,l){if(l&$e.SkipSelf){let h=o,f=s;for(;!(h=h.parent,null!==h||l&$e.Host||(h=dg(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;o=h,s=f}const u=mt.lFrame=Iu();return u.currentTNode=o,u.lView=s,!0}function Su(s){const o=Iu(),l=s[1];mt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Iu(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?my(s):o}function my(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hg(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ih=hg;function tc(){const s=hg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cr(){return mt.lFrame.selectedIndex}function uo(s){mt.lFrame.selectedIndex=s}function pi(){const s=mt.lFrame;return We(s.tView,s.selectedIndex)}function Mh(){mt.lFrame.currentNamespace=Kl}function sl(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const f=s.data[l].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:S}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-l,m),v&&((s.contentHooks||(s.contentHooks=[])).push(l,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,v)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),D&&((s.viewHooks||(s.viewHooks=[])).push(l,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,D)),null!=S&&(s.destroyHooks||(s.destroyHooks=[])).push(l,S)}}function ol(s,o,l){fg(s,o,3,l)}function al(s,o,l,u){(3&s[2])===l&&fg(s,o,l,u)}function kh(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function fg(s,o,l,u){const f=null!=u?u:-1,m=o.length-1;let v=0;for(let C=void 0!==u?65535&s[18]:0;C<m;C++)if("number"==typeof o[C+1]){if(v=o[C],null!=u&&v>=u)break}else o[C]<0&&(s[18]+=65536),(v<f||-1==f)&&(pg(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function pg(s,o,l,u){const h=l[u]<0,f=l[u+1],v=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Au{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Nh(s,o,l){const u=si(s);let h=0;for(;h<l.length;){const f=l[h];if("number"==typeof f){if(0!==f)break;h++;const m=l[h++],v=l[h++],C=l[h++];u?s.setAttribute(o,v,C,m):o.setAttributeNS(m,v,C)}else{const m=f,v=l[++h];ho(m)?u&&s.setProperty(o,m,v):u?s.setAttribute(o,m,v):o.setAttribute(m,v),h++}}return h}function Fh(s){return 3===s||4===s||6===s}function ho(s){return 64===s.charCodeAt(0)}function Lh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||vy(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function vy(s,o,l,u,h){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const v=s[f++];if("number"==typeof v){if(v===o){m=-1;break}if(v>o){m=f-1;break}}}for(;f<s.length;){const v=s[f];if("number"==typeof v)break;if(v===l){if(null===u)return void(null!==h&&(s[f+1]=h));if(u===s[f+1])return void(s[f+2]=h)}f++,null!==u&&f++,null!==h&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,l),null!==u&&s.splice(f++,0,u),null!==h&&s.splice(f++,0,h)}function Vh(s){return-1!==s}function fo(s){return 32767&s}function wa(s,o){let l=function(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let mg=!0;function Mu(s){const o=mg;return mg=s,o}let yg=0;function jo(s,o){const l=Yn(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Uh(u.data,s),Uh(o,null),Uh(u.blueprint,null));const h=tt(s,o),f=s.injectorIndex;if(Vh(h)){const m=fo(h),v=wa(h,o),C=v[1].data;for(let D=0;D<8;D++)o[f+D]=v[m+D]|C[m+D]}return o[f+8]=h,f}function Uh(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Yn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function tt(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const f=h[1],m=f.type;if(u=2===m?f.declTNode:1===m?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function at(s,o,l){!function(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(De)&&(u=l[De]),null==u&&(u=l[De]=yg++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function br(s,o,l){if(l&$e.Optional)return s;Xt(o,"NodeInjector")}function xu(s,o,l,u){if(l&$e.Optional&&void 0===u&&(u=null),0==(l&($e.Self|$e.Host))){const h=s[9],f=ln(void 0);try{return h?h.get(o,u,l&$e.Optional):or(o,u,l&$e.Optional)}finally{ln(f)}}return br(u,o,l)}function Ca(s,o,l,u=$e.Default,h){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(De)?s[De]:void 0;return"number"==typeof o?o>=0?255&o:wy:o}(l);if("function"==typeof f){if(!Tu(o,s,u))return u&$e.Host?br(h,l,u):xu(o,l,u,h);try{const m=f(u);if(null!=m||u&$e.Optional)return m;Xt(l)}finally{Ih()}}else if("number"==typeof f){let m=null,v=Yn(s,o),C=-1,D=u&$e.Host?o[16][6]:null;for((-1===v||u&$e.SkipSelf)&&(C=-1===v?tt(s,o):o[v+8],-1!==C&&jh(u,!1)?(m=o[1],v=fo(C),o=wa(C,o)):v=-1);-1!==v;){const S=o[1];if(ku(f,v,S.data)){const x=rc(v,o,l,m,u,D);if(x!==$i)return x}C=o[v+8],-1!==C&&jh(u,o[1].data[v+8]===D)&&ku(f,v,o)?(m=S,v=fo(C),o=wa(C,o)):v=-1}}}return xu(o,l,u,h)}const $i={};function wy(){return new Ho(Kn(),xe())}function rc(s,o,l,u,h,f){const m=o[1],v=m.data[s+8],S=Ru(v,m,l,null==u?No(v)&&mg:u!=m&&0!=(3&v.type),h&$e.Host&&f===v);return null!==S?Bt(o,m,S,v):$i}function Ru(s,o,l,u,h){const f=s.providerIndexes,m=o.data,v=1048575&f,C=s.directiveStart,S=f>>20,F=h?v+S:s.directiveEnd;for(let Y=u?v:v+S;Y<F;Y++){const K=m[Y];if(Y<C&&l===K||Y>=C&&K.type===l)return Y}if(h){const Y=m[C];if(Y&&Zr(Y)&&Y.type===l)return C}return null}function Bt(s,o,l,u){let h=s[l];const f=o.data;if(function(s){return s instanceof Au}(h)){const m=h;m.resolving&&function(s,o){throw new Ae("200",`Circular dependency in DI detected for ${s}`)}(Fe(f[l]));const v=Mu(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?ln(m.injectImpl):null;Tu(s,u,$e.Default);try{h=s[l]=m.factory(void 0,f,s,u),o.firstCreatePass&&l>=u.directiveStart&&function(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:f}=o.type.prototype;if(u){const m=ya(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,f))}(l,f[l],o)}finally{null!==C&&ln(C),Mu(v),m.resolving=!1,Ih()}}return h}function ku(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function jh(s,o){return!(s&$e.Self||s&$e.Host&&o)}class Ho{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Ca(this._tNode,this._lView,o,u,l)}}function vg(s){return Xn(()=>{const o=s.prototype.constructor,l=o[pe]||Hh(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const f=h[pe]||Hh(h);if(f&&f!==l)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function Hh(s){return ie(s)?()=>{const o=Hh(G(s));return o&&o()}:vr(s)}function Gh(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const f=l[h];if(Fh(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(f===o)return l[h+1];h+=2}}}return null}(Kn(),s)}const cs="__parameters__";function go(s,o,l){return Xn(()=>{const u=function(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...f){if(this instanceof h)return u.apply(this,f),this;const m=new h(...f);return v.annotation=m,v;function v(C,D,S){const x=C.hasOwnProperty(cs)?C[cs]:Object.defineProperty(C,cs,{value:[]})[cs];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(m),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class ei{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Zt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const s0=new ei("AnalyzeForEntryComponents"),Pu=Function;function us(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),us(u,o)):o!==s&&o.push(u)}return o}function Ws(s,o){s.forEach(l=>Array.isArray(l)?Ws(l,o):o(l))}function lc(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ta(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Go(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function gi(s,o,l){let u=$o(s,o);return u>=0?s[1|u]=l:(u=~u,function(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function ki(s,o){const l=$o(s,o);if(l>=0)return s[1|l]}function $o(s,o){return function(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const f=u+(h-u>>1),m=s[f<<l];if(o===m)return f<<l;m>o?h=f:u=f+1}return~(h<<l)}(s,o,1)}const hc={},fc="__NG_DI_FLAG__",Sa="ngTempTokenPath",Tg=/\n/gm,Kh="__source",Lu=J({provide:String,useValue:J});let zo;function Pt(s){const o=zo;return zo=s,o}function Sy(s,o=$e.Default){if(void 0===zo)throw new Error("inject() must be called from an injection context");return null===zo?or(s,void 0,o):zo.get(s,o&$e.Optional?null:void 0,o)}function Nn(s,o=$e.Default){return($n||Sy)(G(s),o)}const Jh=Nn;function _o(s){const o=[];for(let l=0;l<s.length;l++){const u=G(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let h,f=$e.Default;for(let m=0;m<u.length;m++){const v=u[m],C=Xh(v);"number"==typeof C?-1===C?h=v.token:f|=C:h=v}o.push(Nn(h,f))}else o.push(Nn(u))}return o}function Ia(s,o){return s[fc]=o,s.prototype[fc]=o,s}function Xh(s){return s[fc]}function Ss(s,o,l,u){const h=s[Sa];throw o[Kh]&&h.unshift(o[Kh]),s.message=function(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ne(o);if(Array.isArray(o))h=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let v=o[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):ne(v)))}h=`{${f.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Tg,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Sa]=null,s}const Aa=Ia(go("Inject",s=>({token:s})),-1),qo=Ia(go("Optional"),8),Xi=Ia(go("SkipSelf"),4);let Ma;function vo(s){var o;return(null===(o=function(){if(void 0===Ma&&(Ma=null,Ht.trustedTypes))try{Ma=Ht.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ma}())||void 0===o?void 0:o.createHTML(s))||s}class xa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xy extends xa{getTypeName(){return"HTML"}}class Ry extends xa{getTypeName(){return"Style"}}class zu extends xa{getTypeName(){return"Script"}}class ky extends xa{getTypeName(){return"URL"}}class Oy extends xa{getTypeName(){return"ResourceURL"}}function bo(s){return s instanceof xa?s.changingThisBreaksApplicationSecurity:s}function Ko(s,o){const l=Mg(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Mg(s){return s instanceof xa&&s.getTypeName()||null}function xg(s){return new xy(s)}function sf(s){return new Ry(s)}function af(s){return new zu(s)}function wo(s){return new ky(s)}function fl(s){return new Oy(s)}class Rg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(vo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Py{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=vo(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=vo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const m=l.item(h).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&o.removeAttribute(m)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const qu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ml(s){return(s=String(s)).match(qu)||s.match(gl)?s:"unsafe:"+s}function Is(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Co(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Wu=Is("area,br,col,hr,img,wbr"),cf=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_l=Is("rp,rt"),kg=Co(Wu,Co(cf,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Co(_l,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Co(_l,cf)),b=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g=Is("srcset"),I=Co(b,g,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),M=Is("script,style,template");class Q{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!kg.hasOwnProperty(l))return this.sanitizedSomething=!0,!M.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const f=u.item(h),m=f.name,v=m.toLowerCase();if(!I.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=f.value;b[v]&&(C=ml(C)),g[v]&&(s=C,C=(s=String(s)).split(",").map(o=>ml(o.trim())).join(", ")),this.buf.push(" ",m,'="',Be(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();kg.hasOwnProperty(l)&&!Wu.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Be(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const we=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Je=/([^\#-~ |!])/g;function Be(s){return s.replace(/&/g,"&amp;").replace(we,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Je,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ht;function un(s,o){let l=null;try{ht=ht||function(s){const o=new Py(s);return function(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch(s){return!1}}()?new Rg(o):o}(s);let u=o?String(o):"";l=ht.getInertBodyElement(u);let h=5,f=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=f,f=l.innerHTML,l=ht.getInertBodyElement(u)}while(u!==f);return vo((new Q).sanitizeChildren(Fn(l)||l))}finally{if(l){const u=Fn(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Fn(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Zu(s){const o=function(){const s=xe();return s&&s[12]}();return o?o.sanitize(Ln.URL,s)||"":Ko(s,"URL")?bo(s):ml(_e(s))}const Xu="__ngContext__";function dr(s,o){s[Xu]=o}function Ly(s){const o=function(s){return s[Xu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function wc(s){return s.ngOriginalError}function yA(s,...o){s.error(...o)}class nd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=this._findContext(o),h=(s=o)&&s.ngErrorLogger||yA;var s;h(this._console,"ERROR",o),l&&h(this._console,"ORIGINAL ERROR",l),u&&h(this._console,"ERROR CONTEXT",u)}_findContext(o){return o?o.ngDebugContext||this._findContext(wc(o)):null}_findOriginalError(o){let l=o&&wc(o);for(;l&&wc(l);)l=wc(l);return l||null}}const v0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function Qo(s){return s instanceof Function?s():s}var Jo=(()=>((Jo=Jo||{})[Jo.Important=1]="Important",Jo[Jo.DashCase=2]="DashCase",Jo))();function Ug(s,o){return undefined(s,o)}function pf(s){const o=s[3];return Ir(o)?o[3]:o}function jg(s){return $y(s[13])}function D0(s){return $y(s[4])}function $y(s){for(;null!==s&&!Ir(s);)s=s[4];return s}function Cc(s,o,l,u,h){if(null!=u){let f,m=!1;Ir(u)?f=u:Sr(u)&&(m=!0,u=u[0]);const v=Pn(u);0===s&&null!==l?null==h?M0(o,l,v):bl(o,l,v,h||null,!0):1===s&&null!==l?bl(o,l,v,h||null,!0):2===s?function(s,o,l){const u=zg(s,o);u&&function(s,o,l,u){si(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,v,m):3===s&&o.destroyNode(v),null!=f&&function(s,o,l,u,h){const f=l[7];f!==Pn(l)&&Cc(o,s,u,f,h);for(let v=10;v<l.length;v++){const C=l[v];Dc(C[1],C,s,o,u,f)}}(o,s,f,l,h)}}function zy(s,o,l){return si(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function Gg(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,xr(h,-1)),l.splice(u,1)}function $g(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Gg(h,u),o>0&&(s[l-1][4]=u[4]);const f=Ta(s,10+o);!function(s,o){Dc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const m=f[19];null!==m&&m.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function S0(s,o){if(!(256&o[2])){const l=o[11];si(l)&&l.destroyNode&&Dc(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return vl(s[1],s);for(;o;){let l=null;if(Sr(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)Sr(o)&&vl(o[1],o),o=o[3];null===o&&(o=s),Sr(o)&&vl(o[1],o),l=o&&o[4]}o=l}}(o)}}function vl(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Au)){const f=l[u+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=h[f[m]],C=f[m+1];try{C.call(v)}finally{}}else try{f.call(h)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const m=l[f+1],v="function"==typeof m?m(o):Pn(o[m]),C=u[h=l[f+2]],D=l[f+3];"boolean"==typeof D?v.removeEventListener(l[f],C,D):D>=0?u[h=D]():u[h=-D].unsubscribe(),f+=2}else{const m=u[h=l[f+1]];l[f].call(m)}if(null!==u){for(let f=h+1;f<u.length;f++)u[f]();o[7]=null}}(s,o),1===o[1].type&&si(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Ir(o[3])){l!==o[3]&&Gg(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function I0(s,o,l){return function(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===je.None||h===je.Emulated)return null}return fe(u,l)}(s,o.parent,l)}function bl(s,o,l,u,h){si(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function M0(s,o,l){si(s)?s.appendChild(o,l):o.appendChild(l)}function x0(s,o,l,u,h){null!==u?bl(s,o,l,u,h):M0(s,o,l)}function zg(s,o){return si(s)?s.parentNode(o):o.parentNode}function gf(s,o,l){return Ec(s,o,l)}let Ec=function(s,o,l){return 40&s.type?fe(s,l):null};function rd(s,o,l,u){const h=I0(s,u,o),f=o[11],v=gf(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)x0(f,h,l[C],v,!1);else x0(f,h,l,v,!1)}function Yg(s,o){if(null!==o){const l=o.type;if(3&l)return fe(o,s);if(4&l)return Zy(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Yg(s,u);{const h=s[o.index];return Ir(h)?Zy(-1,h):Pn(h)}}if(32&l)return Ug(o,s)()||Pn(s[o.index]);{const u=Yy(s,o);return null!==u?Array.isArray(u)?u[0]:Yg(pf(s[16]),u):Yg(s,o.next)}}return null}function Yy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Zy(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Yg(u,h)}return o[7]}function Zg(s,o,l,u,h,f,m){for(;null!=l;){const v=u[l.index],C=l.type;if(m&&0===o&&(v&&dr(Pn(v),u),l.flags|=4),64!=(64&l.flags))if(8&C)Zg(s,o,l.child,u,h,f,!1),Cc(o,s,h,v,f);else if(32&C){const D=Ug(l,u);let S;for(;S=D();)Cc(o,s,h,S,f);Cc(o,s,h,v,f)}else 16&C?wl(s,o,u,l,h,f):Cc(o,s,h,v,f);l=m?l.projectionNext:l.next}}function Dc(s,o,l,u,h,f){Zg(l,u,s.firstChild,o,h,f,!1)}function wl(s,o,l,u,h,f){const m=l[16],C=m[6].projection[u.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Cc(o,s,h,C[D],f);else Zg(s,o,C,m[3],h,f,!0)}function O0(s,o,l){si(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Qy(s,o,l){si(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Jy(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const f=o.length;if(h+f===u||s.charCodeAt(h+f)<=32)return h}l=h+1}}const P0="ng-template";function LA(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==Jy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Xy(s){return 4===s.type&&s.value!==P0}function VA(s,o,l){return o===(4!==s.type||l?s.value:P0)}function BA(s,o,l){let u=4;const h=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Fh(s[o]))return o;return s.length}(h);let m=!1;for(let v=0;v<o.length;v++){const C=o[v];if("number"!=typeof C){if(!m)if(4&u){if(u=2|1&u,""!==C&&!VA(s,C,l)||""===C&&1===o.length){if(Eo(u))return!1;m=!0}}else{const D=8&u?C:o[++v];if(8&u&&null!==s.attrs){if(!LA(s.attrs,D,l)){if(Eo(u))return!1;m=!0}continue}const x=ev(8&u?"class":C,h,Xy(s),l);if(-1===x){if(Eo(u))return!1;m=!0;continue}if(""!==D){let F;F=x>f?"":h[x+1].toLowerCase();const Y=8&u?F:null;if(Y&&-1!==Jy(Y,D,0)||2&u&&D!==F){if(Eo(u))return!1;m=!0}}}}else{if(!m&&!Eo(u)&&!Eo(C))return!1;if(m&&Eo(C))continue;m=!1,u=C|1&u}}return Eo(u)||m}function Eo(s){return 0==(1&s)}function ev(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let f=!1;for(;h<o.length;){const m=o[h];if(m===s)return h;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=o[++h];for(;"string"==typeof v;)v=o[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=f?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function N0(s,o,l=!1){for(let u=0;u<o.length;u++)if(BA(s,o[u],l))return!0;return!1}function zN(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function HA(s,o){return s?":not("+o.trim()+")":o}function qN(s){let o=s[0],l=1,u=2,h="",f=!1;for(;l<s.length;){let m=s[l];if("string"==typeof m)if(2&u){const v=s[++l];h+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?h+="."+m:4&u&&(h+=" "+m);else""!==h&&!Eo(m)&&(o+=HA(f,h),h=""),u=m,f=f||!Eo(u);l++}return""!==h&&(o+=HA(f,h)),o}const It={};function L0(s){V0(rn(),xe(),cr()+s,Cu())}function V0(s,o,l,u){if(!u)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&ol(o,f,l)}else{const f=s.preOrderHooks;null!==f&&al(o,f,0,l)}uo(l)}function Kg(s,o){return s<<17|o<<2}function Xo(s){return s>>17&32767}function sd(s){return 2|s}function Cl(s){return(131068&s)>>2}function B0(s,o){return-131069&s|o<<2}function nv(s){return 1|s}function XA(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],f=l[u+1];if(-1!==f){const m=s.data[f];ba(h),m.contentQueries(2,o[f],f)}}}function Qg(s,o,l,u,h,f,m,v,C,D){const S=o.blueprint.slice();return S[0]=h,S[2]=140|u,Gs(S),S[3]=S[15]=s,S[8]=l,S[10]=m||s&&s[10],S[11]=v||s&&s[11],S[12]=C||s&&s[12]||null,S[9]=D||s&&s[9]||null,S[6]=f,S[16]=2==o.type?s[16]:S,S}function mf(s,o,l,u,h){let f=s.data[o];if(null===f)f=function(s,o,l,u,h){const f=Jl(),m=Xl(),C=s.data[o]=function(s,o,l,u,h,f){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==f&&(m?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(s,o,l,u,h),mt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=u,f.attrs=h;const m=function(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Rr(f,!0),f}function od(s,o,l,u){if(0===l)return-1;const h=o.length;for(let f=0;f<l;f++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Jg(s,o,l){Su(o);try{const u=s.viewQuery;null!==u&&cv(1,u,l);const h=s.template;null!==h&&eM(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&XA(s,o),s.staticViewQueries&&cv(2,s.viewQuery,l);const f=s.components;null!==f&&function(s,o){for(let l=0;l<o.length;l++)TF(s,o[l])}(o,f)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,tc()}}function _f(s,o,l,u){const h=o[2];if(256==(256&h))return;Su(o);const f=Cu();try{Gs(o),function(s){mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&eM(s,o,l,2,u);const m=3==(3&h);if(!f)if(m){const D=s.preOrderCheckHooks;null!==D&&ol(o,D,null)}else{const D=s.preOrderHooks;null!==D&&al(o,D,0,null),kh(o,0)}if(function(s){for(let o=jg(s);null!==o;o=D0(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],f=h[3];0==(1024&h[2])&&xr(f,1),h[2]|=1024}}}(o),function(s){for(let o=jg(s);null!==o;o=D0(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];zn(u)&&_f(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&XA(s,o),!f)if(m){const D=s.contentCheckHooks;null!==D&&ol(o,D)}else{const D=s.contentHooks;null!==D&&al(o,D,1),kh(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)uo(~h);else{const f=h,m=l[++u],v=l[++u];ug(m,f),v(2,o[f])}}}finally{uo(-1)}}(s,o);const v=s.components;null!==v&&function(s,o){for(let l=0;l<o.length;l++)DF(s,o[l])}(o,v);const C=s.viewQuery;if(null!==C&&cv(2,C,u),!f)if(m){const D=s.viewCheckHooks;null!==D&&ol(o,D)}else{const D=s.viewHooks;null!==D&&al(o,D,2),kh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,xr(o[3],-1))}finally{tc()}}function sF(s,o,l,u){const h=o[10],f=!Cu(),m=xi(o);try{f&&!m&&h.begin&&h.begin(),m&&Jg(s,o,u),_f(s,o,l,u)}finally{f&&!m&&h.end&&h.end()}}function eM(s,o,l,u,h){const f=cr(),m=2&u;try{uo(-1),m&&o.length>20&&V0(s,o,20,Cu()),l(u,h)}finally{uo(f)}}function tM(s,o,l){if(za(o)){const h=o.directiveEnd;for(let f=o.directiveStart;f<h;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,l[f],f)}}}function W0(s,o,l){!tl()||(function(s,o,l,u){const h=l.directiveStart,f=l.directiveEnd;s.firstCreatePass||jo(l,o),dr(u,o);const m=l.initialInputs;for(let v=h;v<f;v++){const C=s.data[v],D=Zr(C);D&&vF(o,l,C);const S=Bt(o,s,v,l);dr(S,o),null!==m&&bF(0,v-h,S,C,0,m),D&&(pn(l.index,o)[8]=S)}}(s,o,l,fe(l,o)),128==(128&l.flags)&&function(s,o,l){const u=l.directiveStart,h=l.directiveEnd,m=l.index,v=mt.lFrame.currentDirectiveIndex;try{uo(m);for(let C=u;C<h;C++){const D=s.data[C],S=o[C];Th(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&cM(D,S)}}finally{uo(-1),Th(v)}}(s,o,l))}function Y0(s,o,l=fe){const u=o.localNames;if(null!==u){let h=o.index+1;for(let f=0;f<u.length;f+=2){const m=u[f+1],v=-1===m?l(o,s):s[m];s[h++]=v}}}function nM(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=av(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function av(s,o,l,u,h,f,m,v,C,D){const S=20+u,x=S+h,F=function(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:It);return l}(S,x),Y="function"==typeof D?D():D;return F[1]={type:s,blueprint:F,template:l,queries:null,viewQuery:v,declTNode:o,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:Y,incompleteFirstPass:!1}}function sM(s,o,l,u){const h=X0(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&El(s).push(u,h.length-1))}function oM(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Zs(s,o,l,u,h,f,m,v){const C=fe(o,l);let S,D=o.inputs;!v&&null!=D&&(S=D[u])?(Vn(s,l,S,u,h),No(o)&&function(s,o){const l=pn(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=m?m(h,o.value||"",u):h,si(f)?f.setProperty(C,u,h):ho(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function Z0(s,o,l,u){let h=!1;if(tl()){const f=function(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let f=0;f<u.length;f++){const m=u[f];N0(l,m.selectors,!1)&&(h||(h=[]),at(jo(l,o),s,m.type),Zr(m)?(uM(s,l),h.unshift(m)):h.push(m))}return h}(s,o,l),m=null===u?null:{"":-1};if(null!==f){h=!0,dM(l,s.data.length,f.length);for(let S=0;S<f.length;S++){const x=f[S];x.providersResolver&&x.providersResolver(x)}let v=!1,C=!1,D=od(s,o,f.length,null);for(let S=0;S<f.length;S++){const x=f[S];l.mergedAttrs=Lh(l.mergedAttrs,x.hostAttrs),hM(s,l,o,D,x),yF(D,x,m),null!==x.contentQueries&&(l.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(l.flags|=128);const F=x.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!C&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),D++}!function(s,o){const u=o.directiveEnd,h=s.data,f=o.attrs,m=[];let v=null,C=null;for(let D=o.directiveStart;D<u;D++){const S=h[D],x=S.inputs,F=null===f||Xy(o)?null:wF(x,f);m.push(F),v=oM(x,D,v),C=oM(S.outputs,D,C)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=16),v.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=m,o.inputs=v,o.outputs=C}(s,l)}m&&function(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const f=l[o[h+1]];if(null==f)throw new Ae("301",`Export of name '${o[h+1]}' not found!`);u.push(o[h],f)}}}(l,u,m)}return l.mergedAttrs=Lh(l.mergedAttrs,l.attrs),h}function lM(s,o,l,u,h,f){const m=f.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const C=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=C&&v.push(C),v.push(u,h,m)}}function cM(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function uM(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function yF(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Zr(o)&&(l[""]=s)}}function dM(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function hM(s,o,l,u,h){s.data[u]=h;const f=h.factory||(h.factory=vr(h.type)),m=new Au(f,Zr(h),null);s.blueprint[u]=m,l[u]=m,lM(s,o,0,u,od(s,l,h.hostVars,It),h)}function vF(s,o,l){const u=fe(o,s),h=nM(l),f=s[10],m=lv(s,Qg(s,h,null,l.onPush?64:16,u,o,f,f.createRenderer(u,l),null,null));s[o.index]=m}function Ra(s,o,l,u,h,f){const m=fe(s,o);!function(s,o,l,u,h,f,m){if(null==f)si(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const v=null==m?_e(f):m(f,u||"",h);si(s)?s.setAttribute(o,h,v,l):l?o.setAttributeNS(l,h,v):o.setAttribute(h,v)}}(o[11],m,f,s.value,l,u,h)}function bF(s,o,l,u,h,f){const m=f[o];if(null!==m){const v=u.setInput;for(let C=0;C<m.length;){const D=m[C++],S=m[C++],x=m[C++];null!==v?u.setInput(l,x,D,S):l[S]=x}}}function wF(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function fM(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function DF(s,o){const l=pn(o,s);if(zn(l)){const u=l[1];80&l[2]?_f(u,l,u.template,l[8]):l[5]>0&&Q0(l)}}function Q0(s){for(let u=jg(s);null!==u;u=D0(u))for(let h=10;h<u.length;h++){const f=u[h];if(1024&f[2]){const m=f[1];_f(m,f,m.template,f[8])}else f[5]>0&&Q0(f)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=pn(l[u],s);zn(h)&&h[5]>0&&Q0(h)}}function TF(s,o){const l=pn(o,s),u=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Jg(u,l,l[8])}function lv(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function J0(s){for(;s;){s[2]|=64;const o=pf(s);if(ji(s)&&!o)return s;s=o}return null}function ad(s,o,l){const u=o[10];u.begin&&u.begin();try{_f(s,o,s.template,l)}catch(h){throw tE(o,h),h}finally{u.end&&u.end()}}function Xg(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Ly(l),h=u[1];sF(h,u,h.template,l)}}(s[8])}function cv(s,o,l){ba(0),o(s,l)}const _M=(()=>Promise.resolve(null))();function X0(s){return s[7]||(s[7]=[])}function El(s){return s.cleanup||(s.cleanup=[])}function eE(s,o,l){return(null===s||Zr(s))&&(l=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function tE(s,o){const l=s[9],u=l?l.get(nd,null):null;u&&u.handleError(o)}function Vn(s,o,l,u,h){for(let f=0;f<l.length;){const m=l[f++],v=l[f++],C=o[m],D=s.data[m];null!==D.setInput?D.setInput(C,h,u,v):C[v]=h}}function ka(s,o,l){const u=X(o,s);!function(s,o,l){si(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function em(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?f=v:1==f?h=ee(h,v):2==f&&(u=ee(u,v+": "+o[++m]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const Ic=new ei("INJECTOR",-1);class Pi{get(o,l=hc){if(l===hc){const u=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw u.name="NullInjectorError",u}return l}}const To=new ei("Set Injector scope."),tm={},uv={};let Sn;function ld(){return void 0===Sn&&(Sn=new Pi),Sn}function dv(s,o=null,l=null,u){return new MF(s,l,o||ld(),u)}class MF{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];l&&Ws(l,v=>this.processProvider(v,o,l)),Ws([o],v=>this.processInjectorType(v,[],f)),this.records.set(Ic,Ks(void 0,this));const m=this.records.get(To);this.scope=null!=m?m.value:null,this.source=h||("object"==typeof o?null:ne(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=hc,u=$e.Default){this.assertNotDestroyed();const h=Pt(this),f=ln(void 0);try{if(!(u&$e.SkipSelf)){let v=this.records.get(o);if(void 0===v){const C=("function"==typeof(s=o)||"object"==typeof s&&s instanceof ei)&&kt(o);v=C&&this.injectableDefInScope(C)?Ks(Ac(o),tm):null,this.records.set(o,v)}if(null!=v)return this.hydrate(o,v)}return(u&$e.Self?ld():this.parent).get(o,l=u&$e.Optional&&l===hc?null:l)}catch(m){if("NullInjectorError"===m.name){if((m[Sa]=m[Sa]||[]).unshift(ne(o)),h)throw m;return Ss(m,o,"R3InjectorError",this.source)}throw m}finally{ln(f),Pt(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ne(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=G(o)))return!1;let h=Ci(o);const f=null==h&&o.ngModule||void 0,m=void 0===f?o:f,v=-1!==u.indexOf(m);if(void 0!==f&&(h=Ci(f)),null==h)return!1;if(null!=h.imports&&!v){let S;u.push(m);try{Ws(h.imports,x=>{this.processInjectorType(x,l,u)&&(void 0===S&&(S=[]),S.push(x))})}finally{}if(void 0!==S)for(let x=0;x<S.length;x++){const{ngModule:F,providers:Y}=S[x];Ws(Y,K=>this.processProvider(K,F,Y||wt))}}this.injectorDefTypes.add(m);const C=vr(m)||(()=>new m);this.records.set(m,Ks(C,tm));const D=h.providers;if(null!=D&&!v){const S=o;Ws(D,x=>this.processProvider(x,S,D))}return void 0!==f&&void 0!==o.providers}processProvider(o,l,u){let h=ud(o=G(o))?o:G(o&&o.provide);const f=hv(s=o)?Ks(void 0,s.useValue):Ks(yf(s),tm);var s;if(ud(o)||!0!==o.multi)this.records.get(h);else{let m=this.records.get(h);m||(m=Ks(void 0,tm,!0),m.factory=()=>_o(m.multi),this.records.set(h,m)),h=o,m.multi.push(o)}this.records.set(h,f)}hydrate(o,l){return l.value===tm&&(l.value=uv,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=G(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Ac(s){const o=kt(s),l=null!==o?o.factory:vr(s);if(null!==l)return l;if(s instanceof ei)throw new Error(`Token ${ne(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const u=Go(o,"?");throw new Error(`Can't resolve all parameters for ${ne(s)}: (${u.join(", ")}).`)}const l=function(s){const o=s&&(s[Re]||s[Rn]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function yf(s,o,l){let u;if(ud(s)){const h=G(s);return vr(h)||Ac(h)}if(hv(s))u=()=>G(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(..._o(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))u=()=>Nn(G(s.useExisting));else{const h=G(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return vr(h)||Ac(h);u=()=>new h(..._o(s.deps))}return u}function Ks(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function hv(s){return null!==s&&"object"==typeof s&&Lu in s}function ud(s){return"function"==typeof s}const gv=function(s,o,l){return function(s,o=null,l=null,u){const h=dv(s,o,l,u);return h._resolveInjectorDefTypes(),h}({name:l},o,s,l)};let ti=(()=>{class s{static create(l,u){return Array.isArray(l)?gv(l,u,""):gv(l.providers,l.parent,l.name||"")}}return s.THROW_IF_NOT_FOUND=hc,s.NULL=new Pi,s.\u0275prov=Zt({token:s,providedIn:"any",factory:()=>Nn(Ic)}),s.__NG_ELEMENT_ID__=-1,s})();function cE(s,o){sl(Ly(s)[1],Kn())}function am(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Zr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(l){u.push(h);const m=s;m.inputs=lm(s.inputs),m.declaredInputs=lm(s.declaredInputs),m.outputs=lm(s.outputs);const v=h.hostBindings;v&&hE(s,v);const C=h.viewQuery,D=h.contentQueries;if(C&&dE(s,C),D&&VM(s,D),te(s.inputs,h.inputs),te(s.declaredInputs,h.declaredInputs),te(s.outputs,h.outputs),Zr(h)&&h.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(s),v===am&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Lh(h.hostAttrs,l=Lh(l,h.hostAttrs))}}(u)}function lm(s){return s===Tt?{}:s===wt?[]:s}function dE(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function VM(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,f)=>{o(u,h,f),l(u,h,f)}:o}function hE(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let xc=null;function hs(){if(!xc){const s=Ht.Symbol;if(s&&s.iterator)xc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(xc=u)}}}return xc}class Qs{constructor(o){this.wrapped=o}static wrap(o){return new Qs(o)}static unwrap(o){return Qs.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof Qs}}function hd(s){return!!bv(s)&&(Array.isArray(s)||!(s instanceof Map)&&hs()in s)}function bv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Io(s,o,l){return s[o]=l}function An(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function fd(s,o,l,u){const h=An(s,o,l);return An(s,o+1,u)||h}function cm(s,o,l,u){const h=xe();return An(h,Es(),o)&&(rn(),Ra(pi(),h,s,o,l,u)),cm}function Ef(s,o,l,u,h,f,m,v,C,D){const x=function(s,o,l,u,h,f){const m=fd(s,o,l,u);return fd(s,o+2,h,f)||m}(s,Qr(),l,h,m,C);return kr(4),x?o+_e(l)+u+_e(h)+f+_e(m)+v+_e(C)+D:It}function Dv(s,o,l,u,h,f,m,v){const C=xe(),D=rn(),S=s+20,x=D.firstCreatePass?function(s,o,l,u,h,f,m,v,C){const D=o.consts,S=mf(o,s,4,m||null,St(D,v));Z0(o,l,S,St(D,C)),sl(o,S);const x=S.tViews=av(2,S,u,h,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,S),x.queries=o.queries.embeddedTView(S)),S}(S,D,C,o,l,u,h,f,m):D.data[S];Rr(x,!1);const F=C[11].createComment("");rd(D,C,F,x),dr(F,C),lv(C,C[S]=fM(F,C,F,x)),Fo(x)&&W0(D,C,x),null!=m&&Y0(C,x,v)}function Oa(s){return yt(mt.lFrame.contextLView,20+s)}function Al(s,o=$e.Default){const l=xe();return null===l?Nn(s,o):Ca(Kn(),l,G(s),o)}function xf(s,o,l){const u=xe();return An(u,Es(),o)&&Zs(rn(),pi(),u,s,o,u[11],l,!1),xf}function Pv(s,o,l,u,h){const m=h?"class":"style";Vn(s,l,o.inputs[m],m,u)}function gm(s,o,l,u){const h=xe(),f=rn(),m=20+s,v=h[11],C=h[m]=zy(v,o,mt.lFrame.currentNamespace),D=f.firstCreatePass?function(s,o,l,u,h,f,m){const v=o.consts,D=mf(o,s,2,h,St(v,f));return Z0(o,l,D,St(v,m)),null!==D.attrs&&em(D,D.attrs,!1),null!==D.mergedAttrs&&em(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(m,f,h,0,o,l,u):f.data[m];Rr(D,!0);const S=D.mergedAttrs;null!==S&&Nh(v,C,S);const x=D.classes;null!==x&&Qy(v,C,x);const F=D.styles;null!==F&&O0(v,C,F),64!=(64&D.flags)&&rd(f,h,C,D),0===mt.lFrame.elementDepthCount&&dr(C,h),mt.lFrame.elementDepthCount++,Fo(D)&&(W0(f,h,D),tM(f,D,h)),null!==u&&Y0(h,D)}function es(){let s=Kn();Xl()?nl():(s=s.parent,Rr(s,!1));const o=s;mt.lFrame.elementDepthCount--;const l=rn();l.firstCreatePass&&(sl(l,s),za(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Pv(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Pv(l,o,xe(),o.stylesWithoutHost,!1)}function mm(s,o,l,u){gm(s,o,l,u),es()}function Fv(s,o,l){const u=xe(),h=rn(),f=s+20,m=h.firstCreatePass?function(s,o,l,u,h){const f=o.consts,m=St(f,u),v=mf(o,s,8,"ng-container",m);return null!==m&&em(v,m,!0),Z0(o,l,v,St(f,h)),null!==o.queries&&o.queries.elementStart(o,v),v}(f,h,u,o,l):h.data[f];Rr(m,!0);const v=u[f]=u[11].createComment("");rd(h,u,v,m),dr(v,u),Fo(m)&&(W0(h,u,m),tM(h,m,u)),null!=l&&Y0(u,m)}function Lv(){let s=Kn();const o=rn();Xl()?nl():(s=s.parent,Rr(s,!1)),o.firstCreatePass&&(sl(o,s),za(s)&&o.queries.elementEnd(s))}function Rf(s,o,l){Fv(s,o,l),Lv()}function kf(){return xe()}function _m(s){return!!s&&"function"==typeof s.then}function Vv(s){return!!s&&"function"==typeof s.subscribe}const Bv=Vv;function Of(s,o,l,u){const h=xe(),f=rn(),m=Kn();return xE(f,h,h[11],m,s,o,!!l,u),Of}function ym(s,o){const l=Kn(),u=xe(),h=rn();return xE(h,u,eE(ec(h.data),l,u),l,s,o,!1),ym}function xE(s,o,l,u,h,f,m,v){const C=Fo(u),S=s.firstCreatePass&&El(s),x=o[8],F=X0(o);let Y=!0;if(3&u.type||v){const le=fe(u,o),Ne=v?v(le):le,Se=F.length,pt=v?Dt=>v(Pn(Dt[u.index])):u.index;if(si(l)){let Dt=null;if(!v&&C&&(Dt=function(s,o,l,u){const h=s.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const m=h[f];if(m===l&&h[f+1]===u){const v=o[7],C=h[f+2];return v.length>C?v[C]:null}"string"==typeof m&&(f+=2)}return null}(s,o,h,u.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=f,Dt.__ngLastListenerFn__=f,Y=!1;else{f=Uv(u,o,x,f,!1);const dn=l.listen(Ne,h,f);F.push(f,dn),S&&S.push(h,pt,Se,Se+1)}}else f=Uv(u,o,x,f,!0),Ne.addEventListener(h,f,m),F.push(f),S&&S.push(h,pt,Se,m)}else f=Uv(u,o,x,f,!1);const K=u.outputs;let ge;if(Y&&null!==K&&(ge=K[h])){const le=ge.length;if(le)for(let Ne=0;Ne<le;Ne+=2){const Yi=o[ge[Ne]][ge[Ne+1]].subscribe(f),io=F.length;F.push(f,Yi),S&&S.push(h,u.index,io,-(io+1))}}}function RE(s,o,l,u){try{return!1!==l(u)}catch(h){return tE(s,h),!1}}function Uv(s,o,l,u,h){return function f(m){if(m===Function)return u;const v=2&s.flags?pn(s.index,o):o;0==(32&o[2])&&J0(v);let C=RE(o,0,u,m),D=f.__ngNextListenerFn__;for(;D;)C=RE(o,0,D,m)&&C,D=D.__ngNextListenerFn__;return h&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function kE(s=1){return function(s){return(mt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,mt.lFrame.contextLView))[8]}(s)}function vm(s,o){let l=null;const u=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const f=o[h];if("*"!==f){if(null===u?N0(s,f,!0):zN(u,f))return h}else l=h}return l}function OE(s){const o=xe()[16][6];if(!o.projection){const u=o.projection=Go(s?s.length:1,null),h=u.slice();let f=o.child;for(;null!==f;){const m=s?vm(f,s):0;null!==m&&(h[m]?h[m].projectionNext=f:u[m]=f,h[m]=f),f=f.next}}}function Ml(s,o=0,l){const u=xe(),h=rn(),f=mf(h,20+s,16,null,l||null);null===f.projection&&(f.projection=o),nl(),64!=(64&f.flags)&&function(s,o,l){wl(o[11],0,o,l,I0(s,l,o),gf(l.parent||o[6],l,o))}(h,u,f)}function UE(s,o,l,u,h){const f=s[l+1],m=null===o;let v=u?Xo(f):Cl(f),C=!1;for(;0!==v&&(!1===C||m);){const S=s[v+1];jE(s[v],o)&&(C=!0,s[v+1]=u?nv(S):sd(S)),v=u?Xo(S):Cl(S)}C&&(s[l+1]=u?sd(f):nv(f))}function jE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&$o(s,o)>=0}function zv(s,o,l){return Js(s,o,l,!1),zv}function Em(s,o){return Js(s,o,null,!0),Em}function Js(s,o,l,u){const h=xe(),f=rn(),m=kr(2);f.firstUpdatePass&&function(s,o,l,u){const h=s.data;if(null===h[l+1]){const f=h[cr()],m=function(s,o){return o>=s.expandoStartIndex}(s,l);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,u)&&null===o&&!m&&(o=!1),o=function(s,o,l,u){const h=ec(s);let f=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Pa(l=Ff(null,s,o,l,u),o.attrs,u),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==h)if(l=Ff(h,s,o,l,u),null===f){let C=function(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Cl(u))return s[Xo(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Ff(null,s,o,C[1],u),C=Pa(C,o.attrs,u),function(s,o,l,u){s[Xo(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else f=function(s,o,l){let u;const h=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<h;f++)u=Pa(u,s[f].hostAttrs,l);return Pa(u,o.attrs,l)}(s,o,u)}return void 0!==f&&(u?o.residualClasses=f:o.residualStyles=f),l}(h,f,o,u),function(s,o,l,u,h,f){let m=f?o.classBindings:o.styleBindings,v=Xo(m),C=Cl(m);s[u]=l;let S,D=!1;if(Array.isArray(l)){const x=l;S=x[1],(null===S||$o(x,S)>0)&&(D=!0)}else S=l;if(h)if(0!==C){const F=Xo(s[v+1]);s[u+1]=Kg(F,v),0!==F&&(s[F+1]=B0(s[F+1],u)),s[v+1]=function(s,o){return 131071&s|o<<17}(s[v+1],u)}else s[u+1]=Kg(v,0),0!==v&&(s[v+1]=B0(s[v+1],u)),v=u;else s[u+1]=Kg(C,0),0===v?v=u:s[C+1]=B0(s[C+1],u),C=u;D&&(s[u+1]=sd(s[u+1])),UE(s,S,u,!0),UE(s,S,u,!1),function(s,o,l,u,h){const f=h?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&$o(f,o)>=0&&(l[u+1]=nv(l[u+1]))}(o,S,s,u,f),m=Kg(v,C),f?o.classBindings=m:o.styleBindings=m}(h,f,o,l,m,u)}}(f,s,m,u),o!==It&&An(h,m,o)&&function(s,o,l,u,h,f,m,v){if(!(3&o.type))return;const C=s.data,D=C[v+1];Tm(function(s){return 1==(1&s)}(D)?XE(C,o,l,h,Cl(D),m):void 0)||(Tm(f)||function(s){return 2==(2&s)}(D)&&(f=XE(C,null,l,h,v,m)),function(s,o,l,u,h){const f=si(s);if(o)h?f?s.addClass(l,u):l.classList.add(u):f?s.removeClass(l,u):l.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Jo.DashCase;if(null==h)f?s.removeStyle(l,u,m):l.style.removeProperty(u);else{const v="string"==typeof h&&h.endsWith("!important");v&&(h=h.slice(0,-10),m|=Jo.Important),f?s.setStyle(l,u,h,m):l.style.setProperty(u,h,v?"important":"")}}}(u,m,X(cr(),l),h,f))}(f,f.data[cr()],h,h[11],s,h[m+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ne(bo(s)))),s}(o,l),u,m)}function Ff(s,o,l,u,h){let f=null;const m=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<m&&(f=o[v],u=Pa(u,f.hostAttrs,h),f!==s);)v++;return null!==s&&(l.directiveStylingLast=v),u}function Pa(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?h=m:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),gi(s,m,!!l||o[++f]))}return void 0===s?null:s}function XE(s,o,l,u,h,f){const m=null===o;let v;for(;h>0;){const C=s[h],D=Array.isArray(C),S=D?C[1]:C,x=null===S;let F=l[h+1];F===It&&(F=x?wt:void 0);let Y=x?ki(F,u):S===u?F:void 0;if(D&&!Tm(Y)&&(Y=ki(C,u)),Tm(Y)&&(v=Y,m))return v;const K=s[h+1];h=m?Xo(K):Cl(K)}if(null!==o){let C=f?o.residualClasses:o.residualStyles;null!=C&&(v=ki(C,u))}return v}function Tm(s){return void 0!==s}function Wv(s,o=""){const l=xe(),u=rn(),h=s+20,f=u.firstCreatePass?mf(u,h,1,o,null):u.data[h],m=l[h]=function(s,o){return si(s)?s.createText(o):s.createTextNode(o)}(l[11],o);rd(u,l,m,f),Rr(f,!1)}function Im(s){return Lf("",s,""),Im}function Lf(s,o,l){const u=xe(),h=function(s,o,l,u){return An(s,Es(),l)?o+_e(l)+u:It}(u,s,o,l);return h!==It&&ka(u,cr(),h),Lf}function yd(s,o,l,u,h){const f=xe(),m=function(s,o,l,u,h,f){const v=fd(s,Qr(),l,h);return kr(2),v?o+_e(l)+u+_e(h)+f:It}(f,s,o,l,u,h);return m!==It&&ka(f,cr(),m),yd}function ms(s,o,l,u,h,f,m,v,C){const D=xe(),S=Ef(D,s,o,l,u,h,f,m,v,C);return S!==It&&ka(D,cr(),S),ms}function eb(s,o,l){const u=xe();return An(u,Es(),o)&&Zs(rn(),pi(),u,s,o,u[11],l,!0),eb}function tb(s,o,l){const u=xe();if(An(u,Es(),o)){const f=rn(),m=pi();Zs(f,m,u,s,o,eE(ec(f.data),m,u),l,!0)}return tb}const Lc=void 0;var YF=["en",[["a","p"],["AM","PM"],Lc],[["AM","PM"],Lc,Lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lc,"{1} 'at' {0}",Lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Vc={};function nb(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=yD(o);if(l)return l;const u=o.split("-")[0];if(l=yD(u),l)return l;if("en"===u)return YF;throw new Error(`Missing locale data for the locale "${s}".`)}function _D(s){return nb(s)[bt.PluralCase]}function yD(s){return s in Vc||(Vc[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Vc[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Vf="en-US";let bD=Vf;function ib(s){_n(s,"Expected localeId to be defined"),"string"==typeof s&&(bD=s.toLowerCase().replace(/_/g,"-"))}function FD(s,o,l,u,h){if(s=G(s),Array.isArray(s))for(let f=0;f<s.length;f++)FD(s[f],o,l,u,h);else{const f=rn(),m=xe();let v=ud(s)?s:G(s.provide),C=yf(s);const D=Kn(),S=1048575&D.providerIndexes,x=D.directiveStart,F=D.providerIndexes>>20;if(ud(s)||!s.multi){const Y=new Au(C,h,Al),K=VD(v,o,h?S:S+F,x);-1===K?(at(jo(D,m),f,v),LD(f,s,o.length),o.push(v),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(Y),m.push(Y)):(l[K]=Y,m[K]=Y)}else{const Y=VD(v,o,S+F,x),K=VD(v,o,S,S+F),ge=Y>=0&&l[Y],le=K>=0&&l[K];if(h&&!le||!h&&!ge){at(jo(D,m),f,v);const Ne=function(s,o,l,u,h){const f=new Au(s,l,Al);return f.multi=[],f.index=o,f.componentProviders=0,Lx(f,h,u&&!l),f}(h?_b:fL,l.length,h,u,C);!h&&le&&(l[K].providerFactory=Ne),LD(f,s,o.length,0),o.push(v),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(Ne),m.push(Ne)}else LD(f,s,Y>-1?Y:K,Lx(l[h?K:Y],C,!h&&u));!h&&u&&le&&l[K].componentProviders++}}}function LD(s,o,l,u){const h=ud(o);if(h||function(s){return!!s.useClass}(o)){const m=(o.useClass||o).prototype.ngOnDestroy;if(m){const v=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const C=v.indexOf(l);-1===C?v.push(l,[u,m]):v[C+1].push(u,m)}else v.push(l,m)}}}function Lx(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function VD(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function fL(s,o,l,u){return Gf(this.multi,[])}function _b(s,o,l,u){const h=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Bt(l,l[1],this.providerFactory.index,u);f=v.slice(0,m),Gf(h,f);for(let C=m;C<v.length;C++)f.push(v[C])}else f=[],Gf(h,f);return f}function Gf(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function BD(s,o=[]){return l=>{l.providersResolver=(u,h)=>function(s,o,l){const u=rn();if(u.firstCreatePass){const h=Zr(s);FD(l,u.data,u.blueprint,h,!0),FD(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Vx{}const Bx="ngComponent";class pL{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${ne(s)}. Did you add it to @NgModule.entryComponents?`);return o[Bx]=s,o}(o)}}let xs=(()=>{class s{}return s.NULL=new pL,s})();function vb(...s){}function Ed(s,o){return new aa(fe(s,o))}const HD=function(){return Ed(Kn(),xe())};let aa=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=HD,s})();function GD(s){return s instanceof aa?s.nativeElement:s}class $f{}let $D=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>jx(),s})();const jx=function(){const s=xe(),l=pn(Kn().index,s);return function(s){return s[11]}(Sr(l)?l:s)};let bb=(()=>{class s{}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:()=>null}),s})();class $x{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const wb=new $x("12.2.14");class Fm{constructor(){}supports(o){return hd(o)}create(o){return new qx(o)}}const zx=(s,o)=>o;class qx{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zx}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,f=null;for(;l||u;){const m=!u||l&&l.currentIndex<qD(u,h,f)?l:u,v=qD(m,h,f),C=m.currentIndex;if(m===u)h--,u=u._nextRemoved;else if(l=l._next,null==m.previousIndex)h++;else{f||(f=[]);const D=v-h,S=C-h;if(D!=S){for(let F=0;F<D;F++){const Y=F<f.length?f[F]:f[F]=0,K=Y+F;S<=K&&K<D&&(f[F]=Y+1)}f[m.previousIndex]=S-D}}v!==C&&o(m,v,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!hd(o))throw new Error(`Error trying to diff '${ne(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,f,m,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)f=o[v],m=this._trackByFn(v,f),null!==l&&Object.is(l.trackById,m)?(u&&(l=this._verifyReinsertion(l,f,m,v)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,m,v),u=!0),l=l._next}else h=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[hs()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,v=>{m=this._trackByFn(h,v),null!==l&&Object.is(l.trackById,m)?(u&&(l=this._verifyReinsertion(l,v,m,h)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,m,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,f,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,f,h)):o=this._addAfter(new Cb(l,u),f,h),o}_verifyReinsertion(o,l,u,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?o=this._reinsertAfter(f,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,f=o._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new zD),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Cb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zf{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class zD{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new zf,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qD(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class WD{constructor(){}supports(o){return o instanceof Map||bv(o)}create(){return new qf}}class qf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||bv(o)))throw new Error(`Error trying to diff '${ne(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const f=h._prev,m=h._next;return f&&(f._next=m),m&&(m._prev=f),h._next=null,h._prev=null,h}const u=new Wx(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class Wx{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YD(){return new Lm([new Fm])}let Lm=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||YD()),deps:[[s,new Xi,new qo]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:YD}),s})();function ZD(){return new Vm([new WD])}let Vm=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||ZD()),deps:[[s,new Xi,new qo]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:ZD}),s})();function $c(s,o,l,u,h=!1){for(;null!==l;){const f=o[l.index];if(null!==f&&u.push(Pn(f)),Ir(f))for(let v=10;v<f.length;v++){const C=f[v],D=C[1].firstChild;null!==D&&$c(C[1],C,D,u)}const m=l.type;if(8&m)$c(s,o,l.child,u);else if(32&m){const v=Ug(l,o);let C;for(;C=v();)u.push(C)}else if(16&m){const v=Yy(o,l);if(Array.isArray(v))u.push(...v);else{const C=pf(o[16]);$c(C[1],C,v,u,!0)}}l=h?l.projectionNext:l.next}return u}class Wf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return $c(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ir(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&($g(o,u),Ta(l,u))}this._attachedToViewContainer=!1}S0(this._lView[1],this._lView)}onDestroy(o){sM(this._lView[1],this._lView,null,o)}markForCheck(){J0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ad(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){il(!0);try{ad(s,o,l)}finally{il(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Dc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class KD extends Wf{constructor(o){super(o),this._view=o}detectChanges(){Xg(this._view)}checkNoChanges(){!function(s){il(!0);try{Xg(s)}finally{il(!1)}}(this._view)}get context(){return null}}const vL=function(s){return function(s,o,l){if(No(s)&&!l){const u=pn(s.index,o);return new Wf(u,u)}return 47&s.type?new Wf(o[16],o):null}(Kn(),xe(),16==(16&s))};let QD=(()=>{class s{}return s.__NG_ELEMENT_ID__=vL,s})();const Kx=[new WD],Qx=new Lm([new Fm]),Jx=new Vm(Kx),Td=function(){return Bm(Kn(),xe())};let la=(()=>{class s{}return s.__NG_ELEMENT_ID__=Td,s})();const Xx=la,to=class extends Xx{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=Qg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(l)),Jg(l,u,o),new Wf(u)}};function Bm(s,o){return 4&s.type?new to(o,s,Ed(s,o)):null}class qc{}class Tb{}const Ib=function(){return tT(Kn(),xe())};let Um=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ib,s})();const tR=Um,XD=class extends tR{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Ed(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const o=tt(this._hostTNode,this._hostLView);if(Vh(o)){const l=wa(o,this._hostLView),u=fo(o);return new Ho(l[1].data[u+8],l)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=eT(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,f){const m=u||this.parentInjector;if(!f&&null==o.ngModule&&m){const C=m.get(qc,null);C&&(f=C)}const v=o.create(m,h,void 0,f);return this.insert(v.hostView,l),v}insert(o,l){const u=o._lView,h=u[1];if(Ir(u[3])){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const x=u[3],F=new XD(x,x[6],x[3]);F.detach(F.indexOf(o))}}const f=this._adjustIndex(l),m=this._lContainer;!function(s,o,l,u){const h=10+u,f=l.length;u>0&&(l[h-1][4]=o),u<f-10?(o[4]=l[h],lc(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const m=o[17];null!==m&&l!==m&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(m,o);const v=o[19];null!==v&&v.insertView(s),o[2]|=128}(h,u,m,f);const v=Zy(f,m),C=u[11],D=zg(C,m[7]);return null!==D&&function(s,o,l,u,h,f){u[0]=h,u[6]=o,Dc(s,u,l,1,h,f)}(h,m[6],C,u,D,v),o.attachToViewContainerRef(),lc(Mb(m),f,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=eT(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=$g(this._lContainer,l);u&&(Ta(Mb(this._lContainer),l),S0(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=$g(this._lContainer,l);return u&&null!=Ta(Mb(this._lContainer),l)?new Wf(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function eT(s){return s[8]}function Mb(s){return s[8]||(s[8]=[])}function tT(s,o){let l;const u=o[s.index];if(Ir(u))l=u;else{let h;if(8&s.type)h=Pn(u);else{const f=o[11];h=f.createComment("");const m=fe(s,o);bl(f,zg(f,m),h,function(s,o){return si(s)?s.nextSibling(o):o.nextSibling}(f,m),!1)}o[s.index]=l=fM(u,o,h,s),lv(o,l)}return new XD(l,s,o)}const La={};class Yb extends xs{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=qe(o);return new _T(l,this.ngModule)}}function bR(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const CR=new ei("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>v0});class _T extends Vx{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(qN).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return bR(this.componentDef.inputs)}get outputs(){return bR(this.componentDef.outputs)}create(o,l,u,h){const f=(h=h||this.ngModule)?function(s,o){return{get:(l,u,h)=>{const f=s.get(l,La,h);return f!==La||u===La?f:o.get(l,u,h)}}}(o,h.injector):o,m=f.get($f,lr),v=f.get(bb,null),C=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=u?function(s,o,l){if(si(s))return s.selectRootElement(o,l===je.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):zy(m.createRenderer(null,this.componentDef),D,function(s){const o=s.toLowerCase();return"svg"===o?Kl:"math"===o?"http://www.w3.org/1998/MathML/":null}(D)),x=this.componentDef.onPush?576:528,F=function(s,o){return{components:[],scheduler:s||v0,clean:_M,playerHandler:o||null,flags:0}}(),Y=av(0,null,null,1,0,null,null,null,null,null),K=Qg(null,Y,F,x,null,null,m,C,v,f);let ge,le;Su(K);try{const Ne=function(s,o,l,u,h,f){const m=l[1];l[20]=s;const C=mf(m,20,2,"#host",null),D=C.mergedAttrs=o.hostAttrs;null!==D&&(em(C,D,!0),null!==s&&(Nh(h,s,D),null!==C.classes&&Qy(h,s,C.classes),null!==C.styles&&O0(h,s,C.styles)));const S=u.createRenderer(s,o),x=Qg(l,nM(o),null,o.onPush?64:16,l[20],C,u,S,f||null,null);return m.firstCreatePass&&(at(jo(C,l),m,o.type),uM(m,C),dM(C,l.length,1)),lv(l,x),l[20]=x}(S,this.componentDef,K,m,C);if(S)if(u)Nh(C,S,["ng-version",wb.full]);else{const{attrs:Se,classes:pt}=function(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let f=s[u];if("string"==typeof f)2===h?""!==f&&o.push(f,s[++u]):8===h&&l.push(f);else{if(!Eo(h))break;h=f}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Se&&Nh(C,S,Se),pt&&pt.length>0&&Qy(C,S,pt.join(" "))}if(le=We(Y,20),void 0!==l){const Se=le.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const Dt=l[pt];Se.push(null!=Dt?Array.from(Dt):null)}}ge=function(s,o,l,u,h){const f=l[1],m=function(s,o,l){const u=Kn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),hM(s,u,o,od(s,o,1,null),l));const h=Bt(o,s,u.directiveStart,u);dr(h,o);const f=fe(u,o);return f&&dr(f,o),h}(f,l,o);if(u.components.push(m),s[8]=m,h&&h.forEach(C=>C(m,o)),o.contentQueries){const C=Kn();o.contentQueries(1,m,C.directiveStart)}const v=Kn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(uo(v.index),lM(l[1],v,0,v.directiveStart,v.directiveEnd,o),cM(o,m)),m}(Ne,this.componentDef,K,F,[cE]),Jg(Y,K,null)}finally{tc()}return new ip(this.componentType,ge,Ed(le,K),K,le)}}class ip extends class{}{constructor(o,l,u,h,f){super(),this.location=u,this._rootLView=h,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new KD(h),this.componentType=o}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const xo=new Map;class rp extends qc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Yb(this);const u=cn(o),h=o[se]||null;h&&ib(h),this._bootstrapComponents=Qo(u.bootstrap),this._r3Injector=dv(o,l,[{provide:qc,useValue:this},{provide:xs,useValue:this.componentFactoryResolver}],ne(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=ti.THROW_IF_NOT_FOUND,u=$e.Default){return o===ti||o===qc||o===Ic?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zb extends Tb{constructor(o){super(),this.moduleType=o,null!==cn(o)&&function(s){const o=new Set;!function l(u){const h=cn(u,!0),f=h.id;null!==f&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ne(o)} vs ${ne(o.name)}`)}(f,xo.get(f),u),xo.set(f,u));const m=Qo(h.imports);for(const v of m)o.has(v)||(o.add(v),l(v))}(s)}(o)}create(o){return new rp(this.moduleType,o)}}function Nd(s,o,l){const u=Gi()+s,h=xe();return h[u]===It?Io(h,u,l?o.call(l):o()):function(s,o){return s[o]}(h,u)}function Fd(s,o,l,u){return Kb(xe(),Gi(),s,o,l,u)}function yT(s,o,l,u,h){return function(s,o,l,u,h,f,m){const v=o+l;return fd(s,v,h,f)?Io(s,v+2,m?u.call(m,h,f):u(h,f)):n_(s,v+2)}(xe(),Gi(),s,o,l,u,h)}function n_(s,o){const l=s[o];return l===It?void 0:l}function Kb(s,o,l,u,h,f){const m=o+l;return An(s,m,h)?Io(s,m+1,f?u.call(f,h):u(h)):n_(s,m+1)}function op(s,o){const l=rn();let u;const h=s+20;l.firstCreatePass?(u=function(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}throw new Ae("302",`The pipe '${s}' could not be found!`)}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const f=u.factory||(u.factory=vr(u.type)),m=ln(Al);try{const v=Mu(!1),C=f();return Mu(v),function(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,xe(),h,C),C}finally{ln(m)}}function Jb(s,o,l){const u=s+20,h=xe(),f=yt(h,u);return function(s,o){Qs.isWrapped(o)&&(o=Qs.unwrap(o),s[Qr()]=It);return o}(h,function(s,o){return s[1].data[o].pure}(h,u)?Kb(h,Gi(),o,f.transform,l,f):f.transform(l))}function i_(s){return o=>{setTimeout(s,void 0,o)}}const Er=class extends a.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,f,m;let v=o,C=l||(()=>null),D=u;if(o&&"object"==typeof o){const x=o;v=null===(h=x.next)||void 0===h?void 0:h.bind(x),C=null===(f=x.error)||void 0===f?void 0:f.bind(x),D=null===(m=x.complete)||void 0===m?void 0:m.bind(x)}this.__isAsync&&(C=i_(C),v&&(v=i_(v)),D&&(D=i_(D)));const S=super.subscribe({next:v,error:C,complete:D});return o instanceof z.w&&o.add(S),S}};function $L(){return this._results[hs()]()}class cp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=hs(),u=cp.prototype;u[l]||(u[l]=$L)}get changes(){return this._changes||(this._changes=new Er)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=us(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],f=o[u];if(l&&(h=l(h),f=l(f)),f!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class r_{constructor(o){this.queryList=o,this.matches=null}clone(){return new r_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let f=0;f<u;f++){const m=l.getByIndex(f);h.push(this.queries[m.indexInDeclarationView].clone())}return new Xb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==LR(o,l).matches&&this.queries[l].setDirty()}}class Vd{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Si{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,f=this.getByIndex(u).embeddedTView(o,h);f&&(f.indexInDeclarationView=u,null!==l?l.push(f):l=[f])}return null!==l?new Si(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class up{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new up(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const f=u[h];this.matchTNodeWithReadOption(o,l,ew(l,f)),this.matchTNodeWithReadOption(o,l,Ru(l,o,f,!1,!1))}else u===la?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ru(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===aa||h===Um||h===la&&4&l.type)this.addMatch(l.index,-2);else{const f=Ru(l,o,h,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ew(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function DT(s,o,l,u){return-1===l?function(s,o){return 11&s.type?Ed(s,o):4&s.type?Bm(s,o):null}(o,s):-2===l?function(s,o,l){return l===aa?Ed(o,s):l===la?Bm(o,s):l===Um?tT(o,s):void 0}(s,o,u):Bt(s,s[1],l,o)}function dp(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const f=s.data,m=l.matches,v=[];for(let C=0;C<m.length;C+=2){const D=m[C];v.push(D<0?null:DT(o,f[D],m[C+1],l.metadata.read))}h.matches=v}return h.matches}function o_(s,o,l,u){const h=s.queries.getByIndex(l),f=h.matches;if(null!==f){const m=dp(s,o,h,l);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)u.push(m[v/2]);else{const D=f[v+1],S=o[-C];for(let x=10;x<S.length;x++){const F=S[x];F[17]===F[3]&&o_(F[1],F,D,u)}if(null!==S[9]){const x=S[9];for(let F=0;F<x.length;F++){const Y=x[F];o_(Y[1],Y,D,u)}}}}}return u}function nw(s){const o=xe(),l=rn(),u=Sh();ba(u+1);const h=LR(l,u);if(s.dirty&&xi(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const f=h.crossesNgTemplate?o_(l,o,u,[]):dp(l,o,h,u);s.reset(f,GD),s.notifyOnChanges()}return!0}return!1}function TT(s,o,l){const u=rn();u.firstCreatePass&&(FR(u,new Vd(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),NR(u,xe(),o)}function OR(s,o,l,u){const h=rn();if(h.firstCreatePass){const f=Kn();FR(h,new Vd(o,l,u),f.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}NR(h,xe(),l)}function PR(){return s=xe(),o=Sh(),s[19].queries[o].queryList;var s,o}function NR(s,o,l){const u=new cp(4==(4&l));sM(s,o,u,u.destroy),null===o[19]&&(o[19]=new Xb),o[19].queries.push(new r_(u))}function FR(s,o,l){null===s.queries&&(s.queries=new Si),s.queries.track(new up(o,l))}function LR(s,o){return s.queries.getByIndex(o)}function ST(s,o){return Bm(s,o)}const _w=new ei("Application Initializer");let jd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=vb,this.reject=vb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(_m(f))l.push(f);else if(Bv(f)){const m=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});l.push(m)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Nn(_w,8))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const jT=new ei("AppId"),JR={provide:jT,useFactory:function(){return`${vw()}${vw()}${vw()}`},deps:[]};function vw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HT=new ei("Platform Initializer"),GT=new ei("Platform ID"),$T=new ei("appBootstrapListener");let zT=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const f_=new ei("LocaleId"),qT=new ei("DefaultCurrencyCode");class ek{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}const ww=function(s){return new Zb(s)},WT=ww,nk=function(s){return Promise.resolve(ww(s))},rk=function(s){const o=ww(s),u=Qo(cn(s).declarations).reduce((h,f)=>{const m=qe(f);return m&&h.push(new _T(m)),h},[]);return new ek(o,u)},sk=rk,ok=function(s){return Promise.resolve(rk(s))};let pp=(()=>{class s{constructor(){this.compileModuleSync=WT,this.compileModuleAsync=nk,this.compileModuleAndAllComponentsSync=sk,this.compileModuleAndAllComponentsAsync=ok}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const ck=(()=>Promise.resolve(0))();function Cw(s){"undefined"==typeof Zone?ck.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Os{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Er(!1),this.onMicrotaskEmpty=new Er(!1),this.onStable=new Er(!1),this.onError=new Er(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Dw(s),s.isCheckStableRunning=!0,Ew(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Dw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,f,m,v)=>{try{return YT(s),l.invokeTask(h,f,m,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),ZT(s)}},onInvoke:(l,u,h,f,m,v,C)=>{try{return YT(s),l.invoke(h,f,m,v,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),ZT(s)}},onHasTask:(l,u,h,f)=>{l.hasTask(h,f),u===h&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Dw(s),Ew(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,u,h,f)=>(l.handleError(h,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+h,o,dk,vb,vb);try{return f.runTask(m,l,u)}finally{f.cancelTask(m)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const dk={};function Ew(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Dw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function YT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ZT(s){s._nesting--,Ew(s)}class pk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Er,this.onMicrotaskEmpty=new Er,this.onStable=new Er,this.onError=new Er}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let Tw=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),Cw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Nn(Os))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})(),KT=(()=>{class s{constructor(){this._applications=new Map,Sw.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Sw.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();class gk{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function QT(s){Sw=s}let Sw=new gk,JT=!0,Iw=!1;function gp(){return Iw=!0,JT}function DV(){if(Iw)throw new Error("Cannot enable prod mode after platform setup.");JT=!1}let ua;const tS=new ei("AllowMultipleToken");class nS{constructor(o,l){this.name=o,this.token=l}}function bk(s,o,l=[]){const u=`Platform: ${o}`,h=new ei(u);return(f=[])=>{let m=rS();if(!m||m.injector.get(tS,!1))if(s)s(l.concat(f).concat({provide:h,useValue:!0}));else{const v=l.concat(f).concat({provide:h,useValue:!0},{provide:To,useValue:"platform"});!function(s){if(ua&&!ua.destroyed&&!ua.injector.get(tS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ua=s.get(Aw);const o=s.get(HT,null);o&&o.forEach(l=>l())}(ti.create({providers:v,name:u}))}return function(s){const o=rS();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(h)}}function rS(){return ua&&!ua.destroyed?ua:null}let Aw=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const v=function(s,o){let l;return l="noop"===s?new pk:("zone.js"===s?void 0:s)||new Os({enableLongStackTrace:gp(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Os,useValue:v}];return v.run(()=>{const D=ti.create({providers:C,parent:this.injector,name:l.moduleType.name}),S=l.create(D),x=S.injector.get(nd,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const F=v.onError.subscribe({next:Y=>{x.handleError(Y)}});S.onDestroy(()=>{mp(this._modules,S),F.unsubscribe()})}),function(s,o,l){try{const u=l();return _m(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(x,v,()=>{const F=S.injector.get(jd);return F.runInitializers(),F.donePromise.then(()=>(ib(S.injector.get(f_,Vf)||Vf),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,u=[]){const h=sS({},u);return function(s,o,l){const u=new Zb(l);return Promise.resolve(u)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(l){const u=l.injector.get(Gd);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${ne(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Nn(ti))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();function sS(s,o){return Array.isArray(o)?o.reduce(sS,s):Object.assign(Object.assign({},s),o)}let Gd=(()=>{class s{constructor(l,u,h,f,m){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new L.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),Cw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,oe.T)(v,C.pipe((0,ue.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof Vx?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const f=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(qc),v=h.create(ti.NULL,[],u||h.selector,f),C=v.location.nativeElement,D=v.injector.get(Tw,null),S=D&&v.injector.get(KT);return D&&S&&S.registerApplication(C,D),v.onDestroy(()=>{this.detachView(v.hostView),mp(this.components,v),S&&S.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;mp(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get($T,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Nn(Os),Nn(ti),Nn(nd),Nn(xs),Nn(jd))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();function mp(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}class Dk{}class lS{}const Sk={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ik=(()=>{class s{constructor(l,u){this._compiler=l,this._config=u||Sk}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[u,h]=l.split("#");return void 0===h&&(h="default"),P(8255)(u).then(f=>f[h]).then(f=>$d(f,u,h)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(l){let[u,h]=l.split("#"),f="NgFactory";return void 0===h&&(h="default",f=""),P(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[h+f]).then(m=>$d(m,u,h))}}return s.\u0275fac=function(l){return new(l||s)(Nn(pp),Nn(lS,8))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();function $d(s,o,l){if(!s)throw new Error(`Cannot find '${l}' in '${o}'`);return s}const Nk=function(s){return null},mS=bk(null,"core",[{provide:GT,useValue:"unknown"},{provide:Aw,deps:[ti]},{provide:KT,deps:[]},{provide:zT,deps:[]}]),Uk=[{provide:Gd,useClass:Gd,deps:[Os,ti,nd,xs,jd]},{provide:CR,deps:[Os],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:jd,useClass:jd,deps:[[new qo,_w]]},{provide:pp,useClass:pp,deps:[]},JR,{provide:Lm,useFactory:function(){return Qx},deps:[]},{provide:Vm,useFactory:function(){return Jx},deps:[]},{provide:f_,useFactory:function(s){return ib(s=s||"undefined"!=typeof $localize&&$localize.locale||Vf),s},deps:[[new Aa(f_),new qo,new Xi]]},{provide:qT,useValue:"USD"}];let FV=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Nn(Gd))},s.\u0275mod=$({type:s}),s.\u0275inj=en({providers:Uk}),s})()},8939:(st,Te,P)=>{"use strict";P.d(Te,{hO:()=>ie,xv:()=>ee,Dh:()=>ne,GT:()=>J,cc:()=>me,on:()=>B,pX:()=>ue});var a=P(7716),z=P(7841),L=P(4866);st=P.hmd(st);const oe=["ngOnDestroy"],ue=(_e,Fe,et,Yt={})=>new Proxy(_e,{get:(wn,Xt)=>et.runOutsideAngular(()=>{var Kt;if(_e[Xt])return(null===(Kt=null==Yt?void 0:Yt.spy)||void 0===Kt?void 0:Kt.get)&&Yt.spy.get(Xt,_e[Xt]),_e[Xt];if(oe.indexOf(Xt)>-1)return()=>{};const ct=Fe.toPromise().then(Cn=>{const xt=Cn&&Cn[Xt];return"function"==typeof xt?xt.bind(Cn):xt&&xt.then?xt.then(vt=>et.run(()=>vt)):et.run(()=>xt)});return new Proxy(()=>{},{get:(Cn,xt)=>ct[xt],apply:(Cn,xt,vt)=>ct.then(jt=>{var gt;const $t=jt&&jt(...vt);return(null===(gt=null==Yt?void 0:Yt.spy)||void 0===gt?void 0:gt.apply)&&Yt.spy.apply(Xt,vt,$t),$t})})})}),J=(_e,Fe)=>{Fe.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Yt=>{Object.defineProperty(_e.prototype,Yt,Object.getOwnPropertyDescriptor(et.prototype||et,Yt))})})};class te{constructor(Fe){return Fe}}const ne=new a.OlP("angularfire2.app.options"),ee=new a.OlP("angularfire2.app.name");function B(_e,Fe,et){const wn="object"==typeof et&&et||{};wn.name=wn.name||"string"==typeof et&&et||"[DEFAULT]";const Kt=z.Z.apps.filter(ct=>ct&&ct.name===wn.name)[0]||Fe.runOutsideAngular(()=>z.Z.initializeApp(_e,wn));try{JSON.stringify(_e)!==JSON.stringify(Kt.options)&&W("error",`${Kt.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new te(Kt)}const W=(_e,...Fe)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[_e](...Fe)},G={provide:te,useFactory:B,deps:[ne,a.R0b,[new a.FiY,ee]]};let ie=(()=>{class _e{constructor(et){z.Z.registerVersion("angularfire",L.q4.full,"core"),z.Z.registerVersion("angularfire",L.q4.full,"app-compat"),z.Z.registerVersion("angular",a.q4F.full,et.toString())}static initializeApp(et,Yt){return{ngModule:_e,providers:[{provide:ne,useValue:et},{provide:ee,useValue:Yt}]}}}return _e.\u0275fac=function(et){return new(et||_e)(a.LFG(a.Lbi))},_e.\u0275mod=a.oAB({type:_e}),_e.\u0275inj=a.cJS({providers:[G]}),_e})();function me(_e,Fe,et,Yt,wn){const[,Xt,Kt]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===_e)||[];if(Xt)return function(_e,Fe){try{return _e.toString()===Fe.toString()}catch(et){return _e===Fe}}(wn,Kt)||(Ve("error",`${Fe} was already initialized on the ${et} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:wn,was:Kt})),Xt;{const ct=Yt();return globalThis.\u0275AngularfireInstanceCache.push([_e,ct,wn]),ct}}const ve=!!st.hot,Ve=(_e,...Fe)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[_e](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4866:(st,Te,P)=>{"use strict";P.d(Te,{q4:()=>vu,iC:()=>va,HU:()=>Ja,vb:()=>wu,JM:()=>Qa,nk:()=>bu,u3:()=>Pn});var a=P(7716),z=P(2329),L=P(8239),oe=P(8026),ue=P(3854),J=P(3910),te=P(5422);P(3328);const ee="@firebase/remote-config",B="0.3.6",me=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yr{constructor(U,X,fe,Oe){this.client=U,this.storage=X,this.storageCache=fe,this.logger=Oe}isCachedDataFresh(U,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-X,Oe=fe<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${Oe}.`),Oe}fetch(U){var X=this;return(0,L.Z)(function*(){const[fe,Oe]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Oe&&X.isCachedDataFresh(U.cacheMaxAgeMillis,fe))return Oe;U.eTag=Oe&&Oe.eTag;const We=yield X.client.fetch(U),yt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&yt.push(X.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(yt),We})()}}function di(V=navigator){return V.languages&&V.languages[0]||V.language}class bi{constructor(U,X,fe,Oe,We,yt){this.firebaseInstallations=U,this.sdkVersion=X,this.namespace=fe,this.projectId=Oe,this.apiKey=We,this.appId=yt}fetch(U){var X=this;return(0,L.Z)(function*(){const[fe,Oe]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},xi={sdk_version:X.sdkVersion,app_instance_id:fe,app_instance_id_token:Oe,app_id:X.appId,language_code:di()},zn={method:"POST",headers:pn,body:JSON.stringify(xi)},Jt=fetch(yt,zn),St=new Promise((co,$s)=>{U.signal.addEventListener(()=>{const tl=new Error("The operation was aborted.");tl.name="AbortError",$s(tl)})});let Gs;try{yield Promise.race([Jt,St]),Gs=yield Jt}catch(co){let $s="fetch-client-network";throw"AbortError"===co.name&&($s="fetch-timeout"),me.create($s,{originalErrorMessage:co.message})}let xr=Gs.status;const mt=Gs.headers.get("ETag")||void 0;let el,Bo;if(200===Gs.status){let co;try{co=yield Gs.json()}catch($s){throw me.create("fetch-client-parse",{originalErrorMessage:$s.message})}el=co.entries,Bo=co.state}if("INSTANCE_STATE_UNSPECIFIED"===Bo?xr=500:"NO_CHANGE"===Bo?xr=304:("NO_TEMPLATE"===Bo||"EMPTY_CONFIG"===Bo)&&(el={}),304!==xr&&200!==xr)throw me.create("fetch-status",{httpStatus:xr});return{status:xr,eTag:mt,config:el}})()}}class bs{constructor(U,X){this.client=U,this.storage=X}fetch(U){var X=this;return(0,L.Z)(function*(){const fe=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(U,fe)})()}attemptFetch(U,{throttleEndTimeMillis:X,backoffCount:fe}){var Oe=this;return(0,L.Z)(function*(){yield function(V,U){return new Promise((X,fe)=>{const Oe=Math.max(U-Date.now(),0),We=setTimeout(X,Oe);V.addEventListener(()=>{clearTimeout(We),fe(me.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,X);try{const We=yield Oe.client.fetch(U);return yield Oe.storage.deleteThrottleMetadata(),We}catch(We){if(!function(V){if(!(V instanceof ue.ZR&&V.customData))return!1;const U=Number(V.customData.httpStatus);return 429===U||500===U||503===U||504===U}(We))throw We;const yt={throttleEndTimeMillis:Date.now()+(0,ue.$s)(fe),backoffCount:fe+1};return yield Oe.storage.setThrottleMetadata(yt),Oe.attemptFetch(U,yt)}})()}}class Zt{constructor(U,X,fe,Oe,We){this.app=U,this._client=X,this._storageCache=fe,this._storage=Oe,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ni(V,U){const X=V.target.error||void 0;return me.create(U,{originalErrorMessage:X&&X.message})}const en="app_namespace_store";class Jn{constructor(U,X,fe,Oe=function(){return new Promise((V,U)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=fe=>{U(ni(fe,"storage-open"))},X.onsuccess=fe=>{V(fe.target.result)},X.onupgradeneeded=fe=>{const Oe=fe.target.result;switch(fe.oldVersion){case 0:Oe.createObjectStore(en,{keyPath:"compositeKey"})}}}catch(X){U(me.create("storage-open",{originalErrorMessage:X}))}})}()){this.appId=U,this.appName=X,this.namespace=fe,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var X=this;return(0,L.Z)(function*(){const fe=yield X.openDbPromise;return new Promise((Oe,We)=>{const pn=fe.transaction([en],"readonly").objectStore(en),xi=X.createCompositeKey(U);try{const zn=pn.get(xi);zn.onerror=Jt=>{We(ni(Jt,"storage-get"))},zn.onsuccess=Jt=>{const St=Jt.target.result;Oe(St?St.value:void 0)}}catch(zn){We(me.create("storage-get",{originalErrorMessage:zn&&zn.message}))}})})()}set(U,X){var fe=this;return(0,L.Z)(function*(){const Oe=yield fe.openDbPromise;return new Promise((We,yt)=>{const xi=Oe.transaction([en],"readwrite").objectStore(en),zn=fe.createCompositeKey(U);try{const Jt=xi.put({compositeKey:zn,value:X});Jt.onerror=St=>{yt(ni(St,"storage-set"))},Jt.onsuccess=()=>{We()}}catch(Jt){yt(me.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(U){var X=this;return(0,L.Z)(function*(){const fe=yield X.openDbPromise;return new Promise((Oe,We)=>{const pn=fe.transaction([en],"readwrite").objectStore(en),xi=X.createCompositeKey(U);try{const zn=pn.delete(xi);zn.onerror=Jt=>{We(ni(Jt,"storage-delete"))},zn.onsuccess=()=>{Oe()}}catch(zn){We(me.create("storage-delete",{originalErrorMessage:zn&&zn.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Ci{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,L.Z)(function*(){const X=U.storage.getLastFetchStatus(),fe=U.storage.getLastSuccessfulFetchTimestampMillis(),Oe=U.storage.getActiveConfig(),We=yield X;We&&(U.lastFetchStatus=We);const yt=yield fe;yt&&(U.lastSuccessfulFetchTimestampMillis=yt);const pn=yield Oe;pn&&(U.activeConfig=pn)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Qi(){return $e.apply(this,arguments)}function $e(){return($e=(0,L.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(V){return!1}})).apply(this,arguments)}(0,oe._registerComponent)(new J.wA("remote-config",function(U,{instanceIdentifier:X}){const fe=U.getProvider("app").getImmediate(),Oe=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw me.create("registration-window");if(!(0,ue.hl)())throw me.create("indexed-db-unavailable");const{projectId:We,apiKey:yt,appId:pn}=fe.options;if(!We)throw me.create("registration-project-id");if(!yt)throw me.create("registration-api-key");if(!pn)throw me.create("registration-app-id");const xi=new Jn(pn,fe.name,X=X||"firebase"),zn=new Ci(xi),Jt=new te.Yd(ee);Jt.logLevel=te.in.ERROR;const St=new bi(Oe,oe.SDK_VERSION,X,We,yt,pn),Gs=new bs(St,xi),xr=new Yr(Gs,xi,zn,Jt),mt=new Zt(fe,xr,zn,xi,Jt);return function(V){const U=(0,ue.m9)(V);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(mt),mt},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ee,B),(0,oe.registerVersion)(ee,B,"esm2017");const $n="/firebase-messaging-sw.js",kn="/firebase-cloud-messaging-push-scope",ln="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ii="google.c.a.c_id",Xn="google.c.a.c_l",hn="google.c.a.ts",_r="google.c.a.e";var je=(()=>{return(V=je||(je={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",je;var V})();function Qe(V){const U=new Uint8Array(V);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tr(V){const X=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(X),Oe=new Uint8Array(fe.length);for(let We=0;We<fe.length;++We)Oe[We]=fe.charCodeAt(We);return Oe}const an="fcm_token_details_db",Ht="fcm_token_object_Store";function Wn(V){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes(an))return null;let U=null;return(yield(0,ue.X3)(an,5,function(){var fe=(0,L.Z)(function*(Oe,We,yt,pn){var xi;if(We<2||!Oe.objectStoreNames.contains(Ht))return;const zn=pn.objectStore(Ht),Jt=yield zn.index("fcmSenderId").get(V);if(yield zn.clear(),Jt)if(2===We){const St=Jt;if(!St.auth||!St.p256dh||!St.endpoint)return;U={token:St.fcmToken,createTime:null!==(xi=St.createTime)&&void 0!==xi?xi:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Qe(St.vapidKey)}}}else if(3===We){const St=Jt;U={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Qe(St.auth),p256dh:Qe(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Qe(St.vapidKey)}}}else if(4===We){const St=Jt;U={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Qe(St.auth),p256dh:Qe(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Qe(St.vapidKey)}}}});return function(Oe,We,yt,pn){return fe.apply(this,arguments)}}())).close(),yield(0,ue.Lj)(an),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Tt(U)?U:null})).apply(this,arguments)}function Tt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:U}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Le="firebase-messaging-store";let Ce=null;function nt(){return Ce||(Ce=(0,ue.X3)("firebase-messaging-database",1,(V,U)=>{switch(U){case 0:V.createObjectStore(Le)}})),Ce}function se(V){return pe.apply(this,arguments)}function pe(){return(pe=(0,L.Z)(function*(V){const U=ae(V),fe=yield(yield nt()).transaction(Le).objectStore(Le).get(U);if(fe)return fe;{const Oe=yield Wn(V.appConfig.senderId);if(Oe)return yield De(V,Oe),Oe}})).apply(this,arguments)}function De(V,U){return H.apply(this,arguments)}function H(){return(H=(0,L.Z)(function*(V,U){const X=ae(V),Oe=(yield nt()).transaction(Le,"readwrite");return yield Oe.objectStore(Le).put(U,X),yield Oe.complete,U})).apply(this,arguments)}function O(V){return q.apply(this,arguments)}function q(){return(q=(0,L.Z)(function*(V){const U=ae(V),fe=(yield nt()).transaction(Le,"readwrite");yield fe.objectStore(Le).delete(U),yield fe.complete})).apply(this,arguments)}function ae({appConfig:V}){return V.appId}const N=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $(V,U){return ce.apply(this,arguments)}function ce(){return(ce=(0,L.Z)(function*(V,U){const X=yield fn(V),fe=zt(U),Oe={method:"POST",headers:X,body:JSON.stringify(fe)};let We;try{We=yield(yield fetch(Vt(V.appConfig),Oe)).json()}catch(yt){throw N.create("token-subscribe-failed",{errorInfo:yt})}if(We.error)throw N.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw N.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function Pe(V,U){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,L.Z)(function*(V,U){const X=yield fn(V),fe=zt(U.subscriptionOptions),Oe={method:"PATCH",headers:X,body:JSON.stringify(fe)};let We;try{We=yield(yield fetch(`${Vt(V.appConfig)}/${U.token}`,Oe)).json()}catch(yt){throw N.create("token-update-failed",{errorInfo:yt})}if(We.error)throw N.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw N.create("token-update-no-token");return We.token})).apply(this,arguments)}function ft(V,U){return qe.apply(this,arguments)}function qe(){return(qe=(0,L.Z)(function*(V,U){const fe={method:"DELETE",headers:yield fn(V)};try{const We=yield(yield fetch(`${Vt(V.appConfig)}/${U}`,fe)).json();if(We.error)throw N.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Oe){throw N.create("token-unsubscribe-failed",{errorInfo:Oe})}})).apply(this,arguments)}function Vt({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function fn(V){return cn.apply(this,arguments)}function cn(){return(cn=(0,L.Z)(function*({appConfig:V,installations:U}){const X=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function zt({p256dh:V,auth:U,endpoint:X,vapidKey:fe}){const Oe={web:{endpoint:X,auth:U,p256dh:V}};return fe!==ln&&(Oe.web.applicationPubKey=fe),Oe}const Un=6048e5;function Ge(V){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,L.Z)(function*(V){const U=yield jn(V.swRegistration,V.vapidKey),X={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:U.endpoint,auth:Qe(U.getKey("auth")),p256dh:Qe(U.getKey("p256dh"))},fe=yield se(V.firebaseDependencies);if(fe){if(ot(fe.subscriptionOptions,X))return Date.now()>=fe.createTime+Un?re(V,{token:fe.token,createTime:Date.now(),subscriptionOptions:X}):fe.token;try{yield ft(V.firebaseDependencies,fe.token)}catch(Oe){console.warn(Oe)}return Me(V.firebaseDependencies,X)}return Me(V.firebaseDependencies,X)})).apply(this,arguments)}function Tn(V){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,L.Z)(function*(V){const U=yield se(V.firebaseDependencies);U&&(yield ft(V.firebaseDependencies,U.token),yield O(V.firebaseDependencies));const X=yield V.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function re(V,U){return he.apply(this,arguments)}function he(){return(he=(0,L.Z)(function*(V,U){try{const X=yield Pe(V.firebaseDependencies,U),fe=Object.assign(Object.assign({},U),{token:X,createTime:Date.now()});return yield De(V.firebaseDependencies,fe),X}catch(X){throw yield Tn(V),X}})).apply(this,arguments)}function Me(V,U){return He.apply(this,arguments)}function He(){return(He=(0,L.Z)(function*(V,U){const fe={token:yield $(V,U),createTime:Date.now(),subscriptionOptions:U};return yield De(V,fe),fe.token})).apply(this,arguments)}function jn(V,U){return nn.apply(this,arguments)}function nn(){return(nn=(0,L.Z)(function*(V,U){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tr(U)})})).apply(this,arguments)}function ot(V,U){return U.vapidKey===V.vapidKey&&U.endpoint===V.endpoint&&U.auth===V.auth&&U.p256dh===V.p256dh}function On(V){const U={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function(V,U){if(!U.notification)return;V.notification={};const X=U.notification.title;X&&(V.notification.title=X);const fe=U.notification.body;fe&&(V.notification.body=fe);const Oe=U.notification.image;Oe&&(V.notification.image=Oe)}(U,V),function(V,U){!U.data||(V.data=U.data)}(U,V),function(V,U){if(!U.fcmOptions)return;V.fcmOptions={};const X=U.fcmOptions.link;X&&(V.fcmOptions.link=X);const fe=U.fcmOptions.analytics_label;fe&&(V.fcmOptions.analyticsLabel=fe)}(U,V),U}function Bi(V){return"object"==typeof V&&!!V&&ii in V}function so(V,U){const X=[];for(let fe=0;fe<V.length;fe++)X.push(V.charAt(fe)),fe<U.length&&X.push(U.charAt(fe));return X.join("")}function ar(V){return N.create("missing-app-config-values",{valueName:V})}so("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),so("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vn{constructor(U,X,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function(V){if(!V||!V.options)throw ar("App Configuration Object");if(!V.name)throw ar("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:X}=V;for(const fe of U)if(!X[fe])throw ar(fe);return{appName:V.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:Oe,installations:X,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function oo(V){return zl.apply(this,arguments)}function zl(){return(zl=(0,L.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register($n,{scope:kn}),V.swRegistration.update().catch(()=>{})}catch(U){throw N.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function Ji(V,U){return ma.apply(this,arguments)}function ma(){return(ma=(0,L.Z)(function*(V,U){if(!U&&!V.swRegistration&&(yield oo(V)),U||!V.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw N.create("invalid-sw-registration");V.swRegistration=U}})).apply(this,arguments)}function ao(V,U){return js.apply(this,arguments)}function js(){return(js=(0,L.Z)(function*(V,U){U?V.vapidKey=U:V.vapidKey||(V.vapidKey=ln)})).apply(this,arguments)}function ri(){return(ri=(0,L.Z)(function*(V,U){if(!navigator)throw N.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N.create("permission-blocked");return yield ao(V,null==U?void 0:U.vapidKey),yield Ji(V,null==U?void 0:U.serviceWorkerRegistration),Ge(V)})).apply(this,arguments)}function Ui(V,U,X){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,L.Z)(function*(V,U,X){const fe=Ir(U);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:X[ii],message_name:X[Xn],message_time:X[hn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ir(V){switch(V){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function No(){return(No=(0,L.Z)(function*(V,U){const X=U.data;if(!X.isFirebaseMessaging)return;V.onMessageHandler&&X.messageType===je.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(On(X)):V.onMessageHandler.next(On(X)));const fe=X.data;Bi(fe)&&"1"===fe[_r]&&(yield Ui(V,X.messageType,fe))})).apply(this,arguments)}const Fo="@firebase/messaging";function Wl(){return qa.apply(this,arguments)}function qa(){return(qa=(0,L.Z)(function*(){try{yield(0,ue.eu)()}catch(V){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,oe._registerComponent)(new J.wA("messaging",V=>{const U=new vn(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function(V,U){return No.apply(this,arguments)}(U,X)),U},"PUBLIC")),(0,oe._registerComponent)(new J.wA("messaging-internal",V=>{const U=V.getProvider("messaging").getImmediate();return{getToken:fe=>function(V,U){return ri.apply(this,arguments)}(U,fe)}},"PRIVATE")),(0,oe.registerVersion)(Fo,"0.9.11"),(0,oe.registerVersion)(Fo,"0.9.11","esm2017");var ag=P(4867),yu=P(7771),lg=P(3637),Yl=P(7574),bh=P(3342),_a=P(9673),Za=P(6136);const vu=new a.GfV("7.3.0"),Ka="__angularfire_symbol__analyticsIsSupportedValue",Lo="__angularfire_symbol__analyticsIsSupported",vr="__angularfire_symbol__remoteConfigIsSupportedValue",Kr="__angularfire_symbol__remoteConfigIsSupported",fi="__angularfire_symbol__messagingIsSupportedValue",ya="__angularfire_symbol__messagingIsSupported";globalThis[Lo]||(globalThis[Lo]=(0,ag.Gb)().then(V=>globalThis[Ka]=V).catch(()=>globalThis[Ka]=!1)),globalThis[ya]||(globalThis[ya]=Wl().then(V=>globalThis[fi]=V).catch(()=>globalThis[fi]=!1)),globalThis[Kr]||(globalThis[Kr]=Qi().then(V=>globalThis[vr]=V).catch(()=>globalThis[vr]=!1));const bu={async:()=>globalThis[Lo],sync:()=>{const V=globalThis[Ka];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function Qa(V,U,X){if(U){if(1===U.length)return U[0];const We=U.filter(yt=>yt.app===X);if(1===We.length)return We[0]}return X.container.getProvider(V).getImmediate({optional:!0})}const wu=(V,U)=>{const X=U?[U]:(0,z.C6)(),fe=[];return X.forEach(Oe=>{Oe.container.getProvider(V).instances.forEach(yt=>{fe.includes(yt)||fe.push(yt)})}),fe};function lo(){}class Mr{constructor(U,X=yu.N){this.zone=U,this.delegate=X}now(){return this.delegate.now()}schedule(U,X,fe){const Oe=this.zone;return this.delegate.schedule(function(yt){Oe.runGuarded(()=>{U.apply(this,[yt])})},X,fe)}}class Kl{constructor(U){this.zone=U,this.task=null}call(U,X){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),X.pipe((0,bh.b)({next:fe,complete:fe,error:fe})).subscribe(U).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ja=(()=>{class V{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=X.run(()=>new Mr(Zone.current,lg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(X){return new(X||V)(a.LFG(a.R0b))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Hi(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function wh(V){return Hi().ngZone.runOutsideAngular(()=>V())}function Hs(V){return Hi().ngZone.run(()=>V())}function va(V){return Hi(),function(V){return function(X){return(X=X.lift(new Kl(V.ngZone))).pipe((0,_a.R)(V.outsideAngular),(0,Za.QV)(V.insideAngular))}}(Hi())(V)}const Vo=(V,U)=>{const X=void 0;return function(){const fe=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),Hs(()=>V.apply(X,fe))}},Pn=(V,U)=>function(){let X;const fe=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof fe[We]&&(U&&(X||(X=Hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)))),fe[We]=Vo(fe[We],X));const Oe=wh(()=>V.apply(this,fe));if(!U){if(Oe instanceof Yl.y){const We=Hi();return Oe.pipe((0,_a.R)(We.outsideAngular),(0,Za.QV)(We.insideAngular))}return Hs(()=>Oe)}return Oe instanceof Yl.y?Oe.pipe(va):Oe instanceof Promise?Hs(()=>new Promise((We,yt)=>Oe.then(pn=>Hs(()=>We(pn)),pn=>Hs(()=>yt(pn))))):"function"==typeof Oe&&X?function(){return setTimeout(()=>{X&&"scheduled"===X.state&&X.invoke()},10),Oe.apply(this,arguments)}:Hs(()=>Oe)}},7415:(st,Te,P)=>{"use strict";P.d(Te,{$:()=>XC,A:()=>bi,E:()=>Ir,G:()=>ji,I:()=>Ar,K:()=>nn,L:()=>va,M:()=>V,N:()=>U,P:()=>cl,Q:()=>X,R:()=>Ty,T:()=>Pn,U:()=>yt,V:()=>pn,W:()=>Gs,X:()=>zs,Y:()=>Xl,Z:()=>gy,_:()=>Gi,a:()=>Ca,a0:()=>ug,a1:()=>Th,a2:()=>Sh,a3:()=>dg,a4:()=>Su,a5:()=>my,a6:()=>hg,a7:()=>tc,a8:()=>_y,a9:()=>pi,aA:()=>yo,aB:()=>Ss,aC:()=>Ui,aG:()=>rc,aJ:()=>Oe,aa:()=>e0,ab:()=>yy,ae:()=>ol,af:()=>kh,ag:()=>fg,aj:()=>co,ak:()=>n0,am:()=>mg,an:()=>r0,ao:()=>zl,ap:()=>Rn,aq:()=>oo,ar:()=>Us,as:()=>kt,at:()=>qu,au:()=>Hu,av:()=>yn,aw:()=>Re,ax:()=>$e,ay:()=>ot,az:()=>ul,b:()=>br,c:()=>Tg,d:()=>Lu,e:()=>Kh,f:()=>Aa,g:()=>Uu,h:()=>Xi,i:()=>Ey,j:()=>Ag,k:()=>yc,l:()=>ki,m:()=>Wu,o:()=>sr,r:()=>Oi,s:()=>Eg,t:()=>Fh,u:()=>mo,z:()=>bs});var a=P(8239),z=P(3854),L=P(8026);function te(b,g){var _={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&g.indexOf(E)<0&&(_[E]=b[E]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(E=Object.getOwnPropertySymbols(b);I<E.length;I++)g.indexOf(E[I])<0&&Object.prototype.propertyIsEnumerable.call(b,E[I])&&(_[E[I]]=b[E[I]])}return _}var gt=P(5422),$t=P(3910);const sr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},bi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const bs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ws=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wi=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ni=new gt.Yd("@firebase/auth");function en(b,...g){ni.logLevel<=gt.in.ERROR&&ni.error(`Auth (${L.SDK_VERSION}): ${b}`,...g)}function kt(b,...g){throw Ci(b,...g)}function yn(b,...g){return Ci(b,...g)}function hi(b,g,_){const E=Object.assign(Object.assign({},ws()),{[g]:_});return new z.LL("auth","Firebase",E).create(g,{appName:b.name})}function Jn(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&kt(b,"argument-error"),hi(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ci(b,...g){if("string"!=typeof b){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return wi.create(b,...g)}function Re(b,g,..._){if(!b)throw Ci(g,..._)}function En(b){const g="INTERNAL ASSERTION FAILED: "+b;throw en(g),new Error(g)}function Rn(b,g){b||En(g)}const Qi=new Map;function $e(b){Rn(b instanceof Function,"Expected a class definition");let g=Qi.get(b);return g?(Rn(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Qi.set(b,g),g)}function ln(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function or(){return"http:"===ii()||"https:"===ii()}function ii(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class _r{constructor(g,_){this.shortDelay=g,this.longDelay=_,Rn(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(or()||(0,z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(b,g){Rn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class je{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tr=new _r(3e4,6e4);function an(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Qt(b,g,_,E){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(b,g,_,E,I={}){return Wn(b,I,(0,a.Z)(function*(){let M={},Q={};E&&("GET"===g?Q=E:M={body:JSON.stringify(E)});const we=(0,z.xO)(Object.assign({key:b.config.apiKey},Q)).slice(1),Je=yield b._getAdditionalHeaders();return Je["Content-Type"]="application/json",b.languageCode&&(Je["X-Firebase-Locale"]=b.languageCode),je.fetch()(Ot(b,b.config.apiHost,_,we),Object.assign({method:g,headers:Je,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Wn(b,g,_){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(b,g,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Qe),g);try{const I=new Le(b),M=yield Promise.race([_(),I.promise]);I.clearNetworkTimeout();const Q=yield M.json();if("needConfirmation"in Q)throw Ce(b,"account-exists-with-different-credential",Q);if(M.ok&&!("errorMessage"in Q))return Q;{const we=M.ok?Q.errorMessage:Q.error.message,[Je,Be]=we.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Ce(b,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Je)throw Ce(b,"email-already-in-use",Q);const ht=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw hi(b,ht,Be);kt(b,ht)}}catch(I){if(I instanceof z.ZR)throw I;kt(b,"network-request-failed")}})).apply(this,arguments)}function Tt(b,g,_,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(b,g,_,E,I={}){const M=yield Qt(b,g,_,E,I);return"mfaPendingCredential"in M&&kt(b,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Ot(b,g,_,E){const I=`${g}${_}?${E}`;return b.config.emulator?tn(b.config,I):`${b.config.apiScheme}://${I}`}class Le{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(yn(this.auth,"network-request-failed")),Tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ce(b,g,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const I=yn(b,g,E);return I.customData._tokenResponse=_,I}function se(){return(se=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function pe(b,g){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function H(b,g){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function q(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function N(){return(N=(0,a.Z)(function*(b,g=!1){const _=(0,z.m9)(b),E=yield _.getIdToken(g),I=ce(E);Re(I&&I.exp&&I.auth_time&&I.iat,_.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,Q=null==M?void 0:M.sign_in_provider;return{claims:I,token:E,authTime:q($(I.auth_time)),issuedAtTime:q($(I.iat)),expirationTime:q($(I.exp)),signInProvider:Q||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function $(b){return 1e3*Number(b)}function ce(b){const[g,_,E]=b.split(".");if(void 0===g||void 0===_||void 0===E)return en("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,z.tV)(_);return I?JSON.parse(I):(en("Failed to decode base64 JWT payload"),null)}catch(I){return en("Caught error parsing JWT payload as JSON",I),null}}function Ke(b,g){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof z.ZR&&qe(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function qe({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Vt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const I=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class fn{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(b){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(b){var g;const _=b.auth,E=yield b.getIdToken(),I=yield Ke(b,H(_,{idToken:E}));Re(null==I?void 0:I.users.length,_,"internal-error");const M=I.users[0];b._notifyReloadListener(M);const Q=(null===(g=M.providerUserInfo)||void 0===g?void 0:g.length)?Tn(M.providerUserInfo):[],we=Ft(b.providerData,Q),ht=!!b.isAnonymous&&!(b.email&&M.passwordHash||(null==we?void 0:we.length)),un={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:we,metadata:new fn(M.createdAt,M.lastLoginAt),isAnonymous:ht};Object.assign(b,un)})).apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(b){const g=(0,z.m9)(b);yield cn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ft(b,g){return[...b.filter(E=>!g.some(I=>I.providerId===E.providerId)),...g]}function Tn(b){return b.map(g=>{var{providerId:_}=g,E=te(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function re(){return(re=(0,a.Z)(function*(b,g){const _=yield Wn(b,{},(0,a.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:I,apiKey:M}=b.config,Q=Ot(b,I,"/v1/token",`key=${M}`),we=yield b._getAdditionalHeaders();return we["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(Q,{method:"POST",headers:we,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class he{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Re(g.idToken,"internal-error"),Re(void 0!==g.idToken,"internal-error"),Re(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(b){const g=ce(b);return Re(g,"internal-error"),Re(void 0!==g.exp,"internal-error"),Re(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,a.Z)(function*(){return Re(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,a.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:Q}=yield function(b,g){return re.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(I,M,Number(Q))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:I,expirationTime:M}=_,Q=new he;return E&&(Re("string"==typeof E,"internal-error",{appName:g}),Q.refreshToken=E),I&&(Re("string"==typeof I,"internal-error",{appName:g}),Q.accessToken=I),M&&(Re("number"==typeof M,"internal-error",{appName:g}),Q.expirationTime=M),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new he,this.toJSON())}_performRefresh(){return En("not implemented")}}function Me(b,g){Re("string"==typeof b||void 0===b,"internal-error",{appName:g})}class He{constructor(g){var{uid:_,auth:E,stsTokenManager:I}=g,M=te(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new fn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const E=yield Ke(_,_.stsTokenManager.getToken(_.auth,g));return Re(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function(b){return N.apply(this,arguments)}(this,g)}reload(){return function(b){return Ge.apply(this,arguments)}(this)}_assign(g){this!==g&&(Re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new He(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,a.Z)(function*(){let I=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),I=!0),_&&(yield cn(E)),yield E.auth._persistUserIfCurrent(E),I&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield Ke(g,function(b,g){return se.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,I,M,Q,we,Je,Be,ht;const un=null!==(E=_.displayName)&&void 0!==E?E:void 0,Fn=null!==(I=_.email)&&void 0!==I?I:void 0,er=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,Ln=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,vc=null!==(we=_.tenantId)&&void 0!==we?we:void 0,Yu=null!==(Je=_._redirectEventId)&&void 0!==Je?Je:void 0,Zu=null!==(Be=_.createdAt)&&void 0!==Be?Be:void 0,uf=null!==(ht=_.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:Ku,emailVerified:Og,isAnonymous:Qu,providerData:Ys,stsTokenManager:Pg}=_;Re(Ku&&Pg,g,"internal-error");const yl=he.fromJSON(this.name,Pg);Re("string"==typeof Ku,g,"internal-error"),Me(un,g.name),Me(Fn,g.name),Re("boolean"==typeof Og,g,"internal-error"),Re("boolean"==typeof Qu,g,"internal-error"),Me(er,g.name),Me(Ln,g.name),Me(vc,g.name),Me(Yu,g.name),Me(Zu,g.name),Me(uf,g.name);const Ng=new He({uid:Ku,auth:g,email:Fn,emailVerified:Og,displayName:un,isAnonymous:Qu,photoURL:Ln,phoneNumber:er,tenantId:vc,stsTokenManager:yl,createdAt:Zu,lastLoginAt:uf});return Ys&&Array.isArray(Ys)&&(Ng.providerData=Ys.map(bc=>Object.assign({},bc))),Yu&&(Ng._redirectEventId=Yu),Ng}static _fromIdTokenResponse(g,_,E=!1){return(0,a.Z)(function*(){const I=new he;I.updateFromServerResponse(_);const M=new He({uid:_.localId,auth:g,stsTokenManager:I,isAnonymous:E});return yield cn(M),M})()}}const nn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,E){var I=this;return(0,a.Z)(function*(){I.storage[_]=E})()}_get(_){var E=this;return(0,a.Z)(function*(){const I=E.storage[_];return void 0===I?null:I})()}_remove(_){var E=this;return(0,a.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function ot(b,g,_){return`firebase:${b}:${g}:${_}`}class On{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:I,name:M}=this.auth;this.fullUserKey=ot(this.userKey,I.apiKey,M),this.fullPersistenceKey=ot("persistence",I.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?He._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,a.Z)(function*(){if(!_.length)return new On($e(nn),g,E);const I=(yield Promise.all(_.map(function(){var Be=(0,a.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let M=I[0]||$e(nn);const Q=ot(E,g.config.apiKey,g.name);let we=null;for(const Be of _)try{const ht=yield Be._get(Q);if(ht){const un=He._fromJSON(g,ht);Be!==M&&(we=un),M=Be;break}}catch(ht){}const Je=I.filter(Be=>Be._shouldAllowMigration);return M._shouldAllowMigration&&Je.length?(M=Je[0],we&&(yield M._set(Q,we.toJSON())),yield Promise.all(_.map(function(){var Be=(0,a.Z)(function*(ht){if(ht!==M)try{yield ht._remove(Q)}catch(un){}});return function(ht){return Be.apply(this,arguments)}}())),new On(M,g,E)):new On(M,g,E)})()}}function Li(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(so(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Vi(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ar(g))return"Blackberry";if(vn(g))return"Webos";if(Cs(g))return"Safari";if((g.includes("chrome/")||Bi(g))&&!g.includes("edge/"))return"Chrome";if(Us(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Vi(b=(0,z.z$)()){return/firefox\//i.test(b)}function Cs(b=(0,z.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Bi(b=(0,z.z$)()){return/crios\//i.test(b)}function so(b=(0,z.z$)()){return/iemobile/i.test(b)}function Us(b=(0,z.z$)()){return/android/i.test(b)}function ar(b=(0,z.z$)()){return/blackberry/i.test(b)}function vn(b=(0,z.z$)()){return/webos/i.test(b)}function oo(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)}function zl(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ao(b=(0,z.z$)()){return oo(b)||Us(b)||vn(b)||ar(b)||/windows phone/i.test(b)||so(b)}function yr(b,g=[]){let _;switch(b){case"Browser":_=Li((0,z.z$)());break;case"Worker":_=`${Li((0,z.z$)())}-${b}`;break;default:_=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${L.SDK_VERSION}/${E}`}class ri{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sr(this),this.idTokenSubscription=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=$e(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var I,M;if(!E._deleted&&(E.persistenceManager=yield On.create(E,g),!E._deleted)){if(null===(I=E._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(Q){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(M=E.currentUser)||void 0===M?void 0:M.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var E;let I=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const M=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Q=null==I?void 0:I._redirectEventId,we=yield _.tryRedirectSignIn(g);(!M||M===Q)&&(null==we?void 0:we.user)&&(I=we.user)}return I?I._redirectEventId?(Re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===I._redirectEventId?_.directlySetCurrentUser(I):_.reloadAndSetCurrentUserOrClear(I)):_.reloadAndSetCurrentUserOrClear(I):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(I){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){try{yield cn(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const E=g?(0,z.m9)(g):null;return E&&Re(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){if(!_._deleted)return g&&Re(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,a.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence($e(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,a.Z)(function*(){const I=yield E.getOrInitRedirectPersistenceManager(_);return null===g?I.removeCurrentUser():I.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&$e(g)||_._popupRedirectResolver;Re(E,_,"argument-error"),_.redirectPersistenceManager=yield On.create(_,[$e(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var E,I;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,I){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(Q,this,"internal-error"),Q.then(()=>M(this.currentUser)),"function"==typeof _?g.addObserver(_,E,I):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const I=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return I&&(E["X-Firebase-Client"]=I),E})()}}function Ui(b){return(0,z.m9)(b)}class Sr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(b,g,_){const E=Ui(b);Re(E._canInitEmulator,E,"emulator-config-failed"),Re(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const I=!!(null==_?void 0:_.disableWarnings),M=za(g),{host:Q,port:we}=function(b){const g=za(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(E);if(I){const M=I[1];return{host:M,port:Fo(E.substr(M.length+1))}}{const[M,Q]=E.split(":");return{host:M,port:Fo(Q)}}}(g);E.config.emulator={url:`${M}//${Q}${null===we?"":`:${we}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:we,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function za(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Fo(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ji{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return En("not implemented")}_getIdTokenResponse(g){return En("not implemented")}_linkToIdToken(g,_){return En("not implemented")}_getReauthenticationResolver(g){return En("not implemented")}}function mh(b,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:resetPassword",an(b,g))})).apply(this,arguments)}function Wl(b,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _h(b,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:update",an(b,g))})).apply(this,arguments)}function yh(){return(yh=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithPassword",an(b,g))})).apply(this,arguments)}function _u(b,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:sendOobCode",an(b,g))})).apply(this,arguments)}function py(b,g){return vh.apply(this,arguments)}function vh(){return(vh=(0,a.Z)(function*(b,g){return _u(b,g)})).apply(this,arguments)}function ag(b,g){return yu.apply(this,arguments)}function yu(){return(yu=(0,a.Z)(function*(b,g){return _u(b,g)})).apply(this,arguments)}function lg(b,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,a.Z)(function*(b,g){return _u(b,g)})).apply(this,arguments)}function bh(b,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(b,g){return _u(b,g)})).apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithEmailLink",an(b,g))})).apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithEmailLink",an(b,g))})).apply(this,arguments)}class vr extends ji{constructor(g,_,E,I=null){super("password",E),this._email=g,this._password=_,this._tenantId=I}static _fromEmailAndPassword(g,_){return new vr(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new vr(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function(b,g){return yh.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,g){return vu.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:kt(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return Wl(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(b,g){return Lo.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:kt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Kr(b,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithIdp",an(b,g))})).apply(this,arguments)}class Ar extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ar(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):kt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:I}=_,M=te(_,["providerId","signInMethod"]);if(!E||!I)return null;const Q=new Ar(E,I);return Q.idToken=M.idToken||void 0,Q.accessToken=M.accessToken||void 0,Q.secret=M.secret,Q.nonce=M.nonce,Q.pendingToken=M.pendingToken||null,Q}_getIdTokenResponse(g){return Kr(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Kr(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Kr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,z.xO)(_)}return g}}function cg(b,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:sendVerificationCode",an(b,g))})).apply(this,arguments)}function Qa(){return(Qa=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,g))})).apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(b,g){const _=yield Tt(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,g));if(_.temporaryProof)throw Ce(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Mr={USER_NOT_FOUND:"user-not-found"};function Ja(){return(Ja=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithPhoneNumber",an(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Mr)})).apply(this,arguments)}class Hi extends ji{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Hi({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Hi({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function(b,g){return Qa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function(b,g){return lo.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(b,g){return Ja.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:I}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:I}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:I,temporaryProof:M}=g;return E||_||I||M?new Hi({verificationId:_,verificationCode:E,phoneNumber:I,temporaryProof:M}):null}}class Xa{constructor(g){var _,E,I,M,Q,we;const Je=(0,z.zd)((0,z.pd)(g)),Be=null!==(_=Je.apiKey)&&void 0!==_?_:null,ht=null!==(E=Je.oobCode)&&void 0!==E?E:null,un=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Je.mode)&&void 0!==I?I:null);Re(Be&&ht&&un,"argument-error"),this.apiKey=Be,this.operation=un,this.code=ht,this.continueUrl=null!==(M=Je.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Q=Je.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(we=Je.tenantId)&&void 0!==we?we:null}static parseLink(g){const _=function(b){const g=(0,z.zd)((0,z.pd)(b)).link,_=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||_||g||b}(g);try{return new Xa(_)}catch(E){return null}}}let va=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return vr._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const I=Xa.parseLink(E);return Re(I,"argument-error"),vr._fromEmailAndCode(_,I.code,I.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class lr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Vo extends lr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Pn extends Vo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Re("providerId"in _&&"signInMethod"in _,"argument-error"),Ar._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Re(g.idToken||g.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Pn.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Pn.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:I,pendingToken:M,nonce:Q,providerId:we}=g;if(!E&&!I&&!_&&!M||!we)return null;try{return new Pn(we)._credential({idToken:_,accessToken:E,nonce:Q,pendingToken:M})}catch(Je){return null}}}let V=(()=>{class b extends Vo{constructor(){super("facebook.com")}static credential(_){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),U=(()=>{class b extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:I}=_;if(!E&&!I)return null;try{return b.credential(E,I)}catch(M){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),X=(()=>{class b extends Vo{constructor(){super("github.com")}static credential(_){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Oe extends ji{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Kr(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,Kr(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Kr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:I,pendingToken:M}=_;return E&&I&&M&&E===I?new Oe(E,M):null}static _create(g,_){return new Oe(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yt extends lr{constructor(g){Re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return yt.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return yt.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Oe.fromJSON(g);return Re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Oe._create(E,_)}catch(I){return null}}}let pn=(()=>{class b extends Vo{constructor(){super("twitter.com")}static credential(_,E){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:I}=_;if(!E||!I)return null;try{return b.credential(E,I)}catch(M){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function xi(b,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signUp",an(b,g))})).apply(this,arguments)}class Jt{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,I=!1){return(0,a.Z)(function*(){const M=yield He._fromIdTokenResponse(g,E,I),Q=St(E);return new Jt({user:M,providerId:Q,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const I=St(E);return new Jt({user:g,providerId:I,_tokenResponse:E,operationType:_})})()}}function St(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Gs(b){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(b){var g;const _=Ui(b);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Jt({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield xi(_,{returnSecureToken:!0}),I=yield Jt._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class mt extends z.ZR{constructor(g,_,E,I){var M;super(_.code,_.message),this.operationType=E,this.user=I,Object.setPrototypeOf(this,mt.prototype),this.customData={appName:g.name,tenantId:null!==(M=g.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,I){return new mt(g,_,E,I)}}function el(b,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?mt._fromErrorAndOperation(b,M,g,E):M})}function Bo(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function co(b,g){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(b,g){const _=(0,z.m9)(b);yield Uo(!0,_,g);const{providerUserInfo:E}=yield pe(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),I=Bo(E||[]);return _.providerData=_.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function tl(b,g){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,a.Z)(function*(b,g,_=!1){const E=yield Ke(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Jt._forOperation(b,"link",E)})).apply(this,arguments)}function Uo(b,g,_){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(b,g,_){yield cn(g);const I=!1===b?"provider-already-linked":"no-such-provider";Re(Bo(g.providerData).has(_)===b,g.auth,I)})).apply(this,arguments)}function rn(b,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(b,g,_=!1){const{auth:E}=b,I="reauthenticate";try{const M=yield Ke(b,el(E,I,g,b),_);Re(M.idToken,E,"internal-error");const Q=ce(M.idToken);Re(Q,E,"internal-error");const{sub:we}=Q;return Re(b.uid===we,E,"user-mismatch"),Jt._forOperation(b,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&kt(E,"user-mismatch"),M}})).apply(this,arguments)}function Kn(b,g){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(b,g,_=!1){const E="signIn",I=yield el(b,E,g),M=yield Jt._fromIdTokenResponse(b,E,I);return _||(yield b._updateCurrentUser(M.user)),M})).apply(this,arguments)}function zs(b,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(b,g){return Kn(Ui(b),g)})).apply(this,arguments)}function Xl(b,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(b,g){const _=(0,z.m9)(b);return yield Uo(!1,_,g.providerId),tl(_,g)})).apply(this,arguments)}function gy(b,g){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,a.Z)(function*(b,g){return rn((0,z.m9)(b),g)})).apply(this,arguments)}function Cu(b,g){return il.apply(this,arguments)}function il(){return(il=(0,a.Z)(function*(b,g){return Tt(b,"POST","/v1/accounts:signInWithCustomToken",an(b,g))})).apply(this,arguments)}function Gi(b,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,a.Z)(function*(b,g){const _=Ui(b),E=yield Cu(_,{token:g,returnSecureToken:!0}),I=yield Jt._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class Eu{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Es._fromServerResponse(g,_):kt(g,"internal-error")}}class Es extends Eu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Es(_)}}function kr(b,g,_){var E;Re((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),Re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Re(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function XC(b,g,_){return Du.apply(this,arguments)}function Du(){return(Du=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b),I={requestType:"PASSWORD_RESET",email:g};_&&kr(E,I,_),yield ag(E,I)})).apply(this,arguments)}function ug(b,g,_){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,a.Z)(function*(b,g,_){yield mh((0,z.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Th(b,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function*(b,g){yield _h((0,z.m9)(b),{oobCode:g})})).apply(this,arguments)}function Sh(b,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(b,g){const _=(0,z.m9)(b),E=yield mh(_,{oobCode:g}),I=E.requestType;switch(Re(I,_,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(E.mfaInfo,_,"internal-error");default:Re(E.email,_,"internal-error")}let M=null;return E.mfaInfo&&(M=Eu._fromServerResponse(Ui(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function dg(b,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,a.Z)(function*(b,g){const{data:_}=yield Sh((0,z.m9)(b),g);return _.email})).apply(this,arguments)}function Su(b,g,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(b,g,_){const E=Ui(b),I=yield xi(E,{returnSecureToken:!0,email:g,password:_}),M=yield Jt._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(M.user),M})).apply(this,arguments)}function my(b,g,_){return zs((0,z.m9)(b),va.credential(g,_))}function hg(b,g,_){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b),I={requestType:"EMAIL_SIGNIN",email:g};Re(_.handleCodeInApp,E,"argument-error"),_&&kr(E,I,_),yield lg(E,I)})).apply(this,arguments)}function tc(b,g){const _=Xa.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function _y(b,g,_){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b),I=va.credentialWithLink(g,_||ln());return Re(I._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),zs(E,I)})).apply(this,arguments)}function cr(b,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:createAuthUri",an(b,g))})).apply(this,arguments)}function pi(b,g){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,a.Z)(function*(b,g){const E={identifier:g,continueUri:or()?ln():"http://localhost"},{signinMethods:I}=yield cr((0,z.m9)(b),E);return I||[]})).apply(this,arguments)}function e0(b,g){return xh.apply(this,arguments)}function xh(){return(xh=(0,a.Z)(function*(b,g){const _=(0,z.m9)(b),I={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&kr(_.auth,I,g);const{email:M}=yield py(_.auth,I);M!==b.email&&(yield b.reload())})).apply(this,arguments)}function yy(b,g,_){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&kr(E.auth,M,_);const{email:Q}=yield bh(E.auth,M);Q!==b.email&&(yield b.reload())})).apply(this,arguments)}function rl(b,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(b,g){return Qt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ol(b,g){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,z.m9)(b),M={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Q=yield Ke(E,rl(E.auth,M));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const we=E.providerData.find(({providerId:Je})=>"password"===Je);we&&(we.displayName=E.displayName,we.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)})).apply(this,arguments)}function kh(b,g){return pg((0,z.m9)(b),g,null)}function fg(b,g){return pg((0,z.m9)(b),null,g)}function pg(b,g,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(b,g,_){const{auth:E}=b,M={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(M.email=g),_&&(M.password=_);const Q=yield Ke(b,Wl(E,M));yield b._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class nc{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class gg extends nc{constructor(g,_,E,I){super(g,_,E),this.username=I}}class ic extends nc{constructor(g,_){super(g,"facebook.com",_)}}class Oh extends gg{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ph extends nc{constructor(g,_){super(g,"google.com",_)}}class t0 extends gg{constructor(g,_,E){super(g,"twitter.com",_,E)}}function n0(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var g,_;if(!b)return null;const{providerId:E}=b,I=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},M=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const Q=null===(_=null===(g=ce(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new nc(M,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new ic(M,I);case"github.com":return new Oh(M,I);case"google.com":return new Ph(M,I);case"twitter.com":return new t0(M,I,b.screenName||null);case"custom":case"anonymous":return new nc(M,null);default:return new nc(M,E,I)}}(_)}function Fh(b,g,_,E){return(0,z.m9)(b).onAuthStateChanged(g,_,E)}class ll{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new ll("enroll",g)}static _fromMfaPendingCredential(g){return new ll("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return ll._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return ll._fromIdtoken(g.multiFactorSession.idToken)}return null}}class wa{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=Ui(g),I=_.customData._serverResponse,M=(I.mfaInfo||[]).map(we=>Eu._fromServerResponse(E,we));Re(I.mfaPendingCredential,E,"internal-error");const Q=ll._fromMfaPendingCredential(I.mfaPendingCredential);return new wa(Q,M,function(){var we=(0,a.Z)(function*(Je){const Be=yield Je._process(E,Q);delete I.mfaInfo,delete I.mfaPendingCredential;const ht=Object.assign(Object.assign({},I),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(_.operationType){case"signIn":const un=yield Jt._fromIdTokenResponse(E,_.operationType,ht);return yield E._updateCurrentUser(un.user),un;case"reauthenticate":return Re(_.user,E,"internal-error"),Jt._forOperation(_.user,_.operationType,ht);default:kt(E,"internal-error")}});return function(Je){return we.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function mg(b,g){var _;const E=(0,z.m9)(b),I=g;return Re(g.customData.operationType,E,"argument-error"),Re(null===(_=I.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),wa._fromError(E,I)}function Mu(b,g){return Qt(b,"POST","/v2/accounts/mfaEnrollment:start",an(b,g))}class Bh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Eu._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Bh(g)}getSession(){var g=this;return(0,a.Z)(function*(){return ll._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,a.Z)(function*(){const I=g,M=yield E.getSession(),Q=yield Ke(E.user,I._process(E.user.auth,M,_));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){const E="string"==typeof g?g:g.uid,I=yield _.user.getIdToken(),M=yield Ke(_.user,function(b,g){return Qt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",an(b,g))}(_.user.auth,{idToken:I,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==E),yield _.user._updateTokensIfNecessary(M);try{yield _.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const yg=new WeakMap;function r0(b){const g=(0,z.m9)(b);return yg.has(g)||yg.set(g,Bh._fromUser(g)),yg.get(g)}const jo="__sak";class Uh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(jo,"1"),this.storage.removeItem(jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const br=(()=>{class b extends Uh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,z.z$)();return Cs(b)||oo(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const I=this.storage.getItem(E),M=this.localCache[E];I!==M&&_(E,M,I)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((we,Je,Be)=>{this.notifyListeners(we,Be)});const I=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const we=this.storage.getItem(I);if(_.newValue!==we)null!==_.newValue?this.storage.setItem(I,_.newValue):this.storage.removeItem(I);else if(this.localCache[I]===_.newValue&&!E)return}const M=()=>{const we=this.storage.getItem(I);!E&&this.localCache[I]===we||this.notifyListeners(I,we)},Q=this.storage.getItem(I);(0,z.w1)()&&10===document.documentMode&&Q!==_.newValue&&_.newValue!==_.oldValue?setTimeout(M,10):M()}notifyListeners(_,E){this.localCache[_]=E;const I=this.listeners[_];if(I)for(const M of Array.from(I))M(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var I=()=>super._set,M=this;return(0,a.Z)(function*(){yield I().call(M,_,E),M.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,I=this;return(0,a.Z)(function*(){const M=yield E().call(I,_);return I.localCache[_]=JSON.stringify(M),M})()}_remove(_){var E=()=>super._remove,I=this;return(0,a.Z)(function*(){yield E().call(I,_),delete I.localCache[_]})()}}return b.type="LOCAL",b})(),Ca=(()=>{class b extends Uh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let wy=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(M=>M.isListeningto(_));if(E)return E;const I=new b(_);return this.receivers.push(I),I}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,a.Z)(function*(){const I=_,{eventId:M,eventType:Q,data:we}=I.data,Je=E.handlersMap[Q];if(!(null==Je?void 0:Je.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:Q});const Be=Array.from(Je).map(function(){var un=(0,a.Z)(function*(Fn){return Fn(I.origin,we)});return function(Fn){return un.apply(this,arguments)}}()),ht=yield function(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(Be);I.ports[0].postMessage({status:"done",eventId:M,eventType:Q,response:ht})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function rc(b="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return b+_}class Ru{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var I=this;return(0,a.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Q,we;return new Promise((Je,Be)=>{const ht=rc("",20);M.port1.start();const un=setTimeout(()=>{Be(new Error("unsupported_event"))},E);we={messageChannel:M,onMessage(Fn){const er=Fn;if(er.data.eventId===ht)switch(er.data.status){case"ack":clearTimeout(un),Q=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Je(er.data.response);break;default:clearTimeout(un),clearTimeout(Q),Be(new Error("invalid_response"))}}},I.handlers.add(we),M.port1.addEventListener("message",we.onMessage),I.target.postMessage({eventType:g,eventId:ht,data:_},[M.port2])}).finally(()=>{we&&I.removeMessageHandler(we)})})()}}function Bt(){return window}function ku(){return void 0!==Bt().WorkerGlobalScope&&"function"==typeof Bt().importScripts}function Ho(){return(Ho=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Gh="firebaseLocalStorageDb",cs="firebaseLocalStorage",Ea="fbase_key";class Ds{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Or(b,g){return b.transaction([cs],g?"readwrite":"readonly").objectStore(cs)}function bg(){const b=indexedDB.open(Gh,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(cs,{keyPath:Ea})}catch(I){_(I)}}),b.addEventListener("success",(0,a.Z)(function*(){const E=b.result;E.objectStoreNames.contains(cs)?g(E):(E.close(),yield function(){const b=indexedDB.deleteDatabase(Gh);return new Ds(b).toPromise()}(),g(yield bg()))}))})}function _t(b,g,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,a.Z)(function*(b,g,_){const E=Or(b,!0).put({[Ea]:g,value:_});return new Ds(E).toPromise()})).apply(this,arguments)}function $h(){return($h=(0,a.Z)(function*(b,g){const _=Or(b,!1).get(g),E=yield new Ds(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ei(b,g){const _=Or(b,!0).delete(g);return new Ds(_).toPromise()}const Ey=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield bg()),_.db})()}_withRetries(_){var E=this;return(0,a.Z)(function*(){let I=0;for(;;)try{const M=yield E._openDb();return yield _(M)}catch(M){if(I++>3)throw M;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return ku()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=wy._getInstance(ku()?self:null),_.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(I,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(I,M){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var E,I;if(_.activeServiceWorker=yield function(){return Ho.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ru(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(E=M[0])||void 0===E?void 0:E.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield bg();return yield _t(_,jo,"1"),yield ei(_,jo),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(M=>_t(M,_,E)),I.localCache[_]=E,I.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,a.Z)(function*(){const I=yield E._withRetries(M=>function(b,g){return $h.apply(this,arguments)}(M,_));return E.localCache[_]=I,I})()}_remove(_){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(I=>ei(I,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const E=yield _._withRetries(Q=>{const we=Or(Q,!1).getAll();return new Ds(we).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:Q,value:we}of E)M.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(we)&&(_.notifyListeners(Q,we),I.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!M.has(Q)&&(_.notifyListeners(Q,null),I.push(Q));return I})()}notifyListeners(_,E){this.localCache[_]=E;const I=this.listeners[_];if(I)for(const M of Array.from(I))M(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function o0(b,g){return Qt(b,"POST","/v2/accounts/mfaSignIn:start",an(b,g))}function wg(){return(wg=(0,a.Z)(function*(b){return(yield Qt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hn(b){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=I=>{const M=yn("internal-error");M.customData=I,_(M)},E.type="text/javascript",E.charset="UTF-8",function(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Dy(b){return`__${b}${Math.floor(1e6*Math.random())}`}const oi=1e12;class Pu{constructor(g){this.auth=g,this.counter=oi,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Ri(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||oi;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||oi))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var E;return null===(E=_._widgets.get(g||oi))||void 0===E||E.execute(),""})()}}class Ri{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof g?document.getElementById(g):g;Re(I,"argument-error",{appName:_}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}();const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ac=Dy("rcb"),us=new _r(3e4,6e4);class lc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bt().grecaptcha}load(g,_=""){return Re((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Bt().grecaptcha):new Promise((E,I)=>{const M=Bt().setTimeout(()=>{I(yn(g,"network-request-failed"))},us.get());Bt()[ac]=()=>{Bt().clearTimeout(M),delete Bt()[ac];const we=Bt().grecaptcha;if(!we)return void I(yn(g,"internal-error"));const Je=we.render;we.render=(Be,ht)=>{const un=Je(Be,ht);return this.counter++,un},this.hostLanguage=_,E(we)},Hn(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:ac,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),I(yn(g,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Bt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Go{load(g){return(0,a.Z)(function*(){return new Pu(g)})()}clearedOneInstance(){}}const qh="recaptcha",Cg={theme:"light",type:"image"};class Ty{constructor(g,_=Object.assign({},Cg),E){this.parameters=_,this.type=qh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(E),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof g?document.getElementById(g):g;Re(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Go:new lc,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(M=>{const Q=we=>{!we||(g.tokenChangeListeners.delete(Q),M(we))};g.tokenChangeListeners.add(Q),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=Bt()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){Re(or()&&!ku(),g.auth,"internal-error"),yield function(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function(b){return wg.apply(this,arguments)}(g.auth);Re(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wh{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Hi._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Eg(b,g,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,a.Z)(function*(b,g,_){const E=Ui(b),I=yield Nu(E,g,(0,z.m9)(_));return new Wh(I,M=>zs(E,M))})).apply(this,arguments)}function ki(b,g,_){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b);yield Uo(!1,E,"phone");const I=yield Nu(E.auth,g,(0,z.m9)(_));return new Wh(I,M=>Xl(E,M))})).apply(this,arguments)}function Oi(b,g,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b),I=yield Nu(E.auth,g,(0,z.m9)(_));return new Wh(I,M=>gy(E,M))})).apply(this,arguments)}function Nu(b,g,_){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,a.Z)(function*(b,g,_){var E;const I=yield _.verify();try{let M;if(Re("string"==typeof I,b,"argument-error"),Re(_.type===qh,b,"argument-error"),M="string"==typeof g?{phoneNumber:g}:g,"session"in M){const Q=M.session;if("phoneNumber"in M)return Re("enroll"===Q.type,b,"internal-error"),(yield Mu(b,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Re("signin"===Q.type,b,"internal-error");const we=(null===(E=M.multiFactorHint)||void 0===E?void 0:E.uid)||M.multiFactorUid;return Re(we,b,"missing-multi-factor-info"),(yield o0(b,{mfaPendingCredential:Q.credential,mfaEnrollmentId:we,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield cg(b,{phoneNumber:M.phoneNumber,recaptchaToken:I});return Q}}finally{_._reset()}})).apply(this,arguments)}function mo(b,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,a.Z)(function*(b,g){yield tl((0,z.m9)(b),g)})).apply(this,arguments)}let cl=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Ui(_)}verifyPhoneNumber(_,E){return Nu(this.auth,_,(0,z.m9)(E))}static credential(_,E){return Hi._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:I}=_;return E&&I?Hi._fromTokenResponse(E,I):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ds(b,g){return g?$e(g):(Re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class dc extends ji{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Kr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Kr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Kr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Fu(b){return Kn(b.auth,new dc(b),b.bypassAuthState)}function c0(b){const{auth:g,user:_}=b;return Re(_,g,"internal-error"),rn(_,new dc(b),b.bypassAuthState)}function hc(b){return fc.apply(this,arguments)}function fc(){return(fc=(0,a.Z)(function*(b){const{auth:g,user:_}=b;return Re(_,g,"internal-error"),tl(_,new dc(b),b.bypassAuthState)})).apply(this,arguments)}class Sa{constructor(g,_,E,I,M=!1){this.auth=g,this.resolver=E,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(E,I){g.pendingPromise={resolve:E,reject:I};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(M){g.reject(M)}});return function(E,I){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:I,postBody:M,tenantId:Q,error:we,type:Je}=g;if(we)return void _.reject(we);const Be={auth:_.auth,requestUri:E,sessionId:I,tenantId:Q||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Je)(Be))}catch(ht){_.reject(ht)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Fu;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return c0;default:kt(this.auth,"internal-error")}}resolve(g){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dg=new _r(2e3,1e4);function Tg(b,g,_){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,a.Z)(function*(b,g,_){const E=Ui(b);Jn(b,g,lr);const I=ds(E,_);return new Pt(E,"signInViaPopup",g,I).executeNotNull()})).apply(this,arguments)}function Kh(b,g,_){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b);Jn(E.auth,g,lr);const I=ds(E.auth,_);return new Pt(E.auth,"reauthViaPopup",g,I,E).executeNotNull()})).apply(this,arguments)}function Lu(b,g,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b);Jn(E.auth,g,lr);const I=ds(E.auth,_);return new Pt(E.auth,"linkViaPopup",g,I,E).executeNotNull()})).apply(this,arguments)}let Pt=(()=>{class b extends Sa{constructor(_,E,I,M,Q){super(_,E,M,Q),this.provider=I,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const E=yield _.execute();return Re(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,a.Z)(function*(){Rn(1===_.filter.length,"Popup operations only handle one event");const E=rc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(I=>{_.reject(I)}),_.resolver._isIframeWebStorageSupported(_.auth,I=>{I||_.reject(yn(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,I;this.pollId=(null===(I=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Dg.get())};_()}}return b.currentPopupAction=null,b})();const Nn=new Map;class Qh extends Sa{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let E=Nn.get(_.auth._key());if(!E){try{const M=(yield function(b,g){return _o.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(M)}catch(I){E=()=>Promise.reject(I)}Nn.set(_.auth._key(),E)}return _.bypassAuthState||Nn.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const I=yield E.auth._redirectUserForId(g.eventId);if(I)return E.user=I,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function _o(){return(_o=(0,a.Z)(function*(b,g){const _=Ig(g),E=Vu(b);if(!(yield E._isAvailable()))return!1;const I="true"===(yield E._get(_));return yield E._remove(_),I})).apply(this,arguments)}function Ia(b,g){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,a.Z)(function*(b,g){return Vu(b)._set(Ig(g),"true")})).apply(this,arguments)}function Ss(){Nn.clear()}function Vu(b){return $e(b._redirectPersistence)}function Ig(b){return ot("pendingRedirect",b.config.apiKey,b.name)}function Aa(b,g,_){return function(b,g,_){return ai.apply(this,arguments)}(b,g,_)}function ai(){return(ai=(0,a.Z)(function*(b,g,_){const E=Ui(b);Jn(b,g,lr);const I=ds(E,_);return yield Ia(I,E),I._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Xi(b,g,_){return function(b,g,_){return Bu.apply(this,arguments)}(b,g,_)}function Bu(){return(Bu=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b);Jn(E.auth,g,lr);const I=ds(E.auth,_);yield Ia(I,E.auth);const M=yield gc(E);return I._openRedirect(E.auth,g,"reauthViaRedirect",M)})).apply(this,arguments)}function Uu(b,g,_){return function(b,g,_){return ju.apply(this,arguments)}(b,g,_)}function ju(){return(ju=(0,a.Z)(function*(b,g,_){const E=(0,z.m9)(b);Jn(E.auth,g,lr);const I=ds(E.auth,_);yield Uo(!1,E,g.providerId),yield Ia(I,E.auth);const M=yield gc(E);return I._openRedirect(E.auth,g,"linkViaRedirect",M)})).apply(this,arguments)}function Ag(b,g){return ef.apply(this,arguments)}function ef(){return(ef=(0,a.Z)(function*(b,g){return yield Ui(b)._initializationPromise,yo(b,g,!1)})).apply(this,arguments)}function yo(b,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(b,g,_=!1){const E=Ui(b),I=ds(E,g),Q=yield new Qh(E,I,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,g)),Q})).apply(this,arguments)}function gc(b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(b){const g=rc(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class ul{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zo(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!Zo(g)){const I=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(yn(this.auth,I))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ay(g))}saveEventToCache(g){this.cachedEventUids.add(Ay(g)),this.lastProcessedEventTime=Date.now()}}function Ay(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Zo({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Hu(b){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(b,g={}){return Qt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const tf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function Gu(){return(Gu=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Hu(b);for(const _ of g)try{if(nf(_))return}catch(E){}kt(b,"unauthorized-domain")})).apply(this,arguments)}function nf(b){const g=ln(),{protocol:_,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const Q=new URL(b);return""===Q.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===E}if(!vo.test(_))return!1;if(tf.test(b))return E===b;const I=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(E)}const $u=new _r(3e4,6e4);function dl(){const b=Bt().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let hl=null;function rf(b){return hl=hl||function(b){return new Promise((g,_)=>{var E,I,M;function Q(){dl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{dl(),_(yn(b,"network-request-failed"))},timeout:$u.get()})}if(null===(I=null===(E=Bt().gapi)||void 0===E?void 0:E.iframes)||void 0===I?void 0:I.Iframe)g(gapi.iframes.getContext());else{if(!(null===(M=Bt().gapi)||void 0===M?void 0:M.load)){const we=Dy("iframefcb");return Bt()[we]=()=>{gapi.load?Q():_(yn(b,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${we}`).catch(Je=>_(Je))}Q()}}).catch(g=>{throw hl=null,g})}(b),hl}const xa=new _r(5e3,15e3),zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ky=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oy(b){const g=b.config;Re(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?tn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:b.name,v:L.SDK_VERSION},I=ky.get(b.config.apiHost);I&&(E.eid=I);const M=b._getFrameworks();return M.length&&(E.fw=M.join(",")),`${_}?${(0,z.xO)(E).slice(1)}`}function Ko(){return(Ko=(0,a.Z)(function*(b){const g=yield rf(b),_=Bt().gapi;return Re(_,b,"internal-error"),g.open({where:document.body,url:Oy(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zu,dontclear:!0},E=>new Promise(function(){var I=(0,a.Z)(function*(M,Q){yield E.restyle({setHideOnLeave:!1});const we=yn(b,"network-request-failed"),Je=Bt().setTimeout(()=>{Q(we)},xa.get());function Be(){Bt().clearTimeout(Je),M(E)}E.ping(Be).then(Be,()=>{Q(we)})});return function(M,Q){return I.apply(this,arguments)}}()))})).apply(this,arguments)}const Mg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function qu(b,g,_,E,I,M){Re(b.config.authDomain,b,"auth-domain-config-required"),Re(b.config.apiKey,b,"invalid-api-key");const Q={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:L.SDK_VERSION,eventId:I};if(g instanceof lr){g.setDefaultLanguage(b.languageCode),Q.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(Q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,Be]of Object.entries(M||{}))Q[Je]=Be}if(g instanceof Vo){const Je=g.getScopes().filter(Be=>""!==Be);Je.length>0&&(Q.scopes=Je.join(","))}b.tenantId&&(Q.tid=b.tenantId);const we=Q;for(const Je of Object.keys(we))void 0===we[Je]&&delete we[Je];return`${function({config:b}){return b.emulator?tn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,z.xO)(we).slice(1)}`}const gl="webStorageSupport",yc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=yo}_openPopup(g,_,E,I){var M=this;return(0,a.Z)(function*(){var Q;Rn(null===(Q=M.eventManagers[g._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const we=qu(g,_,E,ln(),I);return function(b,g,_,E=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let we="";const Je=Object.assign(Object.assign({},Mg),{width:E.toString(),height:I.toString(),top:M,left:Q}),Be=(0,z.z$)().toLowerCase();_&&(we=Bi(Be)?"_blank":_),Vi(Be)&&(g=g||"http://localhost",Je.scrollbars="yes");const ht=Object.entries(Je).reduce((Fn,[er,Ln])=>`${Fn}${er}=${Ln},`,"");if(function(b=(0,z.z$)()){var g;return oo(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Be)&&"_self"!==we)return function(b,g){const _=document.createElement("a");_.href=b,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",we),new fl(null);const un=window.open(g||"",we,ht);Re(un,b,"popup-blocked");try{un.focus()}catch(Fn){}return new fl(un)}(g,we,rc())})()}_openRedirect(g,_,E,I){var M=this;return(0,a.Z)(function*(){return yield M._originValidation(g),b=qu(g,_,E,ln(),I),Bt().location.href=b,new Promise(()=>{});var b})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:I,promise:M}=this.eventManagers[_];return I?Promise.resolve(I):(Rn(M,"If manager is not set, promise should be"),M)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const E=yield function(b){return Ko.apply(this,arguments)}(g),I=new ul(g);return E.register("authEvent",M=>(Re(null==M?void 0:M.authEvent,g,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:I},_.iframes[g._key()]=E,I})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(gl,{type:gl},I=>{var M;const Q=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[gl];void 0!==Q&&_(!!Q),kt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Gu.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ao()||Cs()||oo()}};class Co extends class{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return En("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Co(g)}_finalizeEnroll(g,_,E){return function(b,g){return Qt(b,"POST","/v2/accounts/mfaEnrollment:finalize",an(b,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function(b,g){return Qt(b,"POST","/v2/accounts/mfaSignIn:finalize",an(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class b{constructor(){}static assertion(_){return Co._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b,cf="@firebase/auth",_l="0.19.11";class Ny{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var I;g((null===(I=E)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}b="Browser",(0,L._registerComponent)(new $t.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),I=g.getProvider("heartbeat"),{apiKey:M,authDomain:Q}=E.options;return((we,Je)=>{Re(M&&!M.includes(":"),"invalid-api-key",{appName:we.name}),Re(!(null==Q?void 0:Q.includes(":")),"argument-error",{appName:we.name});const Be={apiKey:M,authDomain:Q,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(b)},ht=new ri(we,Je,Be);return function(b,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map($e);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(ht,_),ht})(E,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new $t.wA("auth-internal",g=>{const _=Ui(g.getProvider("auth").getImmediate());return new Ny(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(cf,_l,void 0),(0,L.registerVersion)(cf,_l,"esm2017")},3854:(st,Te,P)=>{"use strict";P.d(Te,{BH:()=>me,LL:()=>sr,ZR:()=>rt,zI:()=>jt,US:()=>te,tV:()=>B,L:()=>ee,$s:()=>Ht,r3:()=>ni,Sg:()=>Ae,ne:()=>Qi,vZ:()=>hi,ZB:()=>G,Lj:()=>pe,pd:()=>En,m9:()=>Tt,z$:()=>ve,jU:()=>Fe,ru:()=>et,d:()=>wn,xb:()=>kt,w1:()=>Xt,hl:()=>xt,uI:()=>Ve,UG:()=>_e,b$:()=>Yt,G6:()=>Cn,Mn:()=>Kt,X3:()=>se,xO:()=>Ci,zd:()=>Re,eu:()=>vt});var a=P(8239);const ue=function(H){const O=[];let q=0;for(let ae=0;ae<H.length;ae++){let R=H.charCodeAt(ae);R<128?O[q++]=R:R<2048?(O[q++]=R>>6|192,O[q++]=63&R|128):55296==(64512&R)&&ae+1<H.length&&56320==(64512&H.charCodeAt(ae+1))?(R=65536+((1023&R)<<10)+(1023&H.charCodeAt(++ae)),O[q++]=R>>18|240,O[q++]=R>>12&63|128,O[q++]=R>>6&63|128,O[q++]=63&R|128):(O[q++]=R>>12|224,O[q++]=R>>6&63|128,O[q++]=63&R|128)}return O},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,O){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let R=0;R<H.length;R+=3){const N=H[R],$=R+1<H.length,ce=$?H[R+1]:0,Pe=R+2<H.length,Ke=Pe?H[R+2]:0;let Vt=(15&ce)<<2|Ke>>6,fn=63&Ke;Pe||(fn=64,$||(Vt=64)),ae.push(q[N>>2],q[(3&N)<<4|ce>>4],q[Vt],q[fn])}return ae.join("")},encodeString(H,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(H):this.encodeByteArray(ue(H),O)},decodeString(H,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(H):function(H){const O=[];let q=0,ae=0;for(;q<H.length;){const R=H[q++];if(R<128)O[ae++]=String.fromCharCode(R);else if(R>191&&R<224){const N=H[q++];O[ae++]=String.fromCharCode((31&R)<<6|63&N)}else if(R>239&&R<365){const Pe=((7&R)<<18|(63&H[q++])<<12|(63&H[q++])<<6|63&H[q++])-65536;O[ae++]=String.fromCharCode(55296+(Pe>>10)),O[ae++]=String.fromCharCode(56320+(1023&Pe))}else{const N=H[q++],$=H[q++];O[ae++]=String.fromCharCode((15&R)<<12|(63&N)<<6|63&$)}}return O.join("")}(this.decodeStringToByteArray(H,O))},decodeStringToByteArray(H,O){this.init_();const q=O?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let R=0;R<H.length;){const N=q[H.charAt(R++)],ce=R<H.length?q[H.charAt(R)]:0;++R;const Ke=R<H.length?q[H.charAt(R)]:64;++R;const qe=R<H.length?q[H.charAt(R)]:64;if(++R,null==N||null==ce||null==Ke||null==qe)throw Error();ae.push(N<<2|ce>>4),64!==Ke&&(ae.push(ce<<4&240|Ke>>2),64!==qe&&ae.push(Ke<<6&192|qe))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ee=function(H){return function(H){const O=ue(H);return te.encodeByteArray(O,!0)}(H).replace(/\./g,"")},B=function(H){try{return te.decodeString(H,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function G(H,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return O}for(const q in O)!O.hasOwnProperty(q)||!ie(q)||(H[q]=G(H[q],O[q]));return H}function ie(H){return"__proto__"!==H}class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,q)=>{this.resolve=O,this.reject=q})}wrapCallback(O){return(q,ae)=>{q?this.reject(q):this.resolve(ae),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(q):O(q,ae))}}}function Ae(H,O){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ae=O||"demo-project",R=H.iat||0,N=H.sub||H.user_id;if(!N)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $=Object.assign({iss:`https://securetoken.google.com/${ae}`,aud:ae,iat:R,exp:R+3600,auth_time:R,sub:N,user_id:N,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify($)),""].join(".")}function ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function et(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wn(){return ve().indexOf("Electron/")>=0}function Xt(){const H=ve();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Kt(){return ve().indexOf("MSAppHost/")>=0}function Cn(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xt(){return"object"==typeof indexedDB}function vt(){return new Promise((H,O)=>{try{let q=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(ae);R.onsuccess=()=>{R.result.close(),q||self.indexedDB.deleteDatabase(ae),H(!0)},R.onupgradeneeded=()=>{q=!1},R.onerror=()=>{var N;O((null===(N=R.error)||void 0===N?void 0:N.message)||"")}}catch(q){O(q)}})}function jt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class rt extends Error{constructor(O,q,ae){super(q),this.code=O,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}}class sr{constructor(O,q,ae){this.service=O,this.serviceName=q,this.errors=ae}create(O,...q){const ae=q[0]||{},R=`${this.service}/${O}`,N=this.errors[O],$=N?function(H,O){return H.replace(di,(q,ae)=>{const R=O[ae];return null!=R?String(R):`<${ae}?>`})}(N,ae):"Error";return new rt(R,`${this.serviceName}: ${$} (${R}).`,ae)}}const di=/\{\$([^}]+)}/g;function ni(H,O){return Object.prototype.hasOwnProperty.call(H,O)}function kt(H){for(const O in H)if(Object.prototype.hasOwnProperty.call(H,O))return!1;return!0}function hi(H,O){if(H===O)return!0;const q=Object.keys(H),ae=Object.keys(O);for(const R of q){if(!ae.includes(R))return!1;const N=H[R],$=O[R];if(Jn(N)&&Jn($)){if(!hi(N,$))return!1}else if(N!==$)return!1}for(const R of ae)if(!q.includes(R))return!1;return!0}function Jn(H){return null!==H&&"object"==typeof H}function Ci(H){const O=[];for(const[q,ae]of Object.entries(H))Array.isArray(ae)?ae.forEach(R=>{O.push(encodeURIComponent(q)+"="+encodeURIComponent(R))}):O.push(encodeURIComponent(q)+"="+encodeURIComponent(ae));return O.length?"&"+O.join("&"):""}function Re(H){const O={};return H.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[R,N]=ae.split("=");O[decodeURIComponent(R)]=decodeURIComponent(N)}}),O}function En(H){const O=H.indexOf("?");if(!O)return"";const q=H.indexOf("#",O);return H.substring(O,q>0?q:void 0)}function Qi(H,O){const q=new $e(H,O);return q.subscribe.bind(q)}class $e{constructor(O,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{O(this)}).catch(ae=>{this.error(ae)})}next(O){this.forEachObserver(q=>{q.next(O)})}error(O){this.forEachObserver(q=>{q.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,q,ae){let R;if(void 0===O&&void 0===q&&void 0===ae)throw new Error("Missing Observer.");R=function(H,O){if("object"!=typeof H||null===H)return!1;for(const q of["next","error","complete"])if(q in H&&"function"==typeof H[q])return!0;return!1}(O)?O:{next:O,error:q,complete:ae},void 0===R.next&&(R.next=ln),void 0===R.error&&(R.error=ln),void 0===R.complete&&(R.complete=ln);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch($){}}),this.observers.push(R),N}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,O)}sendOne(O,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{q(this.observers[O])}catch(ae){"undefined"!=typeof console&&console.error&&console.error(ae)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function Ht(H,O=1e3,q=2){const ae=O*Math.pow(q,H),R=Math.round(.5*ae*(Math.random()-.5)*2);return Math.min(144e5,ae+R)}function Tt(H){return H&&H._delegate?H._delegate:H}function wt(H,O){return new Promise((q,ae)=>{H.onsuccess=R=>{q(R.target.result)},H.onerror=R=>{var N;ae(`${O}: ${null===(N=R.target.error)||void 0===N?void 0:N.message}`)}})}class Ot{constructor(O){this._db=O,this.objectStoreNames=this._db.objectStoreNames}transaction(O,q){return new Le(this._db.transaction.call(this._db,O,q))}createObjectStore(O,q){return new Ce(this._db.createObjectStore(O,q))}close(){this._db.close()}}class Le{constructor(O){this._transaction=O,this.complete=new Promise((q,ae)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{ae(this._transaction.error)},this._transaction.onabort=()=>{ae(this._transaction.error)}})}objectStore(O){return new Ce(this._transaction.objectStore(O))}}class Ce{constructor(O){this._store=O}index(O){return new nt(this._store.index(O))}createIndex(O,q,ae){return new nt(this._store.createIndex(O,q,ae))}get(O){return wt(this._store.get(O),"Error reading from IndexedDB")}put(O,q){return wt(this._store.put(O,q),"Error writing to IndexedDB")}delete(O){return wt(this._store.delete(O),"Error deleting from IndexedDB")}clear(){return wt(this._store.clear(),"Error clearing IndexedDB object store")}}class nt{constructor(O){this._index=O}get(O){return wt(this._index.get(O),"Error reading from IndexedDB")}}function se(H,O,q){return new Promise((ae,R)=>{try{const N=indexedDB.open(H,O);N.onsuccess=$=>{ae(new Ot($.target.result))},N.onerror=$=>{var ce;R(`Error opening indexedDB: ${null===(ce=$.target.error)||void 0===ce?void 0:ce.message}`)},N.onupgradeneeded=$=>{q(new Ot(N.result),$.oldVersion,$.newVersion,new Le(N.transaction))}}catch(N){R(`Error opening indexedDB: ${N.message}`)}})}function pe(H){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(H){return new Promise((O,q)=>{try{const ae=indexedDB.deleteDatabase(H);ae.onsuccess=()=>{O()},ae.onerror=R=>{var N;q(`Error deleting indexedDB database "${H}": ${null===(N=R.target.error)||void 0===N?void 0:N.message}`)}}catch(ae){q(`Error deleting indexedDB database "${H}": ${ae.message}`)}})})).apply(this,arguments)}},4867:(st,Te,P)=>{"use strict";P.d(Te,{Gb:()=>Qt,Kz:()=>Ot,Iv:()=>Dn});var a=P(8239),z=P(8026),L=P(5422),oe=P(3854),ue=P(3910);P(3328);const te="analytics",ne="firebase_id",W="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G="https://www.googletagmanager.com/gtag/js",ie=new L.Yd("@firebase/analytics");function me(se){return Promise.all(se.map(pe=>pe.catch(De=>De)))}function Ae(se,pe){const De=document.createElement("script");De.src=`${G}?l=${se}&id=${pe}`,De.async=!0,document.head.appendChild(De)}function Ve(se,pe,De,H,O,q){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(function*(se,pe,De,H,O,q){const ae=H[O];try{if(ae)yield pe[ae];else{const N=(yield me(De)).find($=>$.measurementId===O);N&&(yield pe[N.appId])}}catch(R){ie.error(R)}se("config",O,q)})).apply(this,arguments)}function Fe(se,pe,De,H,O){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(se,pe,De,H,O){try{let q=[];if(O&&O.send_to){let ae=O.send_to;Array.isArray(ae)||(ae=[ae]);const R=yield me(De);for(const N of ae){const $=R.find(Pe=>Pe.measurementId===N),ce=$&&pe[$.appId];if(!ce){q=[];break}q.push(ce)}}0===q.length&&(q=Object.values(pe)),yield Promise.all(q),se("event",H,O||{})}catch(q){ie.error(q)}})).apply(this,arguments)}function Xt(){const se=window.document.getElementsByTagName("script");for(const pe of Object.values(se))if(pe.src&&pe.src.includes(G))return pe;return null}const ct=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jt=new class{constructor(pe={},De=1e3){this.throttleMetadata=pe,this.intervalMillis=De}getThrottleMetadata(pe){return this.throttleMetadata[pe]}setThrottleMetadata(pe,De){this.throttleMetadata[pe]=De}deleteThrottleMetadata(pe){delete this.throttleMetadata[pe]}};function gt(se){return new Headers({Accept:"application/json","x-goog-api-key":se})}function $t(se){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(se){var pe;const{appId:De,apiKey:H}=se,O={method:"GET",headers:gt(H)},q=W.replace("{app-id}",De),ae=yield fetch(q,O);if(200!==ae.status&&304!==ae.status){let R="";try{const N=yield ae.json();(null===(pe=N.error)||void 0===pe?void 0:pe.message)&&(R=N.error.message)}catch(N){}throw ct.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:R})}return ae.json()})).apply(this,arguments)}function sr(se){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(se,pe=jt,De){const{appId:H,apiKey:O,measurementId:q}=se.options;if(!H)throw ct.create("no-app-id");if(!O){if(q)return{measurementId:q,appId:H};throw ct.create("no-api-key")}const ae=pe.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},R=new bs;return setTimeout((0,a.Z)(function*(){R.abort()}),void 0!==De?De:6e4),di({appId:H,apiKey:O,measurementId:q},ae,R,pe)})).apply(this,arguments)}function di(se,pe,De){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(se,{throttleEndTimeMillis:pe,backoffCount:De},H,O=jt){const{appId:q,measurementId:ae}=se;try{yield _n(H,pe)}catch(R){if(ae)return ie.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${R.message}]`),{appId:q,measurementId:ae};throw R}try{const R=yield $t(se);return O.deleteThrottleMetadata(q),R}catch(R){if(!Rt(R)){if(O.deleteThrottleMetadata(q),ae)return ie.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${R.message}]`),{appId:q,measurementId:ae};throw R}const N=503===Number(R.customData.httpStatus)?(0,oe.$s)(De,O.intervalMillis,30):(0,oe.$s)(De,O.intervalMillis),$={throttleEndTimeMillis:Date.now()+N,backoffCount:De+1};return O.setThrottleMetadata(q,$),ie.debug(`Calling attemptFetch again in ${N} millis`),di(se,$,H,O)}})).apply(this,arguments)}function _n(se,pe){return new Promise((De,H)=>{const O=Math.max(pe-Date.now(),0),q=setTimeout(De,O);se.addEventListener(()=>{clearTimeout(q),H(ct.create("fetch-throttle",{throttleEndTimeMillis:pe}))})})}function Rt(se){if(!(se instanceof oe.ZR&&se.customData))return!1;const pe=Number(se.customData.httpStatus);return 429===pe||500===pe||503===pe||504===pe}class bs{constructor(){this.listeners=[]}addEventListener(pe){this.listeners.push(pe)}abort(){this.listeners.forEach(pe=>pe())}}function ws(){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(){if(!(0,oe.hl)())return ie.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(se){return ie.warn(ct.create("indexeddb-unavailable",{errorInfo:se}).message),!1}return!0})).apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(se,pe,De,H,O,q,ae){var R;const N=sr(se);N.then(ft=>{De[ft.measurementId]=ft.appId,se.options.measurementId&&ft.measurementId!==se.options.measurementId&&ie.warn(`The measurement ID in the local Firebase config (${se.options.measurementId}) does not match the measurement ID fetched from the server (${ft.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ft=>ie.error(ft)),pe.push(N);const $=ws().then(ft=>{if(ft)return H.getId()}),[ce,Pe]=yield Promise.all([N,$]);Xt()||Ae(q,ce.measurementId),O("js",new Date);const Ke=null!==(R=null==ae?void 0:ae.config)&&void 0!==R?R:{};return Ke.origin="firebase",Ke.update=!0,null!=Pe&&(Ke[ne]=Pe),O("config",ce.measurementId,Ke),ce.measurementId})).apply(this,arguments)}class en{constructor(pe){this.app=pe}_delete(){return delete kt[this.app.options.appId],Promise.resolve()}}let kt={},yn=[];const hi={};let Re,En,Jn="dataLayer",Rn=!1;function $n(se,pe,De){!function(){const se=[];if((0,oe.ru)()&&se.push("This is a browser extension environment."),(0,oe.zI)()||se.push("Cookies are not available."),se.length>0){const pe=se.map((H,O)=>`(${O+1}) ${H}`).join(" "),De=ct.create("invalid-analytics-context",{errorInfo:pe});ie.warn(De.message)}}();const H=se.options.appId;if(!H)throw ct.create("no-app-id");if(!se.options.apiKey){if(!se.options.measurementId)throw ct.create("no-api-key");ie.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${se.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kt[H])throw ct.create("already-exists",{id:H});if(!Rn){!function(se){let pe=[];Array.isArray(window[se])?pe=window[se]:window[se]=pe}(Jn);const{wrappedGtag:q,gtagCore:ae}=function(se,pe,De,H,O){let q=function(...ae){window[H].push(arguments)};return window[O]&&"function"==typeof window[O]&&(q=window[O]),window[O]=function(se,pe,De,H){function q(){return(q=(0,a.Z)(function*(ae,R,N){try{"event"===ae?yield Fe(se,pe,De,R,N):"config"===ae?yield Ve(se,pe,De,H,R,N):se("set",R)}catch($){ie.error($)}})).apply(this,arguments)}return function(ae,R,N){return q.apply(this,arguments)}}(q,se,pe,De),{gtagCore:q,wrappedGtag:window[O]}}(kt,yn,hi,Jn,"gtag");En=q,Re=ae,Rn=!0}return kt[H]=function(se,pe,De,H,O,q,ae){return ni.apply(this,arguments)}(se,yn,hi,pe,Re,Jn,De),new en(se)}function ln(){return(ln=(0,a.Z)(function*(se,pe,De,H,O){if(O&&O.global)se("event",De,H);else{const q=yield pe;se("event",De,Object.assign(Object.assign({},H),{send_to:q}))}})).apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(se,pe,De,H){if(H&&H.global)return se("set",{user_id:De}),Promise.resolve();se("config",yield pe,{update:!0,user_id:De})})).apply(this,arguments)}function Qt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(se){return!1}})).apply(this,arguments)}function Dn(se,pe,De){se=(0,oe.m9)(se),function(se,pe,De,H){return hn.apply(this,arguments)}(En,kt[se.app.options.appId],pe,De).catch(H=>ie.error(H))}function Ot(se,pe,De,H){se=(0,oe.m9)(se),function(se,pe,De,H,O){return ln.apply(this,arguments)}(En,kt[se.app.options.appId],pe,De,H).catch(O=>ie.error(O))}const Le="@firebase/analytics";(0,z._registerComponent)(new ue.wA(te,(pe,{options:De})=>$n(pe.getProvider("app").getImmediate(),pe.getProvider("installations-internal").getImmediate(),De),"PUBLIC")),(0,z._registerComponent)(new ue.wA("analytics-internal",function(pe){try{const De=pe.getProvider(te).getImmediate();return{logEvent:(H,O,q)=>Ot(De,H,O,q)}}catch(De){throw ct.create("interop-component-reg-failed",{reason:De})}},"PRIVATE")),(0,z.registerVersion)(Le,"0.7.7"),(0,z.registerVersion)(Le,"0.7.7","esm2017")},2329:(st,Te,P)=>{"use strict";P.d(Te,{Mq:()=>a.getApp,C6:()=>a.getApps,KN:()=>a.registerVersion});var a=P(8026);(0,a.registerVersion)("firebase","9.6.10","app")},7841:(st,Te,P)=>{"use strict";P.d(Te,{Z:()=>a.Z});var a=P(3394);a.Z.registerVersion("firebase","9.6.10","app-compat")},4828:(st,Te,P)=>{"use strict";P.r(Te);var a=P(8239),z=P(3394),L=P(7415),oe=P(3854),te=(P(8026),P(5422),P(3910));function ne(){return window}function W(){return(W=(0,a.Z)(function*(R,N,$){var ce;const{BuildInfo:Pe}=ne();(0,L.ap)(N.sessionId,"AuthEvent did not contain a session ID");const Ke=yield _e(N.sessionId),ft={};return(0,L.aq)()?ft.ibi=Pe.packageName:(0,L.ar)()?ft.apn=Pe.packageName:(0,L.as)(R,"operation-not-supported-in-this-environment"),Pe.displayName&&(ft.appDisplayName=Pe.displayName),ft.sessionId=Ke,(0,L.at)(R,$,N.type,void 0,null!==(ce=N.eventId)&&void 0!==ce?ce:void 0,ft)})).apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(R){const{BuildInfo:N}=ne(),$={};(0,L.aq)()?$.iosBundleId=N.packageName:(0,L.ar)()?$.androidPackageName=N.packageName:(0,L.as)(R,"operation-not-supported-in-this-environment"),yield(0,L.au)(R,$)})).apply(this,arguments)}function ve(){return(ve=(0,a.Z)(function*(R,N,$){const{cordova:ce}=ne();let Pe=()=>{};try{yield new Promise((Ke,ft)=>{let qe=null;function Vt(){var zt;Ke();const Un=null===(zt=ce.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Un&&Un(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function fn(){qe||(qe=window.setTimeout(()=>{ft((0,L.av)(R,"redirect-cancelled-by-user"))},2e3))}function cn(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}N.addPassiveListener(Vt),document.addEventListener("resume",fn,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",cn,!1),Pe=()=>{N.removePassiveListener(Vt),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",cn,!1),qe&&window.clearTimeout(qe)}})}finally{Pe()}})).apply(this,arguments)}function _e(R){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(R){const N=et(R),$=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array($)).map(Pe=>Pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(R){if((0,L.ap)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(R);const N=new ArrayBuffer(R.length),$=new Uint8Array(N);for(let ce=0;ce<R.length;ce++)$[ce]=R.charCodeAt(ce);return $}class wn extends L.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach($=>$(N)),super.onEvent(N)}initialized(){var N=this;return(0,a.Z)(function*(){yield N.initPromise})()}}function ct(R){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(R){const N=yield jt()._get(gt(R));return N&&(yield jt()._remove(gt(R))),N})).apply(this,arguments)}function vt(){const R=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const ce=Math.floor(Math.random()*N.length);R.push(N.charAt(ce))}return R.join("")}function jt(){return(0,L.ax)(L.b)}function gt(R){return(0,L.ay)("authEvent",R.config.apiKey,R.name)}function sr(R){if(!(null==R?void 0:R.includes("?")))return{};const[N,...$]=R.split("?");return(0,oe.zd)($.join("?"))}function _n(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.av)("no-auth-event")}}function Zt(){var R;return(null===(R=null==self?void 0:self.location)||void 0===R?void 0:R.protocol)||null}function en(R=(0,oe.z$)()){return!("file:"!==Zt()&&"ionic:"!==Zt()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ci(){try{const R=self.localStorage,N=L.aG();if(R)return R.setItem(N,"1"),R.removeItem(N),!function(R=(0,oe.z$)()){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)||function(R=(0,oe.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,oe.hl)()}catch(R){return Re()&&(0,oe.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return("http:"===Zt()||"https:"===Zt()||(0,oe.ru)()||en())&&!((0,oe.b$)()||(0,oe.UG)())&&Ci()&&!Re()}function Rn(){return en()&&"undefined"!=typeof document}function $e(){return($e=(0,a.Z)(function*(){return!!Rn()&&new Promise(R=>{const N=setTimeout(()=>{R(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),R(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},ln=L.aw,or="persistence";function Xn(R){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(R){yield R._initializationPromise;const N=tn(),$=L.ay(or,R.config.apiKey,R.name);N&&N.setItem($,R._getPersistence())})).apply(this,arguments)}function tn(){var R;try{return(null===(R="undefined"!=typeof window?window:null)||void 0===R?void 0:R.sessionStorage)||null}catch(N){return null}}const je=L.aw;class Qe{constructor(){this.browserResolver=L.ax(L.k),this.cordovaResolver=L.ax(class{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aA}_initialize(N){var $=this;return(0,a.Z)(function*(){const ce=N._key();let Pe=$.eventManagers.get(ce);return Pe||(Pe=new wn(N),$.eventManagers.set(ce,Pe),$.attachCallbackListeners(N,Pe)),Pe})()}_openPopup(N){(0,L.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,$,ce,Pe){var Ke=this;return(0,a.Z)(function*(){!function(R){var N,$,ce,Pe,Ke,ft,qe,Vt,fn,cn;const zt=ne();(0,L.aw)("function"==typeof(null===(N=null==zt?void 0:zt.universalLinks)||void 0===N?void 0:N.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aw)(void 0!==(null===($=null==zt?void 0:zt.BuildInfo)||void 0===$?void 0:$.packageName),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aw)("function"==typeof(null===(Ke=null===(Pe=null===(ce=null==zt?void 0:zt.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===Ke?void 0:Ke.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(Vt=null===(qe=null===(ft=null==zt?void 0:zt.cordova)||void 0===ft?void 0:ft.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===Vt?void 0:Vt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(cn=null===(fn=null==zt?void 0:zt.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===cn?void 0:cn.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ft=yield Ke._initialize(N);yield ft.initialized(),ft.resetRedirect(),(0,L.aB)(),yield Ke._originValidation(N);const qe=function(R,N,$=null){return{type:N,eventId:$,urlResponse:null,sessionId:vt(),postBody:null,tenantId:R.tenantId,error:(0,L.av)(R,"no-auth-event")}}(N,ce,Pe);yield function(R,N){return jt()._set(gt(R),N)}(N,qe);const Vt=yield function(R,N,$){return W.apply(this,arguments)}(N,qe,$),fn=yield function(R){const{cordova:N}=ne();return new Promise($=>{N.plugins.browsertab.isAvailable(ce=>{let Pe=null;ce?N.plugins.browsertab.openUrl(R):Pe=N.InAppBrowser.open(R,(0,L.ao)()?"_blank":"_system","location=yes"),$(Pe)})})}(Vt);return function(R,N,$){return ve.apply(this,arguments)}(N,ft,fn)})()}_isIframeWebStorageSupported(N,$){throw new Error("Method not implemented.")}_originValidation(N){const $=N._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function(R){return ie.apply(this,arguments)}(N)),this.originValidationPromises[$]}attachCallbackListeners(N,$){const{universalLinks:ce,handleOpenURL:Pe,BuildInfo:Ke}=ne(),ft=setTimeout((0,a.Z)(function*(){yield ct(N),$.onEvent(_n())}),500),qe=function(){var cn=(0,a.Z)(function*(zt){clearTimeout(ft);const Un=yield ct(N);let Ge=null;Un&&(null==zt?void 0:zt.url)&&(Ge=function(R,N){var $,ce;const Pe=function(R){const N=sr(R),$=N.link?decodeURIComponent(N.link):void 0,ce=sr($).link,Pe=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return sr(Pe).link||Pe||ce||$||R}(N);if(Pe.includes("/__/auth/callback")){const Ke=sr(Pe),ft=Ke.firebaseError?function(R){try{return JSON.parse(R)}catch(N){return null}}(decodeURIComponent(Ke.firebaseError)):null,qe=null===(ce=null===($=null==ft?void 0:ft.code)||void 0===$?void 0:$.split("auth/"))||void 0===ce?void 0:ce[1],Vt=qe?(0,L.av)(qe):null;return Vt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:Pe,postBody:null}}return null}(Un,zt.url)),$.onEvent(Ge||_n())});return function(Un){return cn.apply(this,arguments)}}();void 0!==ce&&"function"==typeof ce.subscribe&&ce.subscribe(null,qe);const Vt=Pe,fn=`${Ke.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var cn=(0,a.Z)(function*(zt){if(zt.toLowerCase().startsWith(fn)&&qe({url:zt}),"function"==typeof Vt)try{Vt(zt)}catch(Un){console.error(Un)}});return function(zt){return cn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aA}_initialize(N){var $=this;return(0,a.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,$,ce,Pe){var Ke=this;return(0,a.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(N,$,ce,Pe)})()}_openRedirect(N,$,ce,Pe){var Ke=this;return(0,a.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(N,$,ce,Pe)})()}_isIframeWebStorageSupported(N,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,$)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,a.Z)(function*(){if(N.underlyingResolver)return;const $=yield function(){return $e.apply(this,arguments)}();N.underlyingResolver=$?N.cordovaResolver:N.browserResolver})()}}function Tr(R){return R.unwrap()}function Qt(R){return Wn(R)}function Wn(R){const{_tokenResponse:N}=R instanceof oe.ZR?R.customData:R;if(!N)return null;if(!(R instanceof oe.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return L.P.credentialFromResult(R);const $=N.providerId;if(!$||$===L.o.PASSWORD)return null;let ce;switch($){case L.o.GOOGLE:ce=L.N;break;case L.o.FACEBOOK:ce=L.M;break;case L.o.GITHUB:ce=L.Q;break;case L.o.TWITTER:ce=L.V;break;default:const{oauthIdToken:Pe,oauthAccessToken:Ke,oauthTokenSecret:ft,pendingToken:qe,nonce:Vt}=N;return Ke||ft||Pe||qe?qe?$.startsWith("saml.")?L.aJ._create($,qe):L.I._fromParams({providerId:$,signInMethod:$,pendingToken:qe,idToken:Pe,accessToken:Ke}):new L.T($).credential({idToken:Pe,accessToken:Ke,rawNonce:Vt}):null}return R instanceof oe.ZR?ce.credentialFromError(R):ce.credentialFromResult(R)}function Dn(R,N){return N.catch($=>{throw $ instanceof oe.ZR&&function(R,N){var $;const ce=null===($=N.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===N.code)N.resolver=new Ot(R,L.am(R,N));else if(ce){const Pe=Wn(N),Ke=N;Pe&&(Ke.credential=Pe,Ke.tenantId=ce.tenantId||void 0,Ke.email=ce.email||void 0,Ke.phoneNumber=ce.phoneNumber||void 0)}}(R,$),$}).then($=>{const Pe=$.user;return{operationType:$.operationType,credential:Qt($),additionalUserInfo:L.ak($),user:Le.getOrCreate(Pe)}})}function Tt(R,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(R,N){const $=yield N;return{verificationId:$.verificationId,confirm:ce=>Dn(R,$.confirm(ce))}})).apply(this,arguments)}class Ot{constructor(N,$){this.resolver=$,this.auth=N.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Dn(Tr(this.auth),this.resolver.resolveSignIn(N))}}class Le{constructor(N){this._delegate=N,this.multiFactor=L.an(N)}static getOrCreate(N){return Le.USER_MAP.has(N)||Le.USER_MAP.set(N,new Le(N)),Le.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var $=this;return(0,a.Z)(function*(){return Dn($.auth,L.Y($._delegate,N))})()}linkWithPhoneNumber(N,$){var ce=this;return(0,a.Z)(function*(){return Tt(ce.auth,L.l(ce._delegate,N,$))})()}linkWithPopup(N){var $=this;return(0,a.Z)(function*(){return Dn($.auth,L.d($._delegate,N,Qe))})()}linkWithRedirect(N){var $=this;return(0,a.Z)(function*(){return yield Xn(L.aC($.auth)),L.g($._delegate,N,Qe)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var $=this;return(0,a.Z)(function*(){return Dn($.auth,L.Z($._delegate,N))})()}reauthenticateWithPhoneNumber(N,$){return Tt(this.auth,L.r(this._delegate,N,$))}reauthenticateWithPopup(N){return Dn(this.auth,L.e(this._delegate,N,Qe))}reauthenticateWithRedirect(N){var $=this;return(0,a.Z)(function*(){return yield Xn(L.aC($.auth)),L.h($._delegate,N,Qe)})()}sendEmailVerification(N){return L.aa(this._delegate,N)}unlink(N){var $=this;return(0,a.Z)(function*(){return yield L.aj($._delegate,N),$})()}updateEmail(N){return L.af(this._delegate,N)}updatePassword(N){return L.ag(this._delegate,N)}updatePhoneNumber(N){return L.u(this._delegate,N)}updateProfile(N){return L.ae(this._delegate,N)}verifyBeforeUpdateEmail(N,$){return L.ab(this._delegate,N,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Le.USER_MAP=new WeakMap;const Ce=L.aw;let nt=(()=>{class R{constructor($,ce){if(this.app=$,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Pe}=$.options;Ce(Pe,"invalid-api-key",{appName:$.name}),Ce(Pe,"invalid-api-key",{appName:$.name});const Ke="undefined"!=typeof window?Qe:void 0;this._delegate=ce.initialize({options:{persistence:pe(Pe,$.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(L.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Le.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,ce){L.E(this._delegate,$,ce)}applyActionCode($){return L.a1(this._delegate,$)}checkActionCode($){return L.a2(this._delegate,$)}confirmPasswordReset($,ce){return L.a0(this._delegate,$,ce)}createUserWithEmailAndPassword($,ce){var Pe=this;return(0,a.Z)(function*(){return Dn(Pe._delegate,L.a4(Pe._delegate,$,ce))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return L.a9(this._delegate,$)}isSignInWithEmailLink($){return L.a7(this._delegate,$)}getRedirectResult(){var $=this;return(0,a.Z)(function*(){Ce(En(),$._delegate,"operation-not-supported-in-this-environment");const ce=yield L.j($._delegate,Qe);return ce?Dn($._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging($){!function(R,N){(0,L.aC)(R)._logFramework(N)}(this._delegate,$)}onAuthStateChanged($,ce,Pe){const{next:Ke,error:ft,complete:qe}=se($,ce,Pe);return this._delegate.onAuthStateChanged(Ke,ft,qe)}onIdTokenChanged($,ce,Pe){const{next:Ke,error:ft,complete:qe}=se($,ce,Pe);return this._delegate.onIdTokenChanged(Ke,ft,qe)}sendSignInLinkToEmail($,ce){return L.a6(this._delegate,$,ce)}sendPasswordResetEmail($,ce){return L.$(this._delegate,$,ce||void 0)}setPersistence($){var ce=this;return(0,a.Z)(function*(){let Pe;switch(function(R,N){ln(Object.values(kn).includes(N),R,"invalid-persistence-type"),(0,oe.b$)()?ln(N!==kn.SESSION,R,"unsupported-persistence-type"):(0,oe.UG)()?ln(N===kn.NONE,R,"unsupported-persistence-type"):Re()?ln(N===kn.NONE||N===kn.LOCAL&&(0,oe.hl)(),R,"unsupported-persistence-type"):ln(N===kn.NONE||Ci(),R,"unsupported-persistence-type")}(ce._delegate,$),$){case kn.SESSION:Pe=L.a;break;case kn.LOCAL:Pe=(yield L.ax(L.i)._isAvailable())?L.i:L.b;break;case kn.NONE:Pe=L.K;break;default:return L.as("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(Pe)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Dn(this._delegate,L.W(this._delegate))}signInWithCredential($){return Dn(this._delegate,L.X(this._delegate,$))}signInWithCustomToken($){return Dn(this._delegate,L._(this._delegate,$))}signInWithEmailAndPassword($,ce){return Dn(this._delegate,L.a5(this._delegate,$,ce))}signInWithEmailLink($,ce){return Dn(this._delegate,L.a8(this._delegate,$,ce))}signInWithPhoneNumber($,ce){return Tt(this._delegate,L.s(this._delegate,$,ce))}signInWithPopup($){var ce=this;return(0,a.Z)(function*(){return Ce(En(),ce._delegate,"operation-not-supported-in-this-environment"),Dn(ce._delegate,L.c(ce._delegate,$,Qe))})()}signInWithRedirect($){var ce=this;return(0,a.Z)(function*(){return Ce(En(),ce._delegate,"operation-not-supported-in-this-environment"),yield Xn(ce._delegate),L.f(ce._delegate,$,Qe)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return L.a3(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=kn,R})();function se(R,N,$){let ce=R;"function"!=typeof R&&({next:ce,error:N,complete:$}=R);const Pe=ce;return{next:ft=>Pe(ft&&Le.getOrCreate(ft)),error:N,complete:$}}function pe(R,N){const $=function(R,N){const $=tn();if(!$)return[];const ce=L.ay(or,R,N);switch($.getItem(ce)){case kn.NONE:return[L.K];case kn.LOCAL:return[L.i,L.a];case kn.SESSION:return[L.a];default:return[]}}(R,N);if("undefined"!=typeof self&&!$.includes(L.i)&&$.push(L.i),"undefined"!=typeof window)for(const ce of[L.b,L.a])$.includes(ce)||$.push(ce);return $.includes(L.K)||$.push(L.K),$}class De{constructor(){this.providerId="phone",this._delegate=new L.P(Tr(z.Z.auth()))}static credential(N,$){return L.P.credential(N,$)}verifyPhoneNumber(N,$){return this._delegate.verifyPhoneNumber(N,$)}unwrap(){return this._delegate}}De.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,De.PROVIDER_ID=L.P.PROVIDER_ID;const H=L.aw;var R;(R=z.Z).INTERNAL.registerComponent(new te.wA("auth-compat",N=>{const $=N.getProvider("app-compat").getImmediate(),ce=N.getProvider("auth");return new nt($,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.L,FacebookAuthProvider:L.M,GithubAuthProvider:L.Q,GoogleAuthProvider:L.N,OAuthProvider:L.T,SAMLAuthProvider:L.U,PhoneAuthProvider:De,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:class{constructor(N,$,ce=z.Z.app()){var Pe;H(null===(Pe=ce.options)||void 0===Pe?void 0:Pe.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new L.R(N,$,ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:L.V,Auth:nt,AuthCredential:L.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.2.11")},7574:(st,Te,P)=>{"use strict";P.d(Te,{y:()=>W});var a=P(7393),L=P(9181),oe=P(6490),J=P(6554),te=P(4487);var B=P(2494);let W=(()=>{class ie{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const ve=new ie;return ve.source=this,ve.operator=Ae,ve}subscribe(Ae,ve,Ve){const{operator:_e}=this,Fe=function(ie,me,Ae){if(ie){if(ie instanceof a.L)return ie;if(ie[L.b])return ie[L.b]()}return ie||me||Ae?new a.L(ie,me,Ae):new a.L(oe.c)}(Ae,ve,Ve);if(Fe.add(_e?_e.call(Fe,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!Fe.syncErrorThrowable?this._subscribe(Fe):this._trySubscribe(Fe)),B.v.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable&&(Fe.syncErrorThrowable=!1,Fe.syncErrorThrown))throw Fe.syncErrorValue;return Fe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(ve){B.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=ve),function(ie){for(;ie;){const{closed:me,destination:Ae,isStopped:ve}=ie;if(me||ve)return!1;ie=Ae&&Ae instanceof a.L?Ae:null}return!0}(Ae)?Ae.error(ve):console.warn(ve)}}forEach(Ae,ve){return new(ve=G(ve))((Ve,_e)=>{let Fe;Fe=this.subscribe(et=>{try{Ae(et)}catch(Yt){_e(Yt),Fe&&Fe.unsubscribe()}},_e,Ve)})}_subscribe(Ae){const{source:ve}=this;return ve&&ve.subscribe(Ae)}[J.L](){return this}pipe(...Ae){return 0===Ae.length?this:function(ie){return 0===ie.length?te.y:1===ie.length?ie[0]:function(Ae){return ie.reduce((ve,Ve)=>Ve(ve),Ae)}}(Ae)(this)}toPromise(Ae){return new(Ae=G(Ae))((ve,Ve)=>{let _e;this.subscribe(Fe=>_e=Fe,Fe=>Ve(Fe),()=>ve(_e))})}}return ie.create=me=>new ie(me),ie})();function G(ie){if(ie||(ie=B.v.Promise||Promise),!ie)throw new Error("no Promise impl found");return ie}},6490:(st,Te,P)=>{"use strict";P.d(Te,{c:()=>L});var a=P(2494),z=P(4449);const L={closed:!0,next(oe){},error(oe){if(a.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,z.z)(oe)},complete(){}}},9765:(st,Te,P)=>{"use strict";P.d(Te,{Yc:()=>te,xQ:()=>ne});var a=P(7574),z=P(7393),L=P(5319),oe=P(7971),ue=P(8858),J=P(9181);class te extends z.L{constructor(W){super(W),this.destination=W}}let ne=(()=>{class B extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new te(this)}lift(G){const ie=new ee(this,this);return ie.operator=G,ie}next(G){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:ie}=this,me=ie.length,Ae=ie.slice();for(let ve=0;ve<me;ve++)Ae[ve].next(G)}}error(G){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:ie}=this,me=ie.length,Ae=ie.slice();for(let ve=0;ve<me;ve++)Ae[ve].error(G);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:G}=this,ie=G.length,me=G.slice();for(let Ae=0;Ae<ie;Ae++)me[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new oe.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new oe.N;return this.hasError?(G.error(this.thrownError),L.w.EMPTY):this.isStopped?(G.complete(),L.w.EMPTY):(this.observers.push(G),new ue.W(this,G))}asObservable(){const G=new a.y;return G.source=this,G}}return B.create=(W,G)=>new ee(W,G),B})();class ee extends ne{constructor(W,G){super(),this.destination=W,this.source=G}next(W){const{destination:G}=this;G&&G.next&&G.next(W)}error(W){const{destination:G}=this;G&&G.error&&this.destination.error(W)}complete(){const{destination:W}=this;W&&W.complete&&this.destination.complete()}_subscribe(W){const{source:G}=this;return G?this.source.subscribe(W):L.w.EMPTY}}},8858:(st,Te,P)=>{"use strict";P.d(Te,{W:()=>z});var a=P(5319);class z extends a.w{constructor(oe,ue){super(),this.subject=oe,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,ue=oe.observers;if(this.subject=null,!ue||0===ue.length||oe.isStopped||oe.closed)return;const J=ue.indexOf(this.subscriber);-1!==J&&ue.splice(J,1)}}},7393:(st,Te,P)=>{"use strict";P.d(Te,{L:()=>te});var a=P(9105),z=P(6490),L=P(5319),oe=P(9181),ue=P(2494),J=P(4449);class te extends L.w{constructor(B,W,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=z.c;break;case 1:if(!B){this.destination=z.c;break}if("object"==typeof B){B instanceof te?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new ne(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new ne(this,B,W,G)}}[oe.b](){return this}static create(B,W,G){const ie=new te(B,W,G);return ie.syncErrorThrowable=!1,ie}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class ne extends te{constructor(B,W,G,ie){super(),this._parentSubscriber=B;let me,Ae=this;(0,a.m)(W)?me=W:W&&(me=W.next,G=W.error,ie=W.complete,W!==z.c&&(Ae=Object.create(W),(0,a.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=me,this._error=G,this._complete=ie}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:W}=this;ue.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?this.__tryOrSetError(W,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:W}=this,{useDeprecatedSynchronousErrorHandling:G}=ue.v;if(this._error)G&&W.syncErrorThrowable?(this.__tryOrSetError(W,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if(W.syncErrorThrowable)G?(W.syncErrorValue=B,W.syncErrorThrown=!0):(0,J.z)(B),this.unsubscribe();else{if(this.unsubscribe(),G)throw B;(0,J.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const W=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,W),this.unsubscribe()):(this.__tryOrUnsub(W),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,W){try{B.call(this._context,W)}catch(G){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw G;(0,J.z)(G)}}__tryOrSetError(B,W,G){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{W.call(this._context,G)}catch(ie){return ue.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=ie,B.syncErrorThrown=!0,!0):((0,J.z)(ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(st,Te,P)=>{"use strict";P.d(Te,{w:()=>J});var a=P(9796),z=P(1555),L=P(9105);const ue=(()=>{function ne(ee){return Error.call(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((B,W)=>`${W+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee,this}return ne.prototype=Object.create(Error.prototype),ne})();class J{constructor(ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=ee)}unsubscribe(){let ee;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:W,_unsubscribe:G,_subscriptions:ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof J)B.remove(this);else if(null!==B)for(let me=0;me<B.length;++me)B[me].remove(this);if((0,L.m)(G)){W&&(this._unsubscribe=void 0);try{G.call(this)}catch(me){ee=me instanceof ue?te(me.errors):[me]}}if((0,a.k)(ie)){let me=-1,Ae=ie.length;for(;++me<Ae;){const ve=ie[me];if((0,z.K)(ve))try{ve.unsubscribe()}catch(Ve){ee=ee||[],Ve instanceof ue?ee=ee.concat(te(Ve.errors)):ee.push(Ve)}}}if(ee)throw new ue(ee)}add(ee){let B=ee;if(!ee)return J.EMPTY;switch(typeof ee){case"function":B=new J(ee);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof J)){const ie=B;B=new J,B._subscriptions=[ie]}break;default:throw new Error("unrecognized teardown "+ee+" added to Subscription.")}let{_parentOrParents:W}=B;if(null===W)B._parentOrParents=this;else if(W instanceof J){if(W===this)return B;B._parentOrParents=[W,this]}else{if(-1!==W.indexOf(this))return B;W.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[B]:G.push(B),B}remove(ee){const B=this._subscriptions;if(B){const W=B.indexOf(ee);-1!==W&&B.splice(W,1)}}}var ne;function te(ne){return ne.reduce((ee,B)=>ee.concat(B instanceof ue?B.errors:B),[])}J.EMPTY=((ne=new J).closed=!0,ne)},2494:(st,Te,P)=>{"use strict";P.d(Te,{v:()=>z});let a=!1;const z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=L},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(st,Te,P)=>{"use strict";P.d(Te,{IY:()=>oe,Ds:()=>J,ft:()=>ne});var a=P(7393),z=P(7574),L=P(7444);class oe extends a.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends a.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function ne(ee,B){if(B.closed)return;if(ee instanceof z.y)return ee.subscribe(B);let W;try{W=(0,L.s)(ee)(B)}catch(G){B.error(G)}return W}},2441:(st,Te,P)=>{"use strict";P.d(Te,{c:()=>ue,N:()=>J});var a=P(9765),z=P(7574),L=P(5319),oe=P(1307);class ue extends z.y{constructor(W,G){super(),this.source=W,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let W=this._connection;return W||(this._isComplete=!1,W=this._connection=new L.w,W.add(this.source.subscribe(new te(this.getSubject(),this))),W.closed&&(this._connection=null,W=L.w.EMPTY)),W}refCount(){return(0,oe.x)()(this)}}const J=(()=>{const B=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class te extends a.Yc{constructor(W,G){super(W),this.connectable=G}_error(W){this._unsubscribe(),super._error(W)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const W=this.connectable;if(W){this.connectable=null;const G=W._connection;W._refCount=0,W._subject=null,W._connection=null,G&&G.unsubscribe()}}}},9193:(st,Te,P)=>{"use strict";P.d(Te,{E:()=>z,c:()=>L});var a=P(7574);const z=new a.y(ue=>ue.complete());function L(ue){return ue?function(ue){return new a.y(J=>ue.schedule(()=>J.complete()))}(ue):z}},4402:(st,Te,P)=>{"use strict";P.d(Te,{D:()=>Ae});var a=P(7574),z=P(7444),L=P(5319),oe=P(6554),te=P(4087),ne=P(377),W=P(4072),G=P(9489);function Ae(ve,Ve){return Ve?function(ve,Ve){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[oe.L]}(ve))return function(ve,Ve){return new a.y(_e=>{const Fe=new L.w;return Fe.add(Ve.schedule(()=>{const et=ve[oe.L]();Fe.add(et.subscribe({next(Yt){Fe.add(Ve.schedule(()=>_e.next(Yt)))},error(Yt){Fe.add(Ve.schedule(()=>_e.error(Yt)))},complete(){Fe.add(Ve.schedule(()=>_e.complete()))}}))})),Fe})}(ve,Ve);if((0,W.t)(ve))return function(ve,Ve){return new a.y(_e=>{const Fe=new L.w;return Fe.add(Ve.schedule(()=>ve.then(et=>{Fe.add(Ve.schedule(()=>{_e.next(et),Fe.add(Ve.schedule(()=>_e.complete()))}))},et=>{Fe.add(Ve.schedule(()=>_e.error(et)))}))),Fe})}(ve,Ve);if((0,G.z)(ve))return(0,te.r)(ve,Ve);if(function(ve){return ve&&"function"==typeof ve[ne.hZ]}(ve)||"string"==typeof ve)return function(ve,Ve){if(!ve)throw new Error("Iterable cannot be null");return new a.y(_e=>{const Fe=new L.w;let et;return Fe.add(()=>{et&&"function"==typeof et.return&&et.return()}),Fe.add(Ve.schedule(()=>{et=ve[ne.hZ](),Fe.add(Ve.schedule(function(){if(_e.closed)return;let Yt,wn;try{const Xt=et.next();Yt=Xt.value,wn=Xt.done}catch(Xt){return void _e.error(Xt)}wn?_e.complete():(_e.next(Yt),this.schedule())}))})),Fe})}(ve,Ve)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,Ve):ve instanceof a.y?ve:new a.y((0,z.s)(ve))}},6693:(st,Te,P)=>{"use strict";P.d(Te,{n:()=>oe});var a=P(7574),z=P(5015),L=P(4087);function oe(ue,J){return J?(0,L.r)(ue,J):new a.y((0,z.V)(ue))}},6682:(st,Te,P)=>{"use strict";P.d(Te,{T:()=>ue});var a=P(7574),z=P(4869),L=P(3282),oe=P(6693);function ue(...J){let te=Number.POSITIVE_INFINITY,ne=null,ee=J[J.length-1];return(0,z.K)(ee)?(ne=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(te=J.pop())):"number"==typeof ee&&(te=J.pop()),null===ne&&1===J.length&&J[0]instanceof a.y?J[0]:(0,L.J)(te)((0,oe.n)(J,ne))}},5917:(st,Te,P)=>{"use strict";P.d(Te,{of:()=>oe});var a=P(4869),z=P(6693),L=P(4087);function oe(...ue){let J=ue[ue.length-1];return(0,a.K)(J)?(ue.pop(),(0,L.r)(ue,J)):(0,z.n)(ue)}},205:(st,Te,P)=>{"use strict";P.d(Te,{_:()=>z});var a=P(7574);function z(oe,ue){return new a.y(ue?J=>ue.schedule(L,0,{error:oe,subscriber:J}):J=>J.error(oe))}function L({error:oe,subscriber:ue}){ue.error(oe)}},8002:(st,Te,P)=>{"use strict";P.d(Te,{U:()=>z});var a=P(7393);function z(ue,J){return function(ne){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ne.lift(new L(ue,J))}}class L{constructor(J,te){this.project=J,this.thisArg=te}call(J,te){return te.subscribe(new oe(J,this.project,this.thisArg))}}class oe extends a.L{constructor(J,te,ne){super(J),this.project=te,this.count=0,this.thisArg=ne||this}_next(J){let te;try{te=this.project.call(this.thisArg,J,this.count++)}catch(ne){return void this.destination.error(ne)}this.destination.next(te)}}},3282:(st,Te,P)=>{"use strict";P.d(Te,{J:()=>L});var a=P(9773),z=P(4487);function L(oe=Number.POSITIVE_INFINITY){return(0,a.zg)(z.y,oe)}},9773:(st,Te,P)=>{"use strict";P.d(Te,{zg:()=>oe});var a=P(8002),z=P(4402),L=P(5345);function oe(ne,ee,B=Number.POSITIVE_INFINITY){return"function"==typeof ee?W=>W.pipe(oe((G,ie)=>(0,z.D)(ne(G,ie)).pipe((0,a.U)((me,Ae)=>ee(G,me,ie,Ae))),B)):("number"==typeof ee&&(B=ee),W=>W.lift(new ue(ne,B)))}class ue{constructor(ee,B=Number.POSITIVE_INFINITY){this.project=ee,this.concurrent=B}call(ee,B){return B.subscribe(new J(ee,this.project,this.concurrent))}}class J extends L.Ds{constructor(ee,B,W=Number.POSITIVE_INFINITY){super(ee),this.project=B,this.concurrent=W,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ee){this.active<this.concurrent?this._tryNext(ee):this.buffer.push(ee)}_tryNext(ee){let B;const W=this.index++;try{B=this.project(ee,W)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(B)}_innerSub(ee){const B=new L.IY(this),W=this.destination;W.add(B);const G=(0,L.ft)(ee,B);G!==B&&W.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ee){this.destination.next(ee)}notifyComplete(){const ee=this.buffer;this.active--,ee.length>0?this._next(ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(st,Te,P)=>{"use strict";P.d(Te,{ht:()=>ee,QV:()=>te});var a=P(7393),z=P(9193),L=P(5917),oe=P(205);class J{constructor(G,ie,me){this.kind=G,this.value=ie,this.error=me,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,ie,me){switch(this.kind){case"N":return G&&G(this.value);case"E":return ie&&ie(this.error);case"C":return me&&me()}}accept(G,ie,me){return G&&"function"==typeof G.next?this.observe(G):this.do(G,ie,me)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return(0,oe._)(this.error);case"C":return(0,z.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new J("N",G):J.undefinedValueNotification}static createError(G){return new J("E",void 0,G)}static createComplete(){return J.completeNotification}}function te(W,G=0){return function(me){return me.lift(new ne(W,G))}}J.completeNotification=new J("C"),J.undefinedValueNotification=new J("N",void 0);class ne{constructor(G,ie=0){this.scheduler=G,this.delay=ie}call(G,ie){return ie.subscribe(new ee(G,this.scheduler,this.delay))}}class ee extends a.L{constructor(G,ie,me=0){super(G),this.scheduler=ie,this.delay=me}static dispatch(G){const{notification:ie,destination:me}=G;ie.observe(me),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(ee.dispatch,this.delay,new B(G,this.destination)))}_next(G){this.scheduleMessage(J.createNext(G))}_error(G){this.scheduleMessage(J.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(J.createComplete()),this.unsubscribe()}}class B{constructor(G,ie){this.notification=G,this.destination=ie}}},1307:(st,Te,P)=>{"use strict";P.d(Te,{x:()=>z});var a=P(7393);function z(){return function(J){return J.lift(new L(J))}}class L{constructor(J){this.connectable=J}call(J,te){const{connectable:ne}=this;ne._refCount++;const ee=new oe(J,ne),B=te.subscribe(ee);return ee.closed||(ee.connection=ne.connect()),B}}class oe extends a.L{constructor(J,te){super(J),this.connectable=te}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const te=J._refCount;if(te<=0)return void(this.connection=null);if(J._refCount=te-1,te>1)return void(this.connection=null);const{connection:ne}=this,ee=J._connection;this.connection=null,ee&&(!ne||ee===ne)&&ee.unsubscribe()}}},8819:(st,Te,P)=>{"use strict";P.d(Te,{B:()=>te});var a=P(2441);var oe=P(1307),ue=P(9765);function J(){return new ue.xQ}function te(){return ne=>(0,oe.x)()(function(ne,ee){return function(W){let G;G="function"==typeof ne?ne:function(){return ne};const ie=Object.create(W,a.N);return ie.source=W,ie.subjectFactory=G,ie}}(J)(ne))}},9673:(st,Te,P)=>{"use strict";P.d(Te,{R:()=>ue});var a=P(7574),z=P(4581),L=P(6561);class oe extends a.y{constructor(ne,ee=0,B=z.e){super(),this.source=ne,this.delayTime=ee,this.scheduler=B,(!(0,L.k)(ee)||ee<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=z.e)}static create(ne,ee=0,B=z.e){return new oe(ne,ee,B)}static dispatch(ne){const{source:ee,subscriber:B}=ne;return this.add(ee.subscribe(B))}_subscribe(ne){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:ne})}}function ue(te,ne=0){return function(B){return B.lift(new J(te,ne))}}class J{constructor(ne,ee){this.scheduler=ne,this.delay=ee}call(ne,ee){return new oe(ee,this.delay,this.scheduler).subscribe(ne)}}},3342:(st,Te,P)=>{"use strict";P.d(Te,{b:()=>oe});var a=P(7393);function z(){}var L=P(9105);function oe(te,ne,ee){return function(W){return W.lift(new ue(te,ne,ee))}}class ue{constructor(ne,ee,B){this.nextOrObserver=ne,this.error=ee,this.complete=B}call(ne,ee){return ee.subscribe(new J(ne,this.nextOrObserver,this.error,this.complete))}}class J extends a.L{constructor(ne,ee,B,W){super(ne),this._tapNext=z,this._tapError=z,this._tapComplete=z,this._tapError=B||z,this._tapComplete=W||z,(0,L.m)(ee)?(this._context=this,this._tapNext=ee):ee&&(this._context=ee,this._tapNext=ee.next||z,this._tapError=ee.error||z,this._tapComplete=ee.complete||z)}_next(ne){try{this._tapNext.call(this._context,ne)}catch(ee){return void this.destination.error(ee)}this.destination.next(ne)}_error(ne){try{this._tapError.call(this._context,ne)}catch(ee){return void this.destination.error(ee)}this.destination.error(ne)}_complete(){try{this._tapComplete.call(this._context)}catch(ne){return void this.destination.error(ne)}return this.destination.complete()}}},4087:(st,Te,P)=>{"use strict";P.d(Te,{r:()=>L});var a=P(7574),z=P(5319);function L(oe,ue){return new a.y(J=>{const te=new z.w;let ne=0;return te.add(ue.schedule(function(){ne!==oe.length?(J.next(oe[ne++]),J.closed||te.add(this.schedule())):J.complete()})),te})}},6465:(st,Te,P)=>{"use strict";P.d(Te,{o:()=>L});var a=P(5319);class z extends a.w{constructor(ue,J){super()}schedule(ue,J=0){return this}}class L extends z{constructor(ue,J){super(ue,J),this.scheduler=ue,this.work=J,this.pending=!1}schedule(ue,J=0){if(this.closed)return this;this.state=ue;const te=this.id,ne=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ne,te,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(ne,this.id,J),this}requestAsyncId(ue,J,te=0){return setInterval(ue.flush.bind(ue,this),te)}recycleAsyncId(ue,J,te=0){if(null!==te&&this.delay===te&&!1===this.pending)return J;clearInterval(J)}execute(ue,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const te=this._execute(ue,J);if(te)return te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,J){let ne,te=!1;try{this.work(ue)}catch(ee){te=!0,ne=!!ee&&ee||new Error(ee)}if(te)return this.unsubscribe(),ne}_unsubscribe(){const ue=this.id,J=this.scheduler,te=J.actions,ne=te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ne&&te.splice(ne,1),null!=ue&&(this.id=this.recycleAsyncId(J,ue,null)),this.delay=null}}},6102:(st,Te,P)=>{"use strict";P.d(Te,{v:()=>z});let a=(()=>{class L{constructor(ue,J=L.now){this.SchedulerAction=ue,this.now=J}schedule(ue,J=0,te){return new this.SchedulerAction(this,ue).schedule(te,J)}}return L.now=()=>Date.now(),L})();class z extends a{constructor(oe,ue=a.now){super(oe,()=>z.delegate&&z.delegate!==this?z.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,ue=0,J){return z.delegate&&z.delegate!==this?z.delegate.schedule(oe,ue,J):super.schedule(oe,ue,J)}flush(oe){const{actions:ue}=this;if(this.active)return void ue.push(oe);let J;this.active=!0;do{if(J=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this.active=!1,J){for(;oe=ue.shift();)oe.unsubscribe();throw J}}}},4581:(st,Te,P)=>{"use strict";P.d(Te,{e:()=>G,E:()=>W});let a=1;const z=Promise.resolve(),L={};function oe(ie){return ie in L&&(delete L[ie],!0)}const ue={setImmediate(ie){const me=a++;return L[me]=!0,z.then(()=>oe(me)&&ie()),me},clearImmediate(ie){oe(ie)}};var te=P(6465),ee=P(6102);const W=new class extends ee.v{flush(me){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let ve,Ve=-1,_e=Ae.length;me=me||Ae.shift();do{if(ve=me.execute(me.state,me.delay))break}while(++Ve<_e&&(me=Ae.shift()));if(this.active=!1,ve){for(;++Ve<_e&&(me=Ae.shift());)me.unsubscribe();throw ve}}}(class extends te.o{constructor(me,Ae){super(me,Ae),this.scheduler=me,this.work=Ae}requestAsyncId(me,Ae,ve=0){return null!==ve&&ve>0?super.requestAsyncId(me,Ae,ve):(me.actions.push(this),me.scheduled||(me.scheduled=ue.setImmediate(me.flush.bind(me,null))))}recycleAsyncId(me,Ae,ve=0){if(null!==ve&&ve>0||null===ve&&this.delay>0)return super.recycleAsyncId(me,Ae,ve);0===me.actions.length&&(ue.clearImmediate(Ae),me.scheduled=void 0)}}),G=W},3637:(st,Te,P)=>{"use strict";P.d(Te,{z:()=>L,P:()=>oe});var a=P(6465);const L=new(P(6102).v)(a.o),oe=L},7771:(st,Te,P)=>{"use strict";P.d(Te,{c:()=>J,N:()=>ue});var a=P(6465),L=P(6102);const ue=new class extends L.v{}(class extends a.o{constructor(ne,ee){super(ne,ee),this.scheduler=ne,this.work=ee}schedule(ne,ee=0){return ee>0?super.schedule(ne,ee):(this.delay=ee,this.state=ne,this.scheduler.flush(this),this)}execute(ne,ee){return ee>0||this.closed?super.execute(ne,ee):this._execute(ne,ee)}requestAsyncId(ne,ee,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(ne,ee,B):ne.flush(this)}}),J=ue},377:(st,Te,P)=>{"use strict";P.d(Te,{hZ:()=>z});const z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(st,Te,P)=>{"use strict";P.d(Te,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(st,Te,P)=>{"use strict";P.d(Te,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(st,Te,P)=>{"use strict";P.d(Te,{N:()=>z});const z=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(st,Te,P)=>{"use strict";function a(z){setTimeout(()=>{throw z},0)}P.d(Te,{z:()=>a})},4487:(st,Te,P)=>{"use strict";function a(z){return z}P.d(Te,{y:()=>a})},9796:(st,Te,P)=>{"use strict";P.d(Te,{k:()=>a});const a=Array.isArray||(z=>z&&"number"==typeof z.length)},9489:(st,Te,P)=>{"use strict";P.d(Te,{z:()=>a});const a=z=>z&&"number"==typeof z.length&&"function"!=typeof z},9105:(st,Te,P)=>{"use strict";function a(z){return"function"==typeof z}P.d(Te,{m:()=>a})},6561:(st,Te,P)=>{"use strict";P.d(Te,{k:()=>z});var a=P(9796);function z(L){return!(0,a.k)(L)&&L-parseFloat(L)+1>=0}},1555:(st,Te,P)=>{"use strict";function a(z){return null!==z&&"object"==typeof z}P.d(Te,{K:()=>a})},4072:(st,Te,P)=>{"use strict";function a(z){return!!z&&"function"!=typeof z.subscribe&&"function"==typeof z.then}P.d(Te,{t:()=>a})},4869:(st,Te,P)=>{"use strict";function a(z){return z&&"function"==typeof z.schedule}P.d(Te,{K:()=>a})},7444:(st,Te,P)=>{"use strict";P.d(Te,{s:()=>W});var a=P(5015),z=P(4449),oe=P(377),J=P(6554),ne=P(9489),ee=P(4072),B=P(1555);const W=G=>{if(G&&"function"==typeof G[J.L])return(G=>ie=>{const me=G[J.L]();if("function"!=typeof me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return me.subscribe(ie)})(G);if((0,ne.z)(G))return(0,a.V)(G);if((0,ee.t)(G))return(G=>ie=>(G.then(me=>{ie.closed||(ie.next(me),ie.complete())},me=>ie.error(me)).then(null,z.z),ie))(G);if(G&&"function"==typeof G[oe.hZ])return(G=>ie=>{const me=G[oe.hZ]();for(;;){let Ae;try{Ae=me.next()}catch(ve){return ie.error(ve),ie}if(Ae.done){ie.complete();break}if(ie.next(Ae.value),ie.closed)break}return"function"==typeof me.return&&ie.add(()=>{me.return&&me.return()}),ie})(G);{const me=`You provided ${(0,B.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(me)}}},5015:(st,Te,P)=>{"use strict";P.d(Te,{V:()=>a});const a=z=>L=>{for(let oe=0,ue=z.length;oe<ue&&!L.closed;oe++)L.next(z[oe]);L.complete()}},3821:(st,Te,P)=>{"use strict";var a=P(7716);let z=null;function L(){return z}const te=new a.OlP("DocumentToken");let ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:ee,token:n,providedIn:"platform"}),n})();function ee(){return(0,a.LFG)(W)}const B=new a.OlP("Location Initialized");let W=(()=>{class n extends ne{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){G()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){G()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=(0,a.Yz7)({factory:ie,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function ie(){return new W((0,a.LFG)(te))}function me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ve(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const t=(0,a.LFG)(te).location;return new et((0,a.LFG)(ne),t&&t.origin||"")}const Fe=new a.OlP("appBaseHref");let et=(()=>{class n extends Ve{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,c){const d=this.prepareExternalUrl(r+ve(c));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){const d=this.prepareExternalUrl(r+ve(c));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(Fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Yt=(()=>{class n extends Ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,c){let d=this.prepareExternalUrl(r+ve(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){let d=this.prepareExternalUrl(r+ve(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ne),a.LFG(Fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),wn=(()=>{class n{constructor(e,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ae(ct(r)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ve(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ve(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ve),a.LFG(ne))},n.normalizeQueryParams=ve,n.joinWithSlash=me,n.stripTrailingSlash=Ae,n.\u0275prov=(0,a.Yz7)({factory:Xt,token:n,providedIn:"root"}),n})();function Xt(){return new wn((0,a.LFG)(Ve),(0,a.LFG)(ne))}function ct(n){return n.replace(/\/index.html$/,"")}var vt=(()=>((vt=vt||{})[vt.Zero=0]="Zero",vt[vt.One=1]="One",vt[vt.Two=2]="Two",vt[vt.Few=3]="Few",vt[vt.Many=4]="Many",vt[vt.Other=5]="Other",vt))();const Re=a.kL8;class On{}let Vi=(()=>{class n extends On{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Re(i||this.locale)(e)){case vt.Zero:return"zero";case vt.One:return"one";case vt.Two:return"two";case vt.Few:return"few";case vt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ar{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,c,d)=>{if(null==r.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new ar(null,this._ngForOf,-1,-1),null===d?void 0:d),y=new oo(r,p);i.push(y)}else if(null==d)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const p=this._viewContainer.get(c);this._viewContainer.move(p,d);const y=new oo(r,p);i.push(y)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,c=this._viewContainer.length;r<c;r++){const d=this._viewContainer.get(r);d.context.index=r,d.context.count=c,d.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class oo{constructor(t,e){this.record=t,this.view=e}}let Ji=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ao("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ao("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ma{constructor(){this.$implicit=null,this.ngIf=null}}function ao(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class js{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ri=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new js(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(yr,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class mh{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ql{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Wl=new ql,qa=new mh;let _h=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Wl;if((0,a.F4k)(e))return qa;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,a.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:On,useClass:Vi}]}),n})();function Qa(n){return"server"===n}let Kl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Ja((0,a.LFG)(te),window)}),n})();class Ja{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const c=r.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],r-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Hi(this.window.history)||Hi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Hi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class va extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new va,z||(z=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(lr=lr||document.querySelector("base"),lr?lr.getAttribute("href"):null);return null==e?null:function(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){lr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Pn,lr=null;const U=new a.OlP("TRANSITION_ID"),fe=[{provide:a.ip1,useFactory:function(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<r.length;c++)i.remove(r[c])})}},deps:[U,te,a.zs3],multi:!0}];class Oe{static init(){(0,a.VLi)(new Oe)}addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const c=t.findTestabilityInTree(i,r);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let c=r.length,d=!1;const p=function(y){d=d||y,c--,0==c&&i(d)};r.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let We=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Uo=new a.OlP("EventManagerPlugins");let xe=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let c=0;c<r.length;c++){const d=r[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Uo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class rn{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ql=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Kn=(()=>{class n extends Ql{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Jl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Jl))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Jl(n){L().remove(n)}const zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rr=/%COMP%/g;function Gi(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Gi(n,r,e):(r=r.replace(Rr,n),e.push(r))}return e}function Qr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Es=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new kr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Dh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new Th(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gi(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xe),a.LFG(Kn),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class kr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(zs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const c=zs[r];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=zs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Qr(i)):this.eventManager.addEventListener(t,e,Qr(i))}}class Dh extends kr{constructor(t,e,i,r){super(t),this.component=i;const c=Gi(r+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Rr,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Rr,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Th extends kr{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Gi(r.id,r.styles,[]);for(let d=0;d<c.length;d++){const p=document.createElement("style");p.textContent=c[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ec=(()=>{class n extends rn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const tc=["alt","control","meta","shift"],Ah={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yy=(()=>{class n extends rn{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const c=n.parseEventName(i),d=n.eventCallback(c.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const c=n._normalizeKey(i.pop());let d="";if(tc.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),d+=y+".")}),d+=c,0!=i.length||0===c.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&cr.hasOwnProperty(t)&&(t=cr[t]))}return Ah[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tc.forEach(c=>{c!=r&&xh[c](e)&&(i+=c+".")}),i+=r,i}static eventCallback(e,i,r){return c=>{n.getEventFullKey(c)===e&&r.runGuarded(()=>i(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),rl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(ol)},token:n,providedIn:"root"}),n})(),ol=(()=>{class n extends rl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=(0,a.Yz7)({factory:function(){return function(n){return new ol(n.get(te))}((0,a.LFG)(a.gxx))},token:n,providedIn:"root"}),n})();const ic=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){va.makeCurrent(),Oe.init()},multi:!0},{provide:te,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),Oh=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Uo,useClass:ec,multi:!0,deps:[te,a.R0b,a.Lbi]},{provide:Uo,useClass:yy,multi:!0,deps:[te]},[],{provide:Es,useClass:Es,deps:[xe,Kn,a.AFp]},{provide:a.FYo,useExisting:Es},{provide:Ql,useExisting:Kn},{provide:Kn,useClass:Kn,deps:[te]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:xe,useClass:xe,deps:[Uo,a.R0b]},{provide:class{},useClass:We,deps:[]},[]];let Ph=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:U,useExisting:a.AFp},fe]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Oh,imports:[fi,a.hGG]}),n})();function Nh(){return new Fh((0,a.LFG)(te))}let Fh=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=(0,a.Yz7)({factory:Nh,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Yn=P(4402),tt=P(5917),at=P(9765),by=P(7971);class br extends at.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new by.N;return this._value}next(t){super.next(this._value=t)}}var xu=P(4869),Ca=P(9796),$i=P(7393);class wy extends $i.L{notifyNext(t,e,i,r,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class rc extends $i.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ru=P(7444),Bt=P(7574);function Cy(n,t,e,i,r=new rc(n,e,i)){if(!r.closed)return t instanceof Bt.y?t.subscribe(r):(0,Ru.s)(t)(r)}var ku=P(6693);const jh={};class vg{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Hh(t,this.resultSelector))}}class Hh extends wy{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(jh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Cy(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,d=this.toRespond?r[i]===jh?--this.toRespond:this.toRespond:0;r[i]=e,0===d&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const po=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var cs=P(3282);function Ds(...n){return(0,cs.J)(1)((0,tt.of)(...n))}var Or=P(9193);function go(n){return new Bt.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,Yn.D)(e):(0,Or.c)()).subscribe(t)})}var bg=P(2441),_t=P(8002),Pr=P(5345);function zi(n,t){return"function"==typeof t?e=>e.pipe(zi((i,r)=>(0,Yn.D)(n(i,r)).pipe((0,_t.U)((c,d)=>t(i,c,r,d))))):e=>e.lift(new $h(n))}class $h{constructor(t){this.project=t}call(t,e){return e.subscribe(new ei(t,this.project))}}class ei extends Pr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Pr.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,Pr.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const zh=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Ts(n){return t=>0===n?(0,Or.c)():t.lift(new Ey(n))}class Ey{constructor(t){if(this.total=t,this.total<0)throw new zh}call(t,e){return e.subscribe(new o0(t,this.total))}}class o0 extends $i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function ur(...n){const t=n[n.length-1];return(0,xu.K)(t)?(n.pop(),e=>Ds(n,e,t)):e=>Ds(n,e)}function Ou(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new wg(n,t,e))}}class wg{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new a0(t,this.accumulator,this.seed,this.hasSeed))}}class a0 extends $i.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Hn(n,t){return function(i){return i.lift(new Dy(n,t))}}class Dy{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new sc(t,this.predicate,this.thisArg))}}class sc extends $i.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Da(n){return function(e){const i=new oi(n),r=e.lift(i);return i.caught=r}}class oi{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Pu(t,this.selector,this.caught))}}class Pu extends Pr.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const i=new Pr.IY(this);this.add(i);const r=(0,Pr.ft)(e,i);r!==i&&this.add(r)}}}var Ri=P(9773);function oc(n,t){return(0,Ri.zg)(n,t,1)}function ac(n){return function(e){return 0===n?(0,Or.c)():e.lift(new us(n))}}class us{constructor(t){if(this.total=t,this.total<0)throw new zh}call(t,e){return e.subscribe(new Ws(t,this.total))}}class Ws extends $i.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let c=0;c<i;c++){const d=e++%i;t.next(r[d])}}t.complete()}}function lc(n=qh){return t=>t.lift(new Ta(n))}class Ta{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Go(t,this.errorFactory))}}class Go extends $i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function qh(){return new po}function Cg(n=null){return t=>t.lift(new Ty(n))}class Ty{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new l0(t,this.defaultValue))}}class l0 extends $i.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Wh=P(4487);function gi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,c)=>n(r,c,i)):Wh.y,Ts(1),e?Cg(t):lc(()=>new po))}var ki=P(3342),$o=P(1307),Oi=P(5319);function cc(n){return t=>t.lift(new Nu(n))}class Nu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Yh(t,this.callback))}}class Yh extends $i.L{constructor(t,e){super(t),this.add(new Oi.w(e))}}class mo{constructor(t,e){this.id=t,this.url=e}}class uc extends mo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cl extends mo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ds extends mo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dc extends mo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fu extends mo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c0 extends mo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc extends mo{constructor(t,e,i,r,c){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fc extends mo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sa extends mo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tg{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sg{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Sy{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nn(n){return new Sy(n)}const Qh="ngNavigationCancelingError";function Jh(n){const t=Error("NavigationCancelingError: "+n);return t[Qh]=!0,t}function Ia(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let c=0;c<i.length;c++){const d=i[c],p=n[c];if(d.startsWith(":"))r[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ss(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let c=0;c<e.length;c++)if(r=e[c],!Vu(n[r],t[r]))return!1;return!0}function Vu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,c)=>i[c]===r)}return n===t}function Ig(n){return Array.prototype.concat.apply([],n)}function Aa(n){return n.length>0?n[n.length-1]:null}function ai(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xi(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Yn.D)(Promise.resolve(n)):(0,tt.of)(n)}const Bu={exact:function Ag(n,t,e){if(!Zo(n.segments,t.segments)||!gc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ag(n.children[i],t.children[i],e))return!1;return!0},subset:yo},Uu={exact:function(n,t){return Ss(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Vu(n[e],t[e]))},ignored:()=>!0};function pc(n,t,e){return Bu[e.paths](n.root,t.root,e.matrixParams)&&Uu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function yo(n,t,e){return Wo(n,t,t.segments,e)}function Wo(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Zo(r,e)||t.hasChildren()||!gc(r,e,i))}if(n.segments.length===e.length){if(!Zo(n.segments,e)||!gc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!yo(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Zo(n.segments,r)&&gc(n.segments,r,i)&&n.children[Pt])&&Wo(n.children[Pt],t,c,i)}}function gc(n,t,e){return t.every((i,r)=>Uu[e](n[r].parameters,i.parameters))}class Yo{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return tf.serialize(this)}}class sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ai(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vo(this)}}class ul{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return rf(this)}}function Zo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Hu{}class Ma{parse(t){const e=new Mg(t);return new Yo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${mc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${nf(e)}=${nf(r)}`).join("&"):`${nf(e)}=${nf(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const tf=new Ma;function vo(n){return n.segments.map(t=>rf(t)).join("/")}function mc(n,t){if(!n.hasChildren())return vo(n);if(t){const e=n.children[Pt]?mc(n.children[Pt],!1):"",i=[];return ai(n.children,(r,c)=>{c!==Pt&&i.push(`${c}:${mc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return ai(n.children,(i,r)=>{r===Pt&&(e=e.concat(t(i,r)))}),ai(n.children,(i,r)=>{r!==Pt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Pt?[mc(n.children[Pt],!1)]:[`${r}:${mc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${vo(n)}/${e[0]}`:`${vo(n)}/(${e.join("//")})`}}function Gu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nf(n){return Gu(n).replace(/%3B/gi,";")}function dl(n){return Gu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(n){return decodeURIComponent(n)}function hl(n){return _c(n.replace(/\+/g,"%20"))}function rf(n){return`${dl(n.path)}${function(n){return Object.keys(n).map(t=>`;${dl(t)}=${dl(n[t])}`).join("")}(n.parameters)}`}const Ry=/^[^\/()?;=#]+/;function zu(n){const t=n.match(Ry);return t?t[0]:""}const ky=/^[^=?&#]+/,bo=/^[^?&#]+/;class Mg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Pt]=new sn(t,e)),i}parseSegment(){const t=zu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ul(_c(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=zu(this.remaining);r&&(i=r,this.capture(i))}t[_c(e)]=_c(i)}parseQueryParam(t){const e=function(n){const t=n.match(ky);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function(n){const t=n.match(bo);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=hl(e),c=hl(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(c)}else t[r]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Pt);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[Pt]:new sn([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=sf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=sf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=af(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return af(t,this._root).map(e=>e.value)}}function sf(n,t){if(n===t.value)return t;for(const e of t.children){const i=sf(n,e);if(i)return i}return null}function af(n,t){if(n===t.value)return[t];for(const e of t.children){const i=af(n,e);if(i.length)return i.unshift(t),i}return[]}class wo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class lf extends xg{constructor(t,e){super(t),this.snapshot=e,yc(this,t)}toString(){return this.snapshot.toString()}}function Rg(n,t){const e=function(n,t){const d=new gl([],{},{},"",{},Pt,t,null,n.root,-1,{});return new ml("",new wo(d,[]))}(n,t),i=new br([new ul("",{})]),r=new br({}),c=new br({}),d=new br({}),p=new br(""),y=new pl(i,r,d,p,c,Pt,t,e.root);return y.snapshot=e.root,new lf(new wo(y,[]),e)}class pl{constructor(t,e,i,r,c,d,p,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(t=>Nn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(t=>Nn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qu(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],c=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(c.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class gl{constructor(t,e,i,r,c,d,p,y,w,T,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ml extends xg{constructor(t,e){super(e),this.url=t,yc(this,e)}toString(){return Is(this._root)}}function yc(n,t){t.value._routerState=n,t.children.forEach(e=>yc(n,e))}function Is(n){const t=n.children.length>0?` { ${n.children.map(Is).join(", ")} } `:"";return`${n.value}${t}`}function Co(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ss(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ss(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ss(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ss(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wu(n,t){return Ss(n.params,t.params)&&function(n,t){return Zo(n,t)&&n.every((e,i)=>Ss(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Wu(n.parent,t.parent))}function _l(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _l(n,i,r);return _l(n,i)})}(n,t,e);return new wo(i,r)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return Ny(t,d),d}}const i=function(n){return new pl(new br(n.url),new br(n.params),new br(n.queryParams),new br(n.fragment),new br(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(c=>_l(n,c));return new wo(i,r)}}function Ny(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Ny(n.children[e],t.children[e])}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,t,e,i,r){let c={};return i&&ai(i,(d,p)=>{c[p]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new Yo(e.root===n?t:E(e.root,n,t),c,r)}function E(n,t,e){const i={};return ai(n.children,(r,c)=>{i[c]=r===t?e:E(r,t,e)}),new sn(n.segments,i)}class I{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&b(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(g);if(r&&r!==Aa(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Q{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ht(n,t,e){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return un(n,t,e);const i=function(n,t,e){let i=0,r=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return c;const d=n.segments[r],p=e[i];if(g(p))break;const y=`${p}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Yu(y,w,d))return c;i+=2}else{if(!Yu(y,{},d))return c;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new sn(n.segments.slice(0,i.pathIndex),{});return c.children[Pt]=new sn(n.segments.slice(i.pathIndex),n.children),un(c,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?er(n,t,e):i.match?un(n,0,r):er(n,t,e)}function un(n,t,e){if(0===e.length)return new sn(n.segments,{});{const i=function(n){return g(n[0])?n[0].outlets:{[Pt]:n}}(e),r={};return ai(i,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(r[d]=ht(n.children[d],t,c))}),ai(n.children,(c,d)=>{void 0===i[d]&&(r[d]=c)}),new sn(n.segments,r)}}function er(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const c=e[r];if(g(c)){const y=Ln(c.outlets);return new sn(i,y)}if(0===r&&b(e[0])){i.push(new ul(n.segments[t].path,vc(e[0]))),r++;continue}const d=g(c)?c.outlets[Pt]:`${c}`,p=r<e.length-1?e[r+1]:null;d&&p&&b(p)?(i.push(new ul(d,vc(p))),r+=2):(i.push(new ul(d,{})),r++)}return new sn(i,{})}function Ln(n){const t={};return ai(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=er(new sn([],{}),0,e))}),t}function vc(n){const t={};return ai(n,(e,i)=>t[i]=`${e}`),t}function Yu(n,t,e){return n==e.path&&Ss(t,e.parameters)}class uf{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Co(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fl(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,r[d],i),delete r[d]}),ai(r,(c,d)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(r===c)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=fl(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=fl(e);t.children.forEach(c=>{this.activateRoutes(c,r[c.value.outlet],i),this.forwardEvent(new Lu(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Kh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(Co(r),r===c)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Ku(p.route)}else{const p=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),y=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=r,d.resolver=y,d.outlet&&d.outlet.activateWith(r,y),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}function Ku(n){Co(n.value),n.children.forEach(Ku)}class Qu{constructor(t,e){this.routes=t,this.module=e}}function Ys(n){return"function"==typeof n}function yl(n){return n instanceof Yo}const Ju=Symbol("INITIAL_VALUE");function Xu(){return zi(n=>function(...n){let t,e;return(0,xu.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,Ca.k)(n[0])&&(n=n[0]),(0,ku.n)(n,e).lift(new vg(t))}(n.map(t=>t.pipe(Ts(1),ur(Ju)))).pipe(Ou((t,e)=>{let i=!1;return e.reduce((r,c,d)=>r!==Ju?r:(c===Ju&&(i=!0),i||!1!==c&&d!==e.length-1&&!yl(c)?r:c),t)},Ju),Hn(t=>t!==Ju),(0,_t.U)(t=>yl(t)?t:!0===t),Ts(1)))}let dr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:function(){return[rd]},encapsulation:2}),n})();function ed(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Ly(i,pA(t,i))}}function Ly(n,t){n.children&&ed(n.children,t)}function pA(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Vy(n){const t=n.children&&n.children.map(Vy),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pt&&(e.component=dr),e}function As(n){return n.outlet||Pt}function f0(n,t){const e=n.filter(i=>As(i)===t);return e.push(...n.filter(i=>As(i)!==t)),e}const By={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fg(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},By):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Ia)(e,n,t);if(!c)return Object.assign({},By);const d={};ai(c.posParams,(y,w)=>{d[w]=y.path});const p=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:p,positionalParamSegments:null!==(i=c.posParams)&&void 0!==i?i:{}}}function df(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>td(n,t,i)&&As(i)!==Pt)}(n,e,i)){const d=new sn(t,function(n,t,e,i){const r={};r[Pt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&As(c)!==Pt){const d=new sn([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[As(c)]=d}return r}(n,t,i,new sn(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>td(n,t,i))}(n,e,i)){const d=new sn(n.segments,function(n,t,e,i,r,c){const d={};for(const p of i)if(td(n,e,p)&&!r[As(p)]){const y=new sn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[As(p)]=y}return Object.assign(Object.assign({},r),d)}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new sn(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function td(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Uy(n,t,e,i){return!!(As(n)===i||i!==Pt&&td(t,e,n))&&("**"===n.path||Fg(t,n,e).matched)}function g0(n,t,e){return 0===t.length&&!n.children[e]}class Lg{constructor(t){this.segmentGroup=t||null}}class jy{constructor(t){this.urlTree=t}}function wc(n){return new Bt.y(t=>t.error(new Lg(n)))}function m0(n){return new Bt.y(t=>t.error(new jy(n)))}function yA(n){return new Bt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class bA{constructor(t,e,i,r,c){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=df(this.urlTree.root,[],[],this.config).segmentGroup,e=new sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Pt).pipe((0,_t.U)(c=>this.createUrlTree(Hy(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Da(c=>{if(c instanceof jy)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Lg?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pt).pipe((0,_t.U)(r=>this.createUrlTree(Hy(r),t.queryParams,t.fragment))).pipe(Da(r=>{throw r instanceof Lg?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new sn([],{[Pt]:t}):t;return new Yo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,_t.U)(c=>new sn([],c))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const c of Object.keys(i.children))"primary"===c?r.unshift(c):r.push(c);return(0,Yn.D)(r).pipe(oc(c=>{const d=i.children[c],p=f0(e,c);return this.expandSegmentGroup(t,p,d,c).pipe((0,_t.U)(y=>({segment:y,outlet:c})))}),Ou((c,d)=>(c[d.outlet]=d.segment,c),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,c)=>n(r,c,i)):Wh.y,ac(1),e?Cg(t):lc(()=>new po))}())}expandSegment(t,e,i,r,c,d){return(0,Yn.D)(i).pipe(oc(p=>this.expandSegmentAgainstRoute(t,e,i,p,r,c,d).pipe(Da(w=>{if(w instanceof Lg)return(0,tt.of)(null);throw w}))),gi(p=>!!p),Da((p,y)=>{if(p instanceof po||"EmptyError"===p.name){if(g0(e,r,c))return(0,tt.of)(new sn([],{}));throw new Lg(e)}throw p}))}expandSegmentAgainstRoute(t,e,i,r,c,d,p){return Uy(r,e,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,c,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d):wc(e):wc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?m0(c):this.lineralizeSegments(i,c).pipe((0,Ri.zg)(d=>{const p=new sn(d,{});return this.expandSegment(t,p,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){const{matched:p,consumedSegments:y,lastChild:w,positionalParamSegments:T}=Fg(e,r,c);if(!p)return wc(e);const A=this.applyRedirectCommands(y,r.redirectTo,T);return r.redirectTo.startsWith("/")?m0(A):this.lineralizeSegments(r,A).pipe((0,Ri.zg)(k=>this.expandSegment(t,e,i,k.concat(c.slice(w)),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,tt.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,_t.U)(k=>(i._loadedConfig=k,new sn(r,{})))):(0,tt.of)(new sn(r,{}));const{matched:d,consumedSegments:p,lastChild:y}=Fg(e,i,r);if(!d)return wc(e);const w=r.slice(y);return this.getChildConfig(t,i,r).pipe((0,Ri.zg)(A=>{const k=A.module,j=A.routes,{segmentGroup:Z,slicedSegments:de}=df(e,p,w,j),Ee=new sn(Z.segments,Z.children);if(0===de.length&&Ee.hasChildren())return this.expandChildren(k,j,Ee).pipe((0,_t.U)(it=>new sn(p,it)));if(0===j.length&&0===de.length)return(0,tt.of)(new sn(p,{}));const Ze=As(i)===c;return this.expandSegment(k,Ee,j,de,Ze?Pt:c,!0).pipe((0,_t.U)(Ct=>new sn(p.concat(Ct.segments),Ct.children)))}))}getChildConfig(t,e,i){return e.children?(0,tt.of)(new Qu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,tt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ri.zg)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,_t.U)(c=>(e._loadedConfig=c,c))):(n=e,new Bt.y(t=>t.error(Jh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,tt.of)(new Qu([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,tt.of)(!0);const c=r.map(d=>{const p=t.get(d);let y;if((n=p)&&Ys(n.canLoad))y=p.canLoad(e,i);else{if(!Ys(p))throw new Error("Invalid CanLoad guard");y=p(e,i)}var n;return Xi(y)});return(0,tt.of)(c).pipe(Xu(),(0,ki.b)(d=>{if(!yl(d))return;const p=Jh(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,_t.U)(d=>!0===d))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,tt.of)(i);if(r.numberOfChildren>1||!r.children[Pt])return yA(t.redirectTo);r=r.children[Pt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const c=this.createSegmentGroup(t,e.root,i,r);return new Yo(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ai(t,(r,c)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[c]=e[p]}else i[c]=r}),i}createSegmentGroup(t,e,i,r){const c=this.createSegments(t,e.segments,i,r);let d={};return ai(e.children,(p,y)=>{d[y]=this.createSegmentGroup(t,p,i,r)}),new sn(c,d)}createSegments(t,e,i,r){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,r):this.findOrReturn(c,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Hy(n){const t={};for(const i of Object.keys(n.children)){const c=Hy(n.children[i]);(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const t=n.children[Pt];return new sn(n.segments.concat(t.segments),t.children)}return n}(new sn(n.segments,t))}class hf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xr{constructor(t,e){this.component=t,this.route=e}}function _0(n,t,e){const i=n._root;return Bg(i,t?t._root:null,e,[i.value])}function Vg(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Bg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=fl(t);return n.children.forEach(d=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zo(n.url,t.url)||!Ss(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wu(n,t)||!Ss(n.queryParams,t.queryParams);case"paramsChange":default:return!Wu(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new hf(i)):(c.data=d.data,c._resolvedData=d._resolvedData),Bg(n,t,c.component?p?p.children:null:e,i,r),y&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new Xr(p.outlet.component,d))}else d&&ff(t,p,r),r.canActivateChecks.push(new hf(i)),Bg(n,null,c.component?p?p.children:null:e,i,r)})(d,c[d.value.outlet],e,i.concat([d.value]),r),delete c[d.value.outlet]}),ai(c,(d,p)=>ff(d,e.getContext(p),r)),r}function ff(n,t,e){const i=fl(n),r=n.value;ai(i,(c,d)=>{ff(c,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Xr(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Gy{}function Ug(n){return new Bt.y(t=>t.error(n))}class w0{constructor(t,e,i,r,c,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const t=df(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pt);if(null===e)return null;const i=new gl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wo(i,e),c=new ml(this.url,r);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,i=qu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const c of Object.keys(e.children)){const d=e.children[c],p=f0(t,c),y=this.processSegmentGroup(p,d,c);if(null===y)return null;i.push(...y)}const r=jg(i);return r.sort((t,e)=>t.value.outlet===Pt?-1:e.value.outlet===Pt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const c of t){const d=this.processSegmentAgainstRoute(c,e,i,r);if(null!==d)return d}return g0(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Uy(t,e,i,r))return null;let c,d=[],p=[];if("**"===t.path){const j=i.length>0?Aa(i).parameters:{};c=new gl(i,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cc(t),As(t),t.component,t,$y(e),IA(e)+i.length,Hg(t))}else{const j=Fg(e,t,i);if(!j.matched)return null;d=j.consumedSegments,p=i.slice(j.lastChild),c=new gl(d,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cc(t),As(t),t.component,t,$y(e),IA(e)+d.length,Hg(t))}const y=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:T}=df(e,d,p,y.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&w.hasChildren()){const j=this.processChildren(y,w);return null===j?null:[new wo(c,j)]}if(0===y.length&&0===T.length)return[new wo(c,[])];const A=As(t)===r,k=this.processSegment(y,w,T,A?Pt:r);return null===k?null:[new wo(c,k)]}}function E0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jg(n){const t=[],e=new Set;for(const i of n){if(!E0(i)){t.push(i);continue}const r=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=jg(i.children);t.push(new wo(i.value,r))}return t.filter(i=>!e.has(i))}function $y(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function IA(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Cc(n){return n.data||{}}function Hg(n){return n.resolve||{}}function qy(n){return zi(t=>{const e=n(t);return e?(0,Yn.D)(e).pipe((0,_t.U)(()=>t)):(0,tt.of)(t)})}class OA extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gg=new a.OlP("ROUTES");class $g{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,_t.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=c.create(t);return new Qu(Ig(d.injector.get(Gg,void 0,a.XFs.Self|a.XFs.Optional)).map(Vy),d)}),Da(c=>{throw e._loader$=void 0,c}));return e._loader$=new bg.c(r,()=>new at.xQ).pipe((0,$o.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Yn.D)(this.loader.load(t)):Xi(t()).pipe((0,Ri.zg)(e=>e instanceof a.YKP?(0,tt.of)(e):(0,Yn.D)(this.compiler.compileModuleAsync(e))))}}class S0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vl,this.attachRef=null}}class vl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new S0,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class NA{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function I0(n){throw n}function A0(n,t,e){return t.parse("/")}function bl(n,t){return(0,tt.of)(null)}const M0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(e,i,r,c,d,p,y,w){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new at.xQ,this.errorHandler=I0,this.malformedUriErrorHandler=A0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bl,afterPreactivation:bl},this.urlHandlingStrategy=new NA,this.routeReuseStrategy=new OA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const k=d.get(a.R0b);this.isNgZoneEnabled=k instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Yo(new sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $g(p,y,j=>this.triggerEvent(new Dg(j)),j=>this.triggerEvent(new Tg(j))),this.routerState=Rg(this.currentUrlTree,this.rootComponentType),this.transitions=new br({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Hn(r=>0!==r.id),(0,_t.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),zi(r=>{let c=!1,d=!1;return(0,tt.of)(r).pipe((0,ki.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zi(p=>{const y=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return qg(p.source)&&(this.browserUrlTree=p.extractedUrl),(0,tt.of)(p).pipe(zi(A=>{const k=this.transitions.getValue();return i.next(new uc(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),k!==this.transitions.getValue()?Or.E:Promise.resolve(A)}),function(n,t,e,i){return zi(r=>function(n,t,e,i,r){return new bA(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,_t.U)(c=>Object.assign(Object.assign({},r),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ki.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function(n,t,e,i,r){return(0,Ri.zg)(c=>function(n,t,e,i,r="emptyOnly",c="legacy"){try{const d=new w0(n,t,e,i,r,c).recognize();return null===d?Ug(new Gy):(0,tt.of)(d)}catch(d){return Ug(d)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),i,r).pipe((0,_t.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ki.b)(A=>{"eager"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(A.urlAfterRedirects,A),this.browserUrlTree=A.urlAfterRedirects);const k=new Fu(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(k)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:j,source:Z,restoredState:de,extras:Ee}=p,Ze=new uc(k,this.serializeUrl(j),Z,de);i.next(Ze);const ze=Rg(j,this.rootComponentType).snapshot;return(0,tt.of)(Object.assign(Object.assign({},p),{targetSnapshot:ze,urlAfterRedirects:j,extras:Object.assign(Object.assign({},Ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Or.E}),qy(p=>{const{targetSnapshot:y,id:w,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:k,replaceUrl:j}}=p;return this.hooks.beforePreactivation(y,{navigationId:w,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!k,replaceUrl:!!j})}),(0,ki.b)(p=>{const y=new c0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,_t.U)(p=>Object.assign(Object.assign({},p),{guards:_0(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Ri.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?(0,tt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Yn.D)(n).pipe((0,Ri.zg)(r=>function(n,t,e,i,r){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,tt.of)(!0);const d=c.map(p=>{const y=Vg(p,t,r);let w;if(function(n){return n&&Ys(n.canDeactivate)}(y))w=Xi(y.canDeactivate(n,t,e,i));else{if(!Ys(y))throw new Error("Invalid CanDeactivate guard");w=Xi(y(n,t,e,i))}return w.pipe(gi())});return(0,tt.of)(d).pipe(Xu())}(r.component,r.route,e,t,i)),gi(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Ri.zg)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,t,e,i){return(0,Yn.D)(t).pipe(oc(r=>Ds(function(n,t){return null!==n&&t&&t(new Zh(n)),(0,tt.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Sg(n)),(0,tt.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>go(()=>{const p=d.guards.map(y=>{const w=Vg(y,d.node,e);let T;if(function(n){return n&&Ys(n.canActivateChild)}(w))T=Xi(w.canActivateChild(i,n));else{if(!Ys(w))throw new Error("Invalid CanActivateChild guard");T=Xi(w(i,n))}return T.pipe(gi())});return(0,tt.of)(p).pipe(Xu())}));return(0,tt.of)(c).pipe(Xu())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,tt.of)(!0);const r=i.map(c=>go(()=>{const d=Vg(c,t,e);let p;if(function(n){return n&&Ys(n.canActivate)}(d))p=Xi(d.canActivate(t,n));else{if(!Ys(d))throw new Error("Invalid CanActivate guard");p=Xi(d(t,n))}return p.pipe(gi())}));return(0,tt.of)(r).pipe(Xu())}(n,r.route,e))),gi(r=>!0!==r,!0))}(i,c,n,t):(0,tt.of)(p)),(0,_t.U)(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ki.b)(p=>{if(yl(p.guardsResult)){const w=Jh(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw w.url=p.guardsResult,w}const y=new hc(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Hn(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),qy(p=>{if(p.guards.canActivateChecks.length)return(0,tt.of)(p).pipe((0,ki.b)(y=>{const w=new fc(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),zi(y=>{let w=!1;return(0,tt.of)(y).pipe(function(n,t){return(0,Ri.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,tt.of)(e);let c=0;return(0,Yn.D)(r).pipe(oc(d=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,tt.of)({});const c={};return(0,Yn.D)(r).pipe((0,Ri.zg)(d=>function(n,t,e,i){const r=Vg(n,t,i);return Xi(r.resolve?r.resolve(t,e):r(t,e))}(n[d],t,e,i).pipe((0,ki.b)(p=>{c[d]=p}))),ac(1),(0,Ri.zg)(()=>Object.keys(c).length===r.length?(0,tt.of)(c):Or.E))}(n._resolve,n,t,i).pipe((0,_t.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),qu(n,e).resolve),null)))}(d.route,i,n,t)),(0,ki.b)(()=>c++),ac(1),(0,Ri.zg)(d=>c===r.length?(0,tt.of)(e):Or.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ki.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,ki.b)(y=>{const w=new Sa(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),qy(p=>{const{targetSnapshot:y,id:w,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:k,replaceUrl:j}}=p;return this.hooks.afterPreactivation(y,{navigationId:w,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!k,replaceUrl:!!j})}),(0,_t.U)(p=>{const y=function(n,t,e){const i=_l(n,t._root,e?e._root:void 0);return new lf(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,ki.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,_t.U)(i=>(new uf(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ki.b)({next(){c=!0},complete(){c=!0}}),cc(()=>{var p;if(!c&&!d){const y=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,y)):this.cancelNavigationTransition(r,y)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===r.id&&(this.currentNavigation=null)}),Da(p=>{if(d=!0,function(n){return n&&n[Qh]}(p)){const y=yl(p.url);y||(this.navigated=!0,this.restoreHistory(r,!0));const w=new ds(r.id,this.serializeUrl(r.extractedUrl),p.message);i.next(w),y?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qg(r.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const y=new dc(r.id,this.serializeUrl(r.extractedUrl),p);i.next(y);try{r.resolve(this.errorHandler(p))}catch(w){r.reject(w)}}return Or.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:c,urlTree:d}=i,p={replaceUrl:!0};if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(p.state=y)}this.scheduleNavigation(d,r,c,p)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ed(e),this.config=e.map(Vy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:c,fragment:d,queryParamsHandling:p,preserveFragment:y}=i,w=r||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let A=null;switch(p){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}return null!==A&&(A=this.removeEmptyProps(A)),function(n,t,e,i,r){if(0===e.length)return _(t.root,t.root,t,i,r);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new I(!0,0,n);let t=0,e=!1;const i=n.reduce((r,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return ai(c.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...r,{outlets:p}]}if(c.segmentPath)return[...r,c.segmentPath]}return"string"!=typeof c?[...r,c]:0===d?(c.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,c]},[]);return new I(e,t,i)}(e);if(c.toRoot())return _(t.root,new sn([],{}),t,i,r);const d=function(n,t,e){if(n.isAbsolute)return new Q(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Q(c,c===t.root,0)}const i=b(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,c=e;for(;c>r;){if(c-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Q(i,!1,r-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(c,t,n),p=d.processChildren?un(d.segmentGroup,d.index,c.commands):ht(d.segmentGroup,d.index,c.commands);return _(d.segmentGroup,p,t,i,r)}(w,this.currentUrlTree,e,A,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=yl(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},M0):!1===i?Object.assign({},x0):i,yl(e))return pc(this.currentUrlTree,e,r);const c=this.parseUrl(e);return pc(this.currentUrlTree,c,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const c=e[r];return null!=c&&(i[r]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new cl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,c,d){var p,y;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),T=qg(i)&&w&&!qg(w.source),j=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===e.toString();if(T&&j)return Promise.resolve(!0);let Z,de,Ee;d?(Z=d.resolve,de=d.reject,Ee=d.promise):Ee=new Promise((Ct,it)=>{Z=Ct,de=it});const Ze=++this.navigationId;let ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),ze=r&&r.\u0275routerPageId?r.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):ze=0,this.setTransition({id:Ze,targetPageId:ze,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:Z,reject:de,promise:Ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ee.catch(Ct=>Promise.reject(Ct))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",c):this.location.go(r,"",c)}restoreHistory(e,i=!1){var r,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new ds(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.DyG),a.LFG(Hu),a.LFG(vl),a.LFG(wn),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function qg(n){return"imperative"!==n}let gf=(()=>{class n{constructor(e,i,r,c,d){this.router=e,this.route=i,this.commands=[],this.onChanges=new at.xQ,null==r&&c.setAttribute(d.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Ec(this.skipLocationChange),replaceUrl:Ec(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ec(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Nr),a.Y36(pl),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})();function Ec(n){return""===n||!!n}let rd=(()=>{class n{constructor(e,i,r,c,d){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=c||Pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Yg(e,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vl),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Yg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===pl?this.route:t===vl?this.childContexts:this.parent.get(t,e)}}class Yy{}class Ky{preload(t,e){return(0,tt.of)(null)}}let Zg=(()=>{class n{constructor(e,i,r,c,d){this.router=e,this.injector=c,this.preloadingStrategy=d,this.loader=new $g(i,r,w=>e.triggerEvent(new Dg(w)),w=>e.triggerEvent(new Tg(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(e=>e instanceof cl),oc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;r.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?r.push(this.preloadConfig(e,c)):c.children&&r.push(this.processRoutes(e,c.children));return(0,Yn.D)(r).pipe((0,cs.J)(),(0,_t.U)(c=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,tt.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ri.zg)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Nr),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Yy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Dc=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new zo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Nr),a.LFG(Kl),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=new a.OlP("ROUTER_CONFIGURATION"),k0=new a.OlP("ROUTER_FORROOT_GUARD"),O0=[wn,{provide:Hu,useClass:Ma},{provide:Nr,useFactory:function(n,t,e,i,r,c,d,p={},y,w){const T=new Nr(null,n,t,e,i,r,c,Ig(d));return y&&(T.urlHandlingStrategy=y),w&&(T.routeReuseStrategy=w),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(p,T),p.enableTracing&&T.events.subscribe(A=>{var k,j;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(j=console.groupEnd)||void 0===j||j.call(console)}),T},deps:[Hu,vl,wn,a.zs3,a.v3s,a.Sil,Gg,wl,[class{},new a.FiY],[class{},new a.FiY]]},vl,{provide:pl,useFactory:function(n){return n.routerState.root},deps:[Nr]},{provide:a.v3s,useClass:a.EAV},Zg,Ky,class{preload(t,e){return e().pipe(Da(()=>(0,tt.of)(null)))}},{provide:wl,useValue:{enableTracing:!1}}];function Qy(){return new a.PXZ("Router",Nr)}let Jy=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[O0,Xy(e),{provide:k0,useFactory:LA,deps:[[Nr,new a.FiY,new a.tp0]]},{provide:wl,useValue:i||{}},{provide:Ve,useFactory:P0,deps:[ne,[new a.tBr(Fe),new a.FiY],wl]},{provide:Dc,useFactory:$N,deps:[Nr,Kl,wl]},{provide:Yy,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ky},{provide:a.PXZ,multi:!0,useFactory:Qy},[ev,{provide:a.ip1,multi:!0,useFactory:N0,deps:[ev]},{provide:F0,useFactory:UA,deps:[ev]},{provide:a.tb,multi:!0,useExisting:F0}]]}}static forChild(e){return{ngModule:n,providers:[Xy(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(k0,8),a.LFG(Nr,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function $N(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Dc(n,t,e)}function P0(n,t,e={}){return e.useHash?new Yt(n,t):new et(n,t)}function LA(n){return"guarded"}function Xy(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Gg,multi:!0,useValue:n}]}let ev=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new at.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(p=>i=p),c=this.injector.get(Nr),d=this.injector.get(wl);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,tt.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(wl),r=this.injector.get(Zg),c=this.injector.get(Dc),d=this.injector.get(Nr),p=this.injector.get(a.z2F);e===p.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),r.setUpPreloading(),c.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function N0(n){return n.appInitializer.bind(n)}function UA(n){return n.bootstrapListener.bind(n)}const F0=new a.OlP("Router Initializer");function Do(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ad=P(3637);function Xg(n,t=ad.P){return e=>e.lift(new gM(n,t))}class gM{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new mM(t,this.dueTime,this.scheduler))}}class mM extends $i.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function cv(n){n.debouncedNext()}class _M{constructor(t){this.total=t}call(t,e){return e.subscribe(new X0(t,this.total))}}class X0 extends $i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function El(n,t){return e=>e.lift(new eE(n,t))}class eE{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tE(t,this.compare,this.keySelector))}}class tE extends $i.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function Vn(n){return t=>t.lift(new ka(n))}class ka{constructor(t){this.notifier=t}call(t,e){const i=new em(t),r=(0,Pr.ft)(this.notifier,new Pr.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class em extends Pr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function on(n){return null!=n&&"false"!=`${n}`}function wr(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ic(n){return Array.isArray(n)?n:[n]}function Pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function To(n){return n instanceof a.SBq?n.nativeElement:n}let uv;try{uv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){uv=!1}let Ac,yf,Ks,fv,Sn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.Lbi))},token:n,providedIn:"root"}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function nm(n){return function(){if(null==Ac&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ac=!0}))}finally{Ac=Ac||!1}return Ac}()?n:!!n.capture}function hv(){if(null==Ks){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ks=!1,Ks;if("scrollBehavior"in document.documentElement.style)Ks=!0;else{const n=Element.prototype.scrollTo;Ks=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ks}function vf(){if("object"!=typeof document||!document)return 0;if(null==yf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),yf=0,0===n.scrollLeft&&(n.scrollLeft=1,yf=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return yf}function nE(n){if(function(){if(null==fv){const n="undefined"!=typeof document?document.head:null;fv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return fv}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function im(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Mc(n){return n.composedPath?n.composedPath()[0]:n.target}function pv(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let iE=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),rE=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=To(e);return new Bt.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new at.xQ,r=this._mutationObserverFactory.create(c=>i.next(c));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iE))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(iE))},token:n,providedIn:"root"}),n})(),gv=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=on(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=wr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Xg(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(rE),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[iE]}),n})();class bf extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new at.xQ,this._typeaheadSubscription=Oi.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new at.xQ,this.change=new at.xQ,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ki.b)(e=>this._pressedLetters.push(e)),Xg(t),Hn(()=>this._pressedLetters.length>0),(0,_t.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const c=(this._activeItemIndex+r)%i.length,d=i[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Do(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let mv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===_v(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),c=_v(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==c:"video"===r?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||xM(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Sn))},token:n,providedIn:"root"}),n})();function xM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function _v(n){if(!xM(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class PF{constructor(t,e,i,r,c=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ts(1)).subscribe(t)}}let wf=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new PF(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(mv),a.LFG(a.R0b),a.LFG(te))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(mv),a.LFG(a.R0b),a.LFG(te))},token:n,providedIn:"root"}),n})();function yv(n){return 0===n.offsetX&&0===n.offsetY}function cE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const LM=new a.OlP("cdk-input-modality-detector-options"),uE={ignoreKeys:[18,17,224,91,16]},dd=nm({passive:!0,capture:!0});let lm=(()=>{class n{constructor(e,i,r,c){this._platform=e,this._mostRecentTarget=null,this._modality=new br(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,y;(null===(y=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===y?void 0:y.some(w=>w===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Mc(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yv(d)?"keyboard":"mouse"),this._mostRecentTarget=Mc(d))},this._onTouchstart=d=>{cE(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mc(d))},this._options=Object.assign(Object.assign({},uE),c),this.modalityDetected=this._modality.pipe(t=>t.lift(new _M(1))),this.modalityChanged=this.modalityDetected.pipe(El()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dd),r.addEventListener("mousedown",this._onMousedown,dd),r.addEventListener("touchstart",this._onTouchstart,dd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dd),document.removeEventListener("mousedown",this._onMousedown,dd),document.removeEventListener("touchstart",this._onTouchstart,dd))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sn),a.LFG(a.R0b),a.LFG(te),a.LFG(LM,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Sn),a.LFG(a.R0b),a.LFG(te),a.LFG(LM,8))},token:n,providedIn:"root"}),n})();const fE=new a.OlP("cdk-focus-monitor-default-options"),xc=nm({passive:!0,capture:!0});let hs=(()=>{class n{constructor(e,i,r,c,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new at.xQ,this._rootNodeFocusAndBlurListener=p=>{const y=Mc(p),w="focus"===p.type?this._onFocus:this._onBlur;for(let T=y;T;T=T.parentElement)w.call(this,p,T)},this._document=c,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const r=To(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,tt.of)(null);const c=nE(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new at.xQ,rootNode:c};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=To(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const c=To(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,y])=>this._originChanged(p,i,y)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,r){r?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),c=Mc(e);!r||!r.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vn(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,c)=>{(c===e||r.checkChildren&&c.contains(e))&&i.push([c,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Sn),a.LFG(lm),a.LFG(te,8),a.LFG(fE,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(Sn),a.LFG(lm),a.LFG(te,8),a.LFG(fE,8))},token:n,providedIn:"root"}),n})(),pE=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new a.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(hs))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Qs="cdk-high-contrast-black-on-white",hd="cdk-high-contrast-white-on-black",vv="cdk-high-contrast-active";let gE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(vv),e.remove(Qs),e.remove(hd),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(vv),e.add(Qs)):2===i&&(e.add(vv),e.add(hd))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sn),a.LFG(te))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Sn),a.LFG(te))},token:n,providedIn:"root"}),n})(),bv=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gE))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ld,ti]]}),n})();const Io=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(te)}});let An=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||r;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Io,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Io,8))},token:n,providedIn:"root"}),n})(),Tl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ms=new a.GfV("12.2.13");class cm{}const fs="*";function ta(n,t){return{type:7,name:n,definitions:t,options:{}}}function ps(n,t=null){return{type:4,styles:t,timings:n}}function Rc(n,t=null){return{type:2,steps:n,options:t}}function Ei(n){return{type:6,styles:n,offset:null}}function Fr(n,t,e){return{type:0,name:n,styles:t,options:e}}function na(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function wv(n){Promise.resolve(null).then(n)}class kc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Cv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const c=this.players.length;0==c?wv(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++i==c&&this._onDestroy()}),d.onStart(()=>{++r==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Dv(){return"undefined"!=typeof window&&void 0!==window.document}function Tv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Oa(n){switch(n.length){case 0:return new kc;case 1:return n[0];default:return new Cv(n)}}function Sv(n,t,e,i,r={},c={}){const d=[],p=[];let y=-1,w=null;if(i.forEach(T=>{const A=T.offset,k=A==y,j=k&&w||{};Object.keys(T).forEach(Z=>{let de=Z,Ee=T[Z];if("offset"!==Z)switch(de=t.normalizePropertyName(de,d),Ee){case"!":Ee=r[Z];break;case fs:Ee=c[Z];break;default:Ee=t.normalizeStyleValue(Z,de,Ee,d)}j[de]=Ee}),k||p.push(j),w=j,y=A}),d.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${d.join(T)}`)}return p}function Iv(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mE(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mE(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mE(e,"destroy",n)))}}function mE(n,t,e){const i=e.totalTime,c=Av(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function Av(n,t,e,i,r="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:c,disabled:!!d}}function gs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function _E(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let um=(n,t)=>!1,Mv=(n,t)=>!1,yE=(n,t,e)=>[];const qM=Tv();(qM||"undefined"!=typeof Element)&&(um=Dv()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Mv=(()=>{if(qM||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):Mv}})(),yE=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let c=0;c<r.length;c++)i.push(r[c])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let gd=null,vE=!1;function bE(n){gd||(gd=("undefined"!=typeof document?document.body:null)||{},vE=!!gd.style&&"WebkitAppearance"in gd.style);let t=!0;return gd.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gd.style,!t&&vE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gd.style)),t}const xv=Mv,Tf=um,Sf=yE;function wE(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let YM=(()=>{class n{validateStyleProperty(e){return bE(e)}matchesElement(e,i){return xv(e,i)}containsElement(e,i){return Tf(e,i)}query(e,i,r){return Sf(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,c,d,p=[],y){return new kc(r,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),CE=(()=>{class n{}return n.NOOP=new YM,n})();const TE="ng-enter",dm="ng-leave",Af="ng-trigger",hm=".ng-trigger",Rv="ng-animating",md=".ng-animating";function Oc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:fm(parseFloat(t[1]),t[2])}function fm(n,t){switch(t){case"s":return 1e3*n;default:return n}}function pm(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,c=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=fm(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(c=fm(parseFloat(y),p[4]));const w=p[5];w&&(d=w)}else r=n;if(!e){let p=!1,y=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),p=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&t.splice(y,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:c,easing:d}}(n,t,e)}function _d(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Sl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else _d(n,e);return e}function kv(n,t,e){return e?t+":"+e+";":""}function IE(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=kv(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=kv(0,Pv(e),n.style[e]));n.setAttribute("style",t)}function Ao(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=xf(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Tv()&&IE(n))}function Il(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=xf(e);n.style[i]=""}),Tv()&&IE(n))}function Pc(n){return Array.isArray(n)?1==n.length?n[0]:Rc(n):n}const Mf=new RegExp("{{\\s*(.+?)\\s*}}","g");function AE(n){let t=[];if("string"==typeof n){let e;for(;e=Mf.exec(n);)t.push(e[1]);Mf.lastIndex=0}return t}function Ov(n,t,e){const i=n.toString(),r=i.replace(Mf,(c,d)=>{let p=t[d];return t.hasOwnProperty(d)||(e.push(`Please provide a value for the animation param ${d}`),p=""),p.toString()});return r==i?n:r}function Al(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const KM=/-+([a-z0-9])/g;function xf(n){return n.replace(KM,(...t)=>t[1].toUpperCase())}function Pv(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ME(n,t){return 0===n||0===t}function gm(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let c=t[0],d=[];if(i.forEach(p=>{c.hasOwnProperty(p)||d.push(p),c[p]=e[p]}),d.length)for(var r=1;r<t.length;r++){let p=t[r];d.forEach(function(y){p[y]=mm(n,y)})}}return t}function es(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function mm(n,t){return window.getComputedStyle(n)[t]}function QM(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const y=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof y)return void t.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],c=i[2],d=i[3];t.push(_m(r,d));"<"==c[0]&&!("*"==r&&"*"==d)&&t.push(_m(d,r))}(i,e,t)):e.push(n),e}const Rf=new Set(["true","1"]),kf=new Set(["false","0"]);function _m(n,t){const e=Rf.has(n)||kf.has(n),i=Rf.has(t)||kf.has(t);return(r,c)=>{let d="*"==n||n==r,p="*"==t||t==c;return!d&&e&&"boolean"==typeof r&&(d=r?Rf.has(n):kf.has(n)),!p&&i&&"boolean"==typeof c&&(p=c?Rf.has(t):kf.has(t)),d&&p}}const Bv=new RegExp("s*:selfs*,?","g");function Of(n,t,e){return new JM(n).build(t,e)}class JM{constructor(t){this._driver=t}build(t,e){const i=new Uv(e);return this._resetContextStyleTimingState(i),es(this,Pc(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const y=p,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,c.push(this.visitState(y,e))}),y.name=w}else if(1==p.type){const y=this.visitTransition(p,e);i+=y.queryCount,r+=y.depCount,d.push(y)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const c=new Set,d=r||{};if(i.styles.forEach(p=>{if(vm(p)){const y=p;Object.keys(y).forEach(w=>{AE(y[w]).forEach(T=>{d.hasOwnProperty(T)||c.add(T)})})}}),c.size){const p=Al(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=es(this,Pc(t.animation),e);return{type:1,matchers:QM(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ml(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>es(this,i,e)),options:Ml(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const c=t.steps.map(d=>{e.currentTime=i;const p=es(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:c,options:Ml(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return bm(pm(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=bm(0,0,"");return c.dynamic=!0,c.strValue=i,c}return e=e||pm(i,t),bm(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,c=t.styles?t.styles:Ei({});if(5==c.type)r=this.visitKeyframes(c,e);else{let d=t.styles,p=!1;if(!d){p=!0;const w={};i.easing&&(w.easing=i.easing),d=Ei(w)}e.currentTime+=i.duration+i.delay;const y=this.visitStyle(d,e);y.isEmptyStep=p,r=y}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==fs?i.push(d):e.errors.push(`The provided style string value ${d} is not allowed.`):i.push(d)}):i.push(t.styles);let r=!1,c=null;return i.forEach(d=>{if(vm(d)){const p=d,y=p.easing;if(y&&(c=y,delete p.easing),!r)for(let w in p)if(p[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void e.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const y=e.collectedStyles[e.currentQuerySelector],w=y[p];let T=!0;w&&(c!=r&&c>=w.startTime&&r<=w.endTime&&(e.errors.push(`The CSS property "${p}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${r}ms"`),T=!1),c=w.startTime),T&&(y[p]={startTime:c,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=AE(n);r.length&&r.forEach(c=>{i.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(d[p],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let c=0;const d=[];let p=!1,y=!1,w=0;const T=t.steps.map(Ze=>{const ze=this._makeStyleAst(Ze,e);let Ct=null!=ze.offset?ze.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(vm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(vm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ze.styles),it=0;return null!=Ct&&(c++,it=ze.offset=Ct),y=y||it<0||it>1,p=p||it<w,w=it,d.push(it),ze});y&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&e.errors.push("Please ensure that all keyframe offsets are in order");const A=t.steps.length;let k=0;c>0&&c<A?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(k=1/(A-1));const j=A-1,Z=e.currentTime,de=e.currentAnimateTimings,Ee=de.duration;return T.forEach((Ze,ze)=>{const Ct=k>0?ze==j?1:k*ze:d[ze],it=Ct*Ee;e.currentTime=Z+de.delay+it,de.duration=it,this._validateStyleAst(Ze,e),Ze.offset=Ct,i.styles.push(Ze)}),i}visitReference(t,e){return{type:8,animation:es(this,Pc(t.animation),e),options:Ml(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ml(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ml(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Bv,"")),[n=n.replace(/@\*/g,hm).replace(/@\w+/g,e=>hm+"-"+e.substr(1)).replace(/:animating/g,md),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+c:c,gs(e.collectedStyles,e.currentQuerySelector,{});const p=es(this,Pc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:c,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:Ml(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:pm(t.timings,e.errors,!0);return{type:12,animation:es(this,Pc(t.animation),e),timings:i,options:null}}}class Uv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vm(n){return!Array.isArray(n)&&"object"==typeof n}function Ml(n){return n?(n=_d(n)).params&&(n.params=function(n){return n?_d(n):null}(n.params)):n={},n}function bm(n,t,e){return{duration:n,delay:t,easing:e}}function Pf(n,t,e,i,r,c,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:c,totalTime:r+c,easing:d,subTimeline:p}}class Nf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const FE=new RegExp(":enter","g"),VE=new RegExp(":leave","g");function wm(n,t,e,i,r,c={},d={},p,y,w=[]){return(new BE).buildKeyframes(n,t,e,i,r,c,d,p,y,w)}class BE{buildKeyframes(t,e,i,r,c,d,p,y,w,T=[]){w=w||new Nf;const A=new Hv(t,e,w,r,c,T,[]);A.options=y,A.currentTimeline.setStyles([d],null,A.errors,y),es(this,i,A);const k=A.timelines.filter(j=>j.containsAnimation());if(k.length&&Object.keys(p).length){const j=k[k.length-1];j.allowOnlyTimelineStyles()||j.setStyles([p],null,A.errors,y)}return k.length?k.map(j=>j.buildKeyframes()):[Pf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const r=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let c=e.currentTimeline.currentTime;const d=null!=i.duration?Oc(i.duration):null,p=null!=i.delay?Oc(i.delay):null;return 0!==d&&t.forEach(y=>{const w=e.appendInstructionToTimeline(y,d,p);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),es(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const c=t.options;if(c&&(c.params||c.delay)&&(r=e.createSubContext(c),r.transformIntoNewTimeline(),null!=c.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jv);const d=Oc(c.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>es(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Oc(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);c&&p.delayNextStep(c),es(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return pm(e.params?Ov(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const c=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(c):i.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,c=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(y=>{p.forwardTime((y.offset||0)*c),p.setStyles(y.styles,y.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+c),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},c=r.delay?Oc(r.delay):0;c&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jv);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let y=null;p.forEach((w,T)=>{e.currentQueryIndex=T;const A=e.createSubContext(t.options,w);c&&A.delayNextStep(c),w===e.element&&(y=A.currentTimeline),es(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),p=d*(e.currentQueryTotal-1);let y=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":y=p-y;break;case"full":y=i.currentStaggerTime}const T=e.currentTimeline;y&&T.delayNextStep(y);const A=T.currentTime;es(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const jv={};class Hv{constructor(t,e,i,r,c,d,p,y){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=c,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Cm(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Oc(i.duration)),null!=i.delay&&(r.delay=Oc(i.delay));const c=i.params;if(c){let d=r.params;d||(d=this.options.params={}),Object.keys(c).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=Ov(c[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,c=new Hv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=jv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},c=new UE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(c),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,c,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(FE,"."+this._enterClassName)).replace(VE,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),p.push(...w)}return!c&&0==p.length&&d.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),p}}class Cm{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Cm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||fs,this._currentKeyframe[e]=fs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const c=r&&r.params||{},d=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(c=>{e[c]=fs})):Sl(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const y=Ov(d[p],c,i);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:fs),this._updateStyle(p,y)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,y)=>{const w=Sl(p,!0);Object.keys(w).forEach(T=>{const A=w[T];"!"==A?t.add(T):A==fs&&e.add(T)}),i||(w.offset=y/this.duration),r.push(w)});const c=t.size?Al(t.values()):[],d=e.size?Al(e.values()):[];if(i){const p=r[0],y=_d(p);p.offset=0,y.offset=1,r=[p,y]}return Pf(this.element,r,c,d,this.duration,this.startTime,this.easing,!1)}}class UE extends Cm{constructor(t,e,i,r,c,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=c,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=i+e,p=e/d,y=Sl(t[0],!1);y.offset=0,c.push(y);const w=Sl(t[0],!1);w.offset=jE(p),c.push(w);const T=t.length-1;for(let A=1;A<=T;A++){let k=Sl(t[A],!1);k.offset=jE((e+k.offset*i)/d),c.push(k)}i=d,e=0,r="",t=c}return Pf(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Gv{}class HE extends Gv{normalizePropertyName(t,e){return xf(t)}normalizeStyleValue(t,e,i,r){let c="";const d=i.toString().trim();if(GE[e]&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return d+c}}const GE=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Nc(n,t,e,i,r,c,d,p,y,w,T,A,k){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:c,toState:i,toStyles:d,timelines:p,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:A,errors:k}}const $v={};class zE{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(c=>c(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],c=this._stateStyles[t],d=r?r.buildStyles(e,i):{};return c?c.buildStyles(e,i):d}build(t,e,i,r,c,d,p,y,w,T){const A=[],k=this.ast.options&&this.ast.options.params||$v,Z=this.buildStyles(i,p&&p.params||$v,A),de=y&&y.params||$v,Ee=this.buildStyles(r,de,A),Ze=new Set,ze=new Map,Ct=new Map,it="void"===r,Gt={params:Object.assign(Object.assign({},k),de)},Mt=T?[]:wm(t,e,this.ast.animation,c,d,Z,Ee,Gt,w,A);let ci=0;if(Mt.forEach(ls=>{ci=Math.max(ls.duration+ls.delay,ci)}),A.length)return Nc(e,this._triggerName,i,r,it,Z,Ee,[],[],ze,Ct,ci,A);Mt.forEach(ls=>{const Zn=ls.element,ui=gs(ze,Zn,{});ls.preStyleProps.forEach(rg=>ui[rg]=!0);const ga=gs(Ct,Zn,{});ls.postStyleProps.forEach(rg=>ga[rg]=!0),Zn!==e&&Ze.add(Zn)});const Fi=Al(Ze.values());return Nc(e,this._triggerName,i,r,it,Z,Ee,Mt,Fi,ze,Ct,ci)}}class ex{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=_d(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!=d&&(r[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(p=>{let y=d[p];y.length>1&&(y=Ov(y,r,e));const w=this.normalizer.normalizePropertyName(p,e);y=this.normalizer.normalizeStyleValue(p,w,y,e),i[w]=y})}}),i}}class WF{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new ex(r.style,r.options&&r.options.params||{},i)}),Em(this.states,"true","1"),Em(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zE(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new zE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Em(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const ia=new Nf;class tx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Of(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,c=Sv(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],c=this._animations[t];let d;const p=new Map;if(c?(d=wm(this._driver,e,c,TE,dm,{},{},i,ia,r),d.forEach(T=>{const A=gs(p,T.element,{});T.postStyleProps.forEach(k=>A[k]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),d=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);p.forEach((T,A)=>{Object.keys(T).forEach(k=>{T[k]=this._driver.computeStyle(A,k,fs)})});const w=Oa(d.map(T=>{const A=p.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const c=Av(e,"","","");return Iv(this._getPlayer(t),i,c,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const c=this._getPlayer(t);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const YE="ng-animate-queued",Js="ng-animate-disabled",Xs=".ng-animate-disabled",nx=[],QE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ix={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},eo="__ng_removed";class Ff{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const c=_d(t);delete c.value,this.options=c}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Pa="void",qv=new Ff(Pa);class JE{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ms(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const c=gs(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};c.push(d);const p=gs(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(ms(t,Af),ms(t,Af+"-"+e),p[e]=qv),()=>{this._engine.afterFlush(()=>{const y=c.indexOf(d);y>=0&&c.splice(y,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const c=this._getTrigger(e),d=new Dm(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(ms(t,Af),ms(t,Af+"-"+e),this._engine.statesByElement.set(t,p={}));let y=p[e];const w=new Ff(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),p[e]=w,y||(y=qv),w.value!==Pa&&y.value===w.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const c=e[r];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(y.params,w.params)){const de=[],Ee=c.matchStyles(y.value,y.params,de),Ze=c.matchStyles(w.value,w.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Il(t,Ee),Ao(t,Ze)})}return}const k=gs(this._engine.playersByElement,t,[]);k.forEach(de=>{de.namespaceId==this.id&&de.triggerName==e&&de.queued&&de.destroy()});let j=c.matchTransition(y.value,w.value,t,w.params),Z=!1;if(!j){if(!r)return;j=c.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:y,toState:w,player:d,isFallbackTransition:Z}),Z||(ms(t,YE),d.onStart(()=>{Fc(t,YE)})),d.onDone(()=>{let de=this.players.indexOf(d);de>=0&&this.players.splice(de,1);const Ee=this._engine.playersByElement.get(t);if(Ee){let Ze=Ee.indexOf(d);Ze>=0&&Ee.splice(Ze,1)}}),this.players.push(d),k.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,hm,!0);i.forEach(r=>{if(r[eo])return;const c=this._engine.fetchNamespacesByElement(r);c.size?c.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const c=this._engine.statesByElement.get(t);if(c){const d=[];if(Object.keys(c).forEach(p=>{if(this._triggers[p]){const y=this.trigger(t,p,Pa,r);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Oa(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(c=>{const d=c.name;if(r.has(d))return;r.add(d);const y=this._triggers[d].fallbackTransition,w=i[d]||qv,T=new Ff(Pa),A=new Dm(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:y,fromState:w,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(t):[];if(c&&c.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const c=t[eo];(!c||c===QE)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ms(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const c=i.element,d=this._elementListeners.get(c);d&&d.forEach(p=>{if(p.name==i.triggerName){const y=Av(c,i.triggerName,i.fromState.value,i.toState.value);y._data=t,Iv(i.player,p.phase,y,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const c=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class rx{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new JE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let c=i;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let c=0;c<r.length;c++){const d=i[r[c]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&e.add(p)}}}return e}trigger(t,e,i,r){if(Sm(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Sm(e))return;const c=e[eo];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ms(t,Js)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Fc(t,Js))}removeNode(t,e,i,r){if(Sm(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[eo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,c){return Sm(e)?this._fetchNamespace(t).listen(e,i,r,c):()=>{}}_buildInstruction(t,e,i,r,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,hm,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,md,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Oa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[eo];if(e&&e.setForRemoval){if(t[eo]=QE,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Xs)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Xs,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ms(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Oa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Nf,r=[],c=new Map,d=[],p=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(dt=>{T.add(dt);const Et=this.driver.query(dt,".ng-animate-queued",!0);for(let Wt=0;Wt<Et.length;Wt++)T.add(Et[Wt])});const A=this.bodyNode,k=Array.from(this.statesByElement.keys()),j=Lf(k,this.collectedEnterElements),Z=new Map;let de=0;j.forEach((dt,Et)=>{const Wt=TE+de++;Z.set(Et,Wt),dt.forEach(Bn=>ms(Bn,Wt))});const Ee=[],Ze=new Set,ze=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Et=this.collectedLeaveElements[dt],Wt=Et[eo];Wt&&Wt.setForRemoval&&(Ee.push(Et),Ze.add(Et),Wt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(Bn=>Ze.add(Bn)):ze.add(Et))}const Ct=new Map,it=Lf(k,Array.from(Ze));it.forEach((dt,Et)=>{const Wt=dm+de++;Ct.set(Et,Wt),dt.forEach(Bn=>ms(Bn,Wt))}),t.push(()=>{j.forEach((dt,Et)=>{const Wt=Z.get(Et);dt.forEach(Bn=>Fc(Bn,Wt))}),it.forEach((dt,Et)=>{const Wt=Ct.get(Et);dt.forEach(Bn=>Fc(Bn,Wt))}),Ee.forEach(dt=>{this.processLeaveNode(dt)})});const Gt=[],Mt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(Wt=>{const Bn=Wt.player,Wr=Wt.element;if(Gt.push(Bn),this.collectedEnterElements.length){const $l=Wr[eo];if($l&&$l.setForMove)return void Bn.destroy()}const Gl=!A||!this.driver.containsElement(A,Wr),Po=Ct.get(Wr),gh=Z.get(Wr),Ki=this._buildInstruction(Wt,i,gh,Po,Gl);if(Ki.errors&&Ki.errors.length)Mt.push(Ki);else{if(Gl)return Bn.onStart(()=>Il(Wr,Ki.fromStyles)),Bn.onDestroy(()=>Ao(Wr,Ki.toStyles)),void r.push(Bn);if(Wt.isFallbackTransition)return Bn.onStart(()=>Il(Wr,Ki.fromStyles)),Bn.onDestroy(()=>Ao(Wr,Ki.toStyles)),void r.push(Bn);Ki.timelines.forEach($l=>$l.stretchStartingKeyframe=!0),i.append(Wr,Ki.timelines),d.push({instruction:Ki,player:Bn,element:Wr}),Ki.queriedElements.forEach($l=>gs(p,$l,[]).push(Bn)),Ki.preStyleProps.forEach(($l,JC)=>{const hA=Object.keys($l);if(hA.length){let sg=y.get(JC);sg||y.set(JC,sg=new Set),hA.forEach(VN=>sg.add(VN))}}),Ki.postStyleProps.forEach(($l,JC)=>{const hA=Object.keys($l);let sg=w.get(JC);sg||w.set(JC,sg=new Set),hA.forEach(VN=>sg.add(VN))})}});if(Mt.length){const dt=[];Mt.forEach(Et=>{dt.push(`@${Et.triggerName} has failed due to:\n`),Et.errors.forEach(Wt=>dt.push(`- ${Wt}\n`))}),Gt.forEach(Et=>Et.destroy()),this.reportError(dt)}const ci=new Map,Fi=new Map;d.forEach(dt=>{const Et=dt.element;i.has(Et)&&(Fi.set(Et,Et),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,ci))}),r.forEach(dt=>{const Et=dt.element;this._getPreviousPlayers(Et,!1,dt.namespaceId,dt.triggerName,null).forEach(Bn=>{gs(ci,Et,[]).push(Bn),Bn.destroy()})});const ls=Ee.filter(dt=>rD(dt,y,w)),Zn=new Map;Im(Zn,this.driver,ze,w,fs).forEach(dt=>{rD(dt,y,w)&&ls.push(dt)});const ga=new Map;j.forEach((dt,Et)=>{Im(ga,this.driver,new Set(dt),y,"!")}),ls.forEach(dt=>{const Et=Zn.get(dt),Wt=ga.get(dt);Zn.set(dt,Object.assign(Object.assign({},Et),Wt))});const rg=[],Z3=[],K3={};d.forEach(dt=>{const{element:Et,player:Wt,instruction:Bn}=dt;if(i.has(Et)){if(T.has(Et))return Wt.onDestroy(()=>Ao(Et,Bn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Bn.totalTime),void r.push(Wt);let Wr=K3;if(Fi.size>1){let Po=Et;const gh=[];for(;Po=Po.parentNode;){const Ki=Fi.get(Po);if(Ki){Wr=Ki;break}gh.push(Po)}gh.forEach(Ki=>Fi.set(Ki,Wr))}const Gl=this._buildAnimation(Wt.namespaceId,Bn,ci,c,ga,Zn);if(Wt.setRealPlayer(Gl),Wr===K3)rg.push(Wt);else{const Po=this.playersByElement.get(Wr);Po&&Po.length&&(Wt.parentPlayer=Oa(Po)),r.push(Wt)}}else Il(Et,Bn.fromStyles),Wt.onDestroy(()=>Ao(Et,Bn.toStyles)),Z3.push(Wt),T.has(Et)&&r.push(Wt)}),Z3.forEach(dt=>{const Et=c.get(dt.element);if(Et&&Et.length){const Wt=Oa(Et);dt.setRealPlayer(Wt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ee.length;dt++){const Et=Ee[dt],Wt=Et[eo];if(Fc(Et,dm),Wt&&Wt.hasAnimation)continue;let Bn=[];if(p.size){let Gl=p.get(Et);Gl&&Gl.length&&Bn.push(...Gl);let Po=this.driver.query(Et,md,!0);for(let gh=0;gh<Po.length;gh++){let Ki=p.get(Po[gh]);Ki&&Ki.length&&Bn.push(...Ki)}}const Wr=Bn.filter(Gl=>!Gl.destroyed);Wr.length?tD(this,Et,Wr):this.processLeaveNode(Et)}return Ee.length=0,rg.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Et=this.players.indexOf(dt);this.players.splice(Et,1)}),dt.play()}),rg}elementContainsData(t,e){let i=!1;const r=e[eo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,c){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const y=!c||c==Pa;p.forEach(w=>{w.queued||!y&&w.triggerName!=r||d.push(w)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const c=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const y of e.timelines){const w=y.element,T=w!==c,A=gs(i,w,[]);this._getPreviousPlayers(w,T,d,p,e.toState).forEach(j=>{const Z=j.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),j.destroy(),A.push(j)})}Il(c,e.fromStyles)}_buildAnimation(t,e,i,r,c,d){const p=e.triggerName,y=e.element,w=[],T=new Set,A=new Set,k=e.timelines.map(Z=>{const de=Z.element;T.add(de);const Ee=de[eo];if(Ee&&Ee.removedBeforeQueried)return new kc(Z.duration,Z.delay);const Ze=de!==y,ze=function(n){const t=[];return Yv(n,t),t}((i.get(de)||nx).map(ci=>ci.getRealPlayer())).filter(ci=>!!ci.element&&ci.element===de),Ct=c.get(de),it=d.get(de),Gt=Sv(0,this._normalizer,0,Z.keyframes,Ct,it),Mt=this._buildPlayer(Z,Gt,ze);if(Z.subTimeline&&r&&A.add(de),Ze){const ci=new Dm(t,p,de);ci.setRealPlayer(Mt),w.push(ci)}return Mt});w.forEach(Z=>{gs(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>ms(Z,Rv));const j=Oa(k);return j.onDestroy(()=>{T.forEach(Z=>Fc(Z,Rv)),Ao(y,e.toStyles)}),A.forEach(Z=>{gs(r,Z,[]).push(j)}),j}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new kc(t.duration,t.delay)}}class Dm{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new kc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Iv(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){gs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sm(n){return n&&1===n.nodeType}function Wv(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Im(n,t,e,i,r){const c=[];e.forEach(y=>c.push(Wv(y)));const d=[];i.forEach((y,w)=>{const T={};y.forEach(A=>{const k=T[A]=t.computeStyle(w,A,r);(!k||0==k.length)&&(w[eo]=ix,d.push(w))}),n.set(w,T)});let p=0;return e.forEach(y=>Wv(y,c[p++])),d}function Lf(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),c=new Map;function d(p){if(!p)return 1;let y=c.get(p);if(y)return y;const w=p.parentNode;return y=e.has(w)?w:r.has(w)?1:d(w),c.set(p,y),y}return t.forEach(p=>{const y=d(p);1!==y&&e.get(y).push(p)}),e}const yd="$$classes";function ms(n,t){if(n.classList)n.classList.add(t);else{let e=n[yd];e||(e=n[yd]={}),e[t]=!0}}function Fc(n,t){if(n.classList)n.classList.remove(t);else{let e=n[yd];e&&delete e[t]}}function tD(n,t,e){Oa(e).onDone(()=>n.processLeaveNode(t))}function Yv(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Cv?Yv(i.players,t):t.push(i)}}function rD(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(c=>r.add(c)):t.set(n,i),e.delete(n),!0}class Am{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,c)=>{},this._transitionEngine=new rx(t,e,i),this._timelineEngine=new tx(t,e,i),this._transitionEngine.onRemovalComplete=(r,c)=>this.onRemovalComplete(r,c)}registerTrigger(t,e,i,r,c){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const y=[],w=Of(this._driver,c,y);if(y.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);p=function(n,t,e){return new WF(n,t,e)}(r,w,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[c,d]=_E(i);this._timelineEngine.command(c,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,c){if("@"==i.charAt(0)){const[d,p]=_E(i);return this._timelineEngine.listen(d,e,p,c)}return this._transitionEngine.listen(t,e,i,r,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sD(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Zv(t[0]),t.length>1&&(i=Zv(t[t.length-1]))):t&&(e=Zv(t)),e||i?new ox(n,e,i):null}let ox=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ao(this._element,this._initialStyles),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Il(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),Ao(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Zv(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];ax(r)&&(t=t||{},t[r]=n[r])}return t}function ax(n){return"display"===n||"position"===n}const oD="animation",aD="animationend";class ux{constructor(t,e,i,r,c,d,p){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=c,this._fillMode=d,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function(n,t){const e=xm(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Mm(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uD(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lD(this._element,this._name,"paused")}resume(){lD(this._element,this._name,"running")}setPosition(t){const e=cD(this._element,this._name);this._position=t*this._duration,Mm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uD(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=xm(n,"").split(","),r=Kv(i,t);r>=0&&(i.splice(r,1),Mm(n,"",i.join(",")))}(this._element,this._name))}}function lD(n,t,e){Mm(n,"PlayState",e,cD(n,t))}function cD(n,t){const e=xm(n,"");return e.indexOf(",")>0?Kv(e.split(","),t):Kv([e],t)}function Kv(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function uD(n,t,e){e?n.removeEventListener(aD,t):n.addEventListener(aD,t)}function Mm(n,t,e,i){const r=oD+t;if(null!=i){const c=n.style[r];if(c.length){const d=c.split(",");d[i]=e,e=d.join(",")}}n.style[r]=e}function xm(n,t){return n.style[oD+t]||""}class Qv{constructor(t,e,i,r,c,d,p,y){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=c,this._finalStyles=p,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=r+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ux(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:mm(this.element,i))})}this.currentSnapshot=t}}class pD extends kc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=wE(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Xv{constructor(){this._count=0}validateStyleProperty(t){return bE(t)}matchesElement(t,e){return xv(t,e)}containsElement(t,e){return Tf(t,e)}query(t,e,i){return Sf(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(p=>wE(p));let r=`@keyframes ${e} {\n`,c="";i.forEach(p=>{c=" ";const y=parseFloat(p.offset);r+=`${c}${100*y}% {\n`,c+=" ",Object.keys(p).forEach(w=>{const T=p[w];switch(w){case"offset":return;case"easing":return void(T&&(r+=`${c}animation-timing-function: ${T};\n`));default:return void(r+=`${c}${w}: ${T};\n`)}}),r+=`${c}}\n`}),r+="}\n";const d=document.createElement("style");return d.textContent=r,d}animate(t,e,i,r,c,d=[],p){const y=d.filter(Ee=>Ee instanceof Qv),w={};ME(i,r)&&y.forEach(Ee=>{let Ze=Ee.currentSnapshot;Object.keys(Ze).forEach(ze=>w[ze]=Ze[ze])});const T=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=gm(t,e,w));if(0==i)return new pD(t,T);const A="gen_css_kf_"+this._count++,k=this.buildKeyframeElement(t,A,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(k);const Z=sD(t,e),de=new Qv(t,e,A,i,r,c,T,Z);return de.onDestroy(()=>{var n;(n=k).parentNode.removeChild(n)}),de}}class Vc{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mm(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZF{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(fx().toString()),this._cssKeyframesDriver=new Xv}validateStyleProperty(t){return bE(t)}matchesElement(t,e){return xv(t,e)}containsElement(t,e){return Tf(t,e)}query(t,e,i){return Sf(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,c,d=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,c,d);const T={duration:i,delay:r,fill:0==r?"both":"forwards"};c&&(T.easing=c);const A={},k=d.filter(Z=>Z instanceof Vc);ME(i,r)&&k.forEach(Z=>{let de=Z.currentSnapshot;Object.keys(de).forEach(Ee=>A[Ee]=de[Ee])});const j=sD(t,e=gm(t,e=e.map(Z=>Sl(Z,!1)),A));return new Vc(t,e,T,j)}}function fx(){return Dv()&&Element.prototype.animate||{}}let _D=(()=>{class n extends cm{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Rc(e):e;return bt(this._renderer,null,i,"register",[r]),new yD(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class yD extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new KF(this._id,t,e||{},this._renderer)}}class KF{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bt(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function bt(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const vD="@.disabled";let px=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,d)=>{d&&d.parentNode(c)&&d.removeChild(c.parentNode,c)}}createRenderer(e,i){const c=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(c);return T||(T=new Vf("",c,this.engine),this._rendererCache.set(c,T)),T}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(d,p,e,T.name,T)};return i.data.animation.forEach(y),new gx(this,p,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,p]=c;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Am),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Vf{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==vD?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gx extends Vf{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==vD?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,r,c,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let Di=(()=>{class n extends Am{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te),a.LFG(CE),a.LFG(Gv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ti=new a.OlP("AnimationModuleType"),rb=[{provide:cm,useClass:_D},{provide:Gv,useFactory:function(){return new HE}},{provide:Am,useClass:Di},{provide:a.FYo,useFactory:function(n,t,e){return new px(n,t,e)},deps:[Es,Am,a.R0b]}],sb=[{provide:CE,useFactory:function(){return"function"==typeof fx()?new ZF:new Xv}},{provide:Ti,useValue:"BrowserAnimations"},...rb],ob=[{provide:CE,useClass:YM},{provide:Ti,useValue:"NoopAnimations"},...rb];let wD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ob:sb}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:sb,imports:[Ph]}),n})();const lb=new a.GfV("12.2.13"),wx=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Uc,bn=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,a.X6Q)()||pv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&lb.full!==Ms.full&&console.warn("The Angular Material version ("+lb.full+") does not match the Angular CDK version ("+Ms.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gE),a.LFG(wx,8),a.LFG(te))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Tl],Tl]}),n})();function sa(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=on(t)}}}function Uf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Bc(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=on(t)}}}function ED(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?wr(e):this.defaultTabIndex}}}try{Uc="undefined"!=typeof Intl}catch(n){Uc=!1}let ub=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function db(n,t,e="mat"){n.changes.pipe(ur(n)).subscribe(({length:i})=>{vd(t,`${e}-2-line`,!1),vd(t,`${e}-3-line`,!1),vd(t,`${e}-multi-line`,!1),2===i||3===i?vd(t,`${e}-${i}-line`,!0):i>3&&vd(t,`${e}-multi-line`,!0)})}function vd(n,t,e){const i=n.nativeElement.classList;e?i.add(t):i.remove(t)}let Pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn],bn]}),n})();class Ax{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Hc={enterDuration:225,exitDuration:150},Nm=nm({passive:!0}),ID=["mousedown","touchstart"],hb=["mouseup","mouseleave","touchend","touchcancel"];class AD{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=To(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},Hc),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),p=t-r.left,y=e-r.top,w=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-d+"px",T.style.top=y-d+"px",T.style.height=2*d+"px",T.style.width=2*d+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T),window.getComputedStyle(T).getPropertyValue("opacity"),T.style.transform="scale(1)";const A=new Ax(this,T,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const k=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!k||!this._isPointerDown)&&A.fadeOut()},w),A}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},Hc),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=To(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ID))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hb),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=yv(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!cE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Nm)})})}_removeTriggerEvents(){this._triggerElement&&(ID.forEach(t=>{this._triggerElement.removeEventListener(t,this,Nm)}),this._pointerUpEventsRegistered&&hb.forEach(t=>{this._triggerElement.removeEventListener(t,this,Nm)}))}}const Hf=new a.OlP("mat-ripple-global-options");let oa=(()=>{class n{constructor(e,i,r,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new AD(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Sn),a.Y36(Hf,8),a.Y36(Ti,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn,ld],bn]}),n})(),fb=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn]]}),n})();const kD=["*",[["mat-toolbar-row"]]],OD=["*","mat-toolbar-row"],Nx=Uf(class{constructor(n){this._elementRef=n}});let Fx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),PD=(()=>{class n extends Nx{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Sn),a.Y36(te))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Fx,5),2&e){let c;a.iGM(c=a.CRH())&&(i._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:OD,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(kD),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn],bn]}),n})();class _b{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Gf extends _b{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class wd extends _b{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BD extends _b{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class yb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Gf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wd?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BD?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class UD extends yb{constructor(t,e,i,r,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,y=this._document.createComment("dom-portal");p.parentNode.insertBefore(y,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(p,y)})},this._document=c}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let jD=(()=>{class n extends wd{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[a.qOj]}),n})(),xs=(()=>{class n extends yb{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(c,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(te))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Gc=P(6682),Ed=P(9105);function Dd(n,t,e,i){return(0,Ed.m)(e)&&(i=e,e=void 0),i?Dd(n,t,e).pipe((0,_t.U)(r=>(0,Ca.k)(r)?i(...r):i(r))):new Bt.y(r=>{HD(n,t,function(d){r.next(arguments.length>1?Array.prototype.slice.call(arguments):d)},r,e)})}function HD(n,t,e,i,r){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const d=n;n.addEventListener(t,e,r),c=()=>d.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const d=n;n.on(t,e),c=()=>d.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const d=n;n.addListener(t,e),c=()=>d.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let d=0,p=n.length;d<p;d++)HD(n[d],t,e,i,r)}i.add(c)}var $f=P(6561);function $D(n=0,t,e){let i=-1;return(0,$f.k)(t)?i=Number(t)<1?1:Number(t):(0,xu.K)(t)&&(e=t),(0,xu.K)(e)||(e=ad.P),new Bt.y(r=>{const c=(0,$f.k)(n)?n:+n-e.now();return e.schedule(Ux,c,{index:0,period:i,subscriber:r})})}function Ux(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}var _L=P(6465),Hx=P(6102);new class extends Hx.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,c=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<c&&(t=e.shift()));if(this.active=!1,i){for(;++r<c&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends _L.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});P(4581);class yL{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qx(t,this.durationSelector))}}class qx extends Pr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,Pr.ft)(e,new Pr.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Cb(n,t=ad.P){return function(n){return function(e){return e.lift(new yL(n))}}(()=>$D(n,t))}function zf(){return n=>n.lift(new zD)}class zD{call(t,e){return e.subscribe(new qD(t))}}class qD extends $i.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var WD=P(7771),qf=P(6136),Wx=P(8858);class YD extends at.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Lm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,c=i.length;let d;if(this.closed)throw new by.N;if(this.isStopped||this.hasError?d=Oi.w.EMPTY:(this.observers.push(t),d=new Wx.W(this,t)),r&&t.add(t=new qf.ht(t,r)),e)for(let p=0;p<c&&!t.closed;p++)t.next(i[p]);else for(let p=0;p<c&&!t.closed;p++)t.next(i[p].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),d}_getNow(){return(this.scheduler||WD.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,c=r.length;let d=0;for(;d<c&&!(t-r[d].time<i);)d++;return c>e&&(d=Math.max(d,c-e)),d>0&&r.splice(0,d),r}}class Lm{constructor(t,e){this.time=t,this.value=e}}function Eb(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,d,c=0,p=!1,y=!1;return function(T){let A;c++,!r||p?(p=!1,r=new YD(n,t,i),A=r.subscribe(this),d=T.subscribe({next(k){r.next(k)},error(k){p=!0,r.error(k)},complete(){y=!0,d=void 0,r.complete()}}),y&&(d=void 0)):A=r.subscribe(this),this.add(()=>{c--,A.unsubscribe(),A=void 0,d&&!y&&e&&0===c&&(d.unsubscribe(),d=void 0,r=void 0)})}}(i))}function $c(n){return n&&"function"==typeof n.connect}class KD{applyChanges(t,e,i,r,c){t.forEachOperation((d,p,y)=>{let w,T;if(null==d.previousIndex){const A=i(d,p,y);w=e.createEmbeddedView(A.templateRef,A.context,A.index),T=1}else null==y?(e.remove(p),T=3):(w=e.get(p),e.move(w,y),T=2);c&&c({context:null==w?void 0:w.context,operation:T,record:d})})}detach(){}}class Yx{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new at.xQ,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let QD=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const zc=new a.OlP("_ViewRepeater");let Td=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new at.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bt.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Cb(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,tt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Hn(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=To(i),c=e.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Sn),a.LFG(te,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.R0b),a.LFG(Sn),a.LFG(te,8))},token:n,providedIn:"root"}),n})(),la=(()=>{class n{constructor(e,i,r,c){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=c,this._destroyed=new at.xQ,this._elementScrolled=new Bt.y(d=>this.ngZone.runOutsideAngular(()=>Dd(this.elementRef.nativeElement,"scroll").pipe(Vn(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=vf()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==vf()?e.left=e.right:1==vf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;hv()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&2==vf()?e==i?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&1==vf()?e==i?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==i?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Td),a.Y36(a.R0b),a.Y36(An,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),to=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new at.xQ,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,c=r.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Cb(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sn),a.LFG(a.R0b),a.LFG(te,8))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Sn),a.LFG(a.R0b),a.LFG(te,8))},token:n,providedIn:"root"}),n})(),Sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Tl,ld,Sb],Tl,Sb]}),n})();function Um(n,t){1&n&&a.Hsn(0)}const Ab=["*"];function tR(n,t){}const XD=function(n){return{animationDuration:n}},eT=function(n,t){return{value:n,params:t}},Mb=["tabBodyWrapper"],tT=["tabHeader"];function nT(n,t){}function nR(n,t){if(1&n&&a.YNc(0,nT,0,0,"ng-template",9),2&n){const e=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",e.templateLabel)}}function iR(n,t){if(1&n&&a._uU(0),2&n){const e=a.oxw().$implicit;a.Oqu(e.textLabel)}}function iT(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(){const r=a.CHM(e),c=r.$implicit,d=r.index,p=a.oxw(),y=a.MAs(1);return p._handleClick(c,y,d)})("cdkFocusChange",function(r){const d=a.CHM(e).index;return a.oxw()._tabFocusChanged(r,d)}),a.TgZ(1,"div",7),a.YNc(2,nR,1,1,"ng-template",8),a.YNc(3,iR,1,1,"ng-template",8),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.ekj("mat-tab-label-active",r.selectedIndex==i),a.Q6J("id",r._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),a.uIk("tabIndex",r._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),a.xp6(2),a.Q6J("ngIf",e.templateLabel),a.xp6(1),a.Q6J("ngIf",!e.templateLabel)}}function rR(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-tab-body",10),a.NdJ("_onCentered",function(){return a.CHM(e),a.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return a.CHM(e),a.oxw()._setTabBodyWrapperHeight(r)}),a.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.ekj("mat-tab-body-active",r.selectedIndex===i),a.Q6J("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),a.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const xb=["tabListContainer"],Yf=["tabList"],Zf=["nextPaginator"],sR=["previousPaginator"],Gn=new a.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Na=(()=>{class n{constructor(e,i,r,c){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=c}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Gn),a.Y36(Ti,8))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const Sd=new a.OlP("MatTabContent"),Lt=new a.OlP("MatTabLabel"),Rs=new a.OlP("MAT_TAB");let jm=(()=>{class n extends jD{constructor(e,i,r){super(e,i),this._closestTab=r}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(Rs,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[a._Bn([{provide:Lt,useExisting:n}]),a.qOj]}),n})();const Wc=sa(class{}),oR=new a.OlP("MAT_TAB_GROUP");let Hm=(()=>{class n extends Wc{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new at.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new wd(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(oR,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Lt,5),a.Suo(r,Sd,7,a.Rgc)),2&e){let c;a.iGM(c=a.CRH())&&(i.templateLabel=c.first),a.iGM(c=a.CRH())&&(i._explicitContent=c.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,7),2&e){let r;a.iGM(r=a.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[a._Bn([{provide:Rs,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:Ab,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.YNc(0,Um,1,0,"ng-template"))},encapsulation:2}),n})();const rT={translateTab:ta("translateTab",[Fr("center, void, left-origin-center, right-origin-center",Ei({transform:"none"})),Fr("left",Ei({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Fr("right",Ei({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),na("* => left, * => right, left => center, right => center",ps("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),na("void => left-origin-center",[Ei({transform:"translate3d(-100%, 0, 0)"}),ps("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),na("void => right-origin-center",[Ei({transform:"translate3d(100%, 0, 0)"}),ps("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let EL=(()=>{class n extends xs{constructor(e,i,r,c){super(e,i,c),this._host=r,this._centeringSub=Oi.w.EMPTY,this._leavingSub=Oi.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ur(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>sT)),a.Y36(te))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),n})(),aR=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Oi.w.EMPTY,this._translateTabComplete=new at.xQ,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(c=>{this._computePositionAnimationState(c),r.markForCheck()})),this._translateTabComplete.pipe(El((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{this._isCenterPosition(c.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(c.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(An,8),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),sT=(()=>{class n extends aR{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(An,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&a.Gf(xs,5),2&e){let r;a.iGM(r=a.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(c){return i._onTranslateTabStarted(c)})("@translateTab.done",function(c){return i._translateTabComplete.next(c)}),a.YNc(2,tR,0,0,"ng-template",2),a.qZA()),2&e&&a.Q6J("@translateTab",a.WLB(3,eT,i._position,a.VKq(1,XD,i.animationDuration)))},directives:[EL],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[rT.translateTab]}}),n})();const ks=new a.OlP("MAT_TABS_CONFIG");let mi=0;class Mo{}const oT=Uf(Bc(class{constructor(n){this._elementRef=n}}),"primary");let lR=(()=>{class n extends oT{constructor(e,i,r,c){var d;super(e),this._changeDetectorRef=i,this._animationMode=c,this._tabs=new a.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Oi.w.EMPTY,this._tabLabelSubscription=Oi.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=mi++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(d=null==r?void 0:r.contentTabIndex)&&void 0!==d?d:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=on(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=wr(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=wr(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,c)=>r.isActive=c===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let r=0;r<i.length;r++)if(i[r].isActive){this._indexToSelect=this._selectedIndex=r;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ur(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Mo;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Gc.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ks,8),a.Y36(Ti,8))},n.\u0275dir=a.lG2({type:n,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),n})(),Rb=(()=>{class n extends lR{constructor(e,i,r,c){super(e,i,r,c)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ks,8),a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Hm,5),2&e){let c;a.iGM(c=a.CRH())&&(i._allTabs=c)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Mb,5),a.Gf(tT,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._tabBodyWrapper=r.first),a.iGM(r=a.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[a._Bn([{provide:oR,useExisting:n}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(c){return i._focusChanged(c)})("selectFocusedIndex",function(c){return i.selectedIndex=c}),a.YNc(2,iT,4,14,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,rR,1,9,"mat-tab-body",5),a.qZA()),2&e&&(a.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),a.xp6(2),a.Q6J("ngForOf",i._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(2),a.Q6J("ngForOf",i._tabs))},directives:function(){return[Qf,vn,Yc,oa,pE,Ji,xs,sT]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})();const kb=sa(class{});let Yc=(()=>{class n extends kb{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(a.uIk("aria-disabled",!!i.disabled),a.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[a.qOj]}),n})();const Id=nm({passive:!0});let Ob=(()=>{class n{constructor(e,i,r,c,d,p,y){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=c,this._ngZone=d,this._platform=p,this._animationMode=y,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new at.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new at.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,d.runOutsideAngular(()=>{Dd(e.nativeElement,"mouseleave").pipe(Vn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=wr(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Dd(this._previousPaginator.nativeElement,"touchstart",Id).pipe(Vn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Dd(this._nextPaginator.nativeElement,"touchstart",Id).pipe(Vn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,tt.of)("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new bf(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),(0,Gc.T)(e,i,this._items.changes).pipe(Vn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Vn(this._destroyed)).subscribe(c=>{this.indexFocused.emit(c),this._setTabFocus(c)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Do(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:c,offsetWidth:d}=i.elementRef.nativeElement;let p,y;"ltr"==this._getLayoutDirection()?(p=c,y=p+d):(y=this._tabList.nativeElement.offsetWidth-c,p=y-d);const w=this.scrollDistance,T=this.scrollDistance+r;p<w?this.scrollDistance-=w-p+60:y>T&&(this.scrollDistance+=y-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),$D(650,100).pipe(Vn((0,Gc.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:c}=this._scrollHeader(e);(0===c||c>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(to),a.Y36(An,8),a.Y36(a.R0b),a.Y36(Sn),a.Y36(Ti,8))},n.\u0275dir=a.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),Pb=(()=>{class n extends Ob{constructor(e,i,r,c,d,p,y){super(e,i,r,c,d,p,y),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=on(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(to),a.Y36(An,8),a.Y36(a.R0b),a.Y36(Sn),a.Y36(Ti,8))},n.\u0275dir=a.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),n})(),Qf=(()=>{class n extends Pb{constructor(e,i,r,c,d,p,y){super(e,i,r,c,d,p,y)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(to),a.Y36(An,8),a.Y36(a.R0b),a.Y36(Sn),a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Yc,4),2&e){let c;a.iGM(c=a.CRH())&&(i._items=c)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Na,7),a.Gf(xb,7),a.Gf(Yf,7),a.Gf(Zf,5),a.Gf(sR,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._inkBar=r.first),a.iGM(r=a.CRH())&&(i._tabListContainer=r.first),a.iGM(r=a.CRH())&&(i._tabList=r.first),a.iGM(r=a.CRH())&&(i._nextPaginator=r.first),a.iGM(r=a.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:Ab,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(c){return i._handlePaginatorPress("before",c)})("touchend",function(){return i._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(c){return i._handleKeydown(c)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),a.TgZ(7,"div",7),a.Hsn(8),a.qZA(),a._UZ(9,"mat-ink-bar"),a.qZA(),a.qZA(),a.TgZ(10,"div",8,9),a.NdJ("mousedown",function(c){return i._handlePaginatorPress("after",c)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),a._UZ(12,"div",2),a.qZA()),2&e&&(a.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),a.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple),a.xp6(5),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(5),a.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),a.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[oa,gv,Na],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,bn,Cd,bd,ti,bv],bn]}),n})();const cT=["*",[["mat-card-footer"]]],uT=["*","mat-card-footer"];let hR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Cr=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:uT,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(cT),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),Rl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn],bn]}),n})();const fR=[[["caption"]],[["colgroup"],["col"]]],pR=["caption","colgroup, col"];function Lb(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=on(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Md=new a.OlP("CDK_TABLE");let xd=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Rd=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Jf=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Bb{}const _R=Lb(Bb);let kl=(()=>{class n extends _R{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=on(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Md,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,xd,5),a.Suo(r,Rd,5),a.Suo(r,Jf,5)),2&e){let c;a.iGM(c=a.CRH())&&(i.cell=c.first),a.iGM(c=a.CRH())&&(i.headerCell=c.first),a.iGM(c=a.CRH())&&(i.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class Ub{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let jb=(()=>{class n extends Ub{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(kl),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),Hb=(()=>{class n extends Ub{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const c=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===c||"treegrid"===c?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(kl),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class hT{constructor(){this.tasks=[],this.endTasks=[]}}const Gb=new a.OlP("_COALESCED_STYLE_SCHEDULER");let kd=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new at.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hT,this._getScheduleObservable().pipe(Vn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new hT;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Yn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ts(1))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$b=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Ym?e.headerCell.template:this instanceof ep?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class fT extends $b{}const Xf=Lb(fT);let Ym=(()=>{class n extends Xf{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Md,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class pT extends $b{}const yR=Lb(pT);let ep=(()=>{class n extends yR{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Md,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),Zm=(()=>{class n extends $b{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Md,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),Fa=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n.mostRecentCellOutlet=null,n})(),zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Fa],encapsulation:2}),n})(),qb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Fa],encapsulation:2}),n})(),Qm=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const vR=["top","bottom","left","right"];class kL{constructor(t,e,i,r,c=!0,d=!0,p){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=c,this._needsPositionStickyOnElement=d,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let c=0;c<r.children.length;c++)i.push(r.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const c=t[0],d=c.children.length,p=this._getCellWidths(c,r),y=this._getStickyStartColumnPositions(p,e),w=this._getStickyEndColumnPositions(p,i),T=e.lastIndexOf(!0),A=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,j=k?"right":"left",Z=k?"left":"right";for(const de of t)for(let Ee=0;Ee<d;Ee++){const Ze=de.children[Ee];e[Ee]&&this._addStickyStyle(Ze,j,y[Ee],Ee===T),i[Ee]&&this._addStickyStyle(Ze,Z,w[Ee],Ee===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:p.slice(0,T+1).map((de,Ee)=>e[Ee]?de:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:p.slice(A).map((de,Ee)=>i[Ee+A]?de:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,c="bottom"===i?e.slice().reverse():e,d=[],p=[],y=[];for(let T=0,A=0;T<r.length;T++){if(!c[T])continue;d[T]=A;const k=r[T];y[T]=this._isNativeHtmlTable?Array.from(k.children):[k];const j=k.getBoundingClientRect().height;A+=j,p[T]=j}const w=c.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,A;for(let k=0;k<r.length;k++){if(!c[k])continue;const j=d[k],Z=k===w;for(const de of y[k])this._addStickyStyle(de,i,j,Z)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:p,offsets:d,elements:y}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:p,offsets:d,elements:y})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);vR.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of vR)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let c=0;c<r.length;c++)i.push(r[c].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let c=0;c<t.length;c++)e[c]&&(i[c]=r,r+=t[c]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let c=t.length;c>0;c--)e[c]&&(i[c]=r,r+=t[c]);return i}}const Jm=new a.OlP("CDK_SPL");let Xm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),La=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),nr=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),tp=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),e_=(()=>{class n{constructor(e,i,r,c,d,p,y,w,T,A,k){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=d,this._platform=y,this._viewRepeater=w,this._coalescedStyleScheduler=T,this._viewportRuler=A,this._stickyPositioningListener=k,this._onDestroy=new at.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new br({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=on(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=on(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Vn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),$c(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,c,d)=>this._getEmbeddedViewArgs(r.item,d),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const c=this._headerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,c,"top"),this._headerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const c=this._footerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,d)=>{this._addStickyColumnStyles([c],this._headerRowDefs[d])}),this._rowDefs.forEach(c=>{const d=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===c&&d.push(i[p]);this._addStickyColumnStyles(d,c)}),r.forEach((c,d)=>{this._addStickyColumnStyles([c],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let c=this._data[r];const d=this._getRenderRowsForData(c,r,i.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let p=0;p<d.length;p++){let y=d[p];const w=this._cachedRenderRowsMap.get(y.data);w.has(y.rowDef)?w.get(y.rowDef).push(y):w.set(y.rowDef,[y]),e.push(y)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(d=>{const p=r&&r.has(d)?r.get(d):[];if(p.length){const y=p.shift();return y.dataIndex=i,y}return{data:e,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),np(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=np(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=np(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=np(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(d,p)=>d||!!p.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),i||r||c}_switchDataSource(e){this._data=[],$c(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;$c(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Bt.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,tt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Vn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),c=r.map(p=>p.sticky),d=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const c=e.viewContainer.get(r);i.push(c.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(c=>!c.when||c.when(i,e));else{let c=this._rowDefs.find(d=>d.when&&d.when(i,e))||this._defaultRowDef;c&&r.push(c)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,c={}){const d=e.viewContainer.createEmbeddedView(i.template,c,r);return this._renderCellTemplateForItem(i,c),d}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Fa.mostRecentCellOutlet&&Fa.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const d=e.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const c=this._document.createElement(r.tag);c.setAttribute("role","rowgroup");for(const d of r.outlets)c.appendChild(d.elementRef.nativeElement);e.appendChild(c)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kL(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,tt.of)()).pipe(Vn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const r=this._noDataRowOutlet.viewContainer;i?r.createEmbeddedView(e.templateRef):r.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(An,8),a.Y36(te),a.Y36(Sn),a.Y36(zc),a.Y36(Gb),a.Y36(to),a.Y36(Jm,12))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Qm,5),a.Suo(r,kl,5),a.Suo(r,Zm,5),a.Suo(r,Ym,5),a.Suo(r,ep,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._noDataRow=c.first),a.iGM(c=a.CRH())&&(i._contentColumnDefs=c),a.iGM(c=a.CRH())&&(i._contentRowDefs=c),a.iGM(c=a.CRH())&&(i._contentHeaderRowDefs=c),a.iGM(c=a.CRH())&&(i._contentFooterRowDefs=c)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Xm,7),a.Gf(La,7),a.Gf(nr,7),a.Gf(tp,7)),2&e){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:Md,useExisting:n},{provide:zc,useClass:KD},{provide:Gb,useClass:kd},{provide:Jm,useValue:null}])],ngContentSelectors:pR,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(fR),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0),a.GkF(3,1),a.GkF(4,2),a.GkF(5,3))},directives:[La,Xm,tp,nr],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function np(n,t){return n.concat(Array.from(t))}let wR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ib]]}),n})();const CR=[[["caption"]],[["colgroup"],["col"]]],ER=["caption","colgroup, col"];let ip=(()=>{class n extends e_{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:zc,useClass:KD},{provide:e_,useExisting:n},{provide:Md,useExisting:n},{provide:Gb,useClass:kd},{provide:Jm,useValue:null}]),a.qOj],ngContentSelectors:ER,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(CR),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0),a.GkF(3,1),a.GkF(4,2),a.GkF(5,3))},directives:[La,Xm,tp,nr],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),Od=(()=>{class n extends xd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:xd,useExisting:n}]),a.qOj]}),n})(),xo=(()=>{class n extends Rd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Rd,useExisting:n}]),a.qOj]}),n})(),Kc=(()=>{class n extends kl{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:kl,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),Pd=(()=>{class n extends jb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),Qc=(()=>{class n extends Hb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),rp=(()=>{class n extends Ym{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:Ym,useExisting:n}]),a.qOj]}),n})(),Nd=(()=>{class n extends Zm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:Zm,useExisting:n}]),a.qOj]}),n})(),Fd=(()=>{class n extends zb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:zb,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Fa],encapsulation:2}),n})(),sp=(()=>{class n extends qb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:qb,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Fa],encapsulation:2}),n})(),t_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[wR,bn],bn]}),n})(),Kb=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=on(e)}get inset(){return this._inset}set inset(e){this._inset=on(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),Ld=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn],bn]}),n})();var vT=P(205),bT=P(1555);function op(n,t){return new Bt.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let c=0,d=0;for(let p=0;p<i;p++){const y=(0,Yn.D)(n[p]);let w=!1;e.add(y.subscribe({next:T=>{w||(w=!0,d++),r[p]=T},error:T=>e.error(T),complete:()=>{c++,(c===i||!w)&&(d===i&&e.next(t?t.reduce((T,A,k)=>(T[A]=r[k],T),{}):r),e.complete())}}))}})}var AR=P(8819);class Jb{}class Va{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),c=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Va;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Va?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===c.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class MR{encodeKey(t){return CT(t)}encodeValue(t){return CT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ap=/%(\d[a-f0-9])/gi,lp={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function CT(n){return encodeURIComponent(n).replace(ap,(t,e)=>{var i;return null!==(i=lp[e])&&void 0!==i?i:t})}function i_(n){return`${n}`}class Er{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new MR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const c=r.indexOf("="),[d,p]=-1==c?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,c)),t.decodeValue(r.slice(c+1))],y=e.get(d)||[];y.push(p),e.set(d,y)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Er({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(i_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(i_(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cp{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function ET(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function kR(n){return"undefined"!=typeof Blob&&n instanceof Blob}function r_(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Vd{constructor(t,e,i,r){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,c=r):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Va),this.context||(this.context=new cp),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new Er,this.urlWithParams=e}serializeBody(){return null===this.body?null:ET(this.body)||kR(this.body)||r_(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||r_(this.body)?null:kR(this.body)?this.body.type||null:ET(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,c=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,T=t.params||this.params;const A=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((k,j)=>k.set(j,t.setHeaders[j]),w)),t.setParams&&(T=Object.keys(t.setParams).reduce((k,j)=>k.set(j,t.setParams[j]),T)),new Vd(i,r,d,{params:T,headers:w,context:A,reportProgress:y,responseType:c,withCredentials:p})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class s_ extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Va,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Si.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new s_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function tw(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let c;if(e instanceof Vd)c=e;else{let y,w;y=r.headers instanceof Va?r.headers:new Va(r.headers),r.params&&(w=r.params instanceof Er?r.params:new Er({fromObject:r.params})),c=new Vd(e,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=(0,tt.of)(c).pipe(oc(y=>this.handler.handle(y)));if(e instanceof Vd||"events"===r.observe)return d;const p=d.pipe(Hn(y=>y instanceof s_));switch(r.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));case"json":default:return p.pipe((0,_t.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Er).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,tw(r,i))}post(e,i,r={}){return this.request("POST",e,tw(r,i))}put(e,i,r={}){return this.request("PUT",e,tw(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Jb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const RT=["*"];function rw(n){return Error(`Unable to find icon with the name "${n}"`)}function l_(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function BR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Pl{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let c_=(()=>{class n{constructor(e,i,r,c){this._httpClient=e,this._sanitizer=i,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,c){return this._addSvgIconConfig(e,i,new Pl(r,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,c){const d=this._sanitizer.sanitize(a.q3G.HTML,r);if(!d)throw BR(r);return this._addSvgIconConfig(e,i,new Pl("",d,c))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Pl(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const c=this._sanitizer.sanitize(a.q3G.HTML,i);if(!c)throw BR(i);return this._addSvgIconSetConfig(e,new Pl("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw l_(e);const r=this._cachedIconsByUrl.get(i);return r?(0,tt.of)(hp(r)):this._loadSvgIconFromConfig(new Pl(e,null)).pipe((0,ki.b)(c=>this._cachedIconsByUrl.set(i,c)),(0,_t.U)(c=>hp(c)))}getNamedSvgIcon(e,i=""){const r=OT(i,e);let c=this._svgIconConfigs.get(r);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(i,e),c)return this._svgIconConfigs.set(r,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):(0,vT._)(rw(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,tt.of)(hp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,_t.U)(i=>hp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,tt.of)(r):function(...n){if(1===n.length){const t=n[0];if((0,Ca.k)(t))return op(t,null);if((0,bT.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return op(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return op(n=1===n.length&&(0,Ca.k)(n[0])?n[0]:n,null).pipe((0,_t.U)(e=>t(...e)))}return op(n,null)}(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Da(p=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(w)),(0,tt.of)(null)})))).pipe((0,_t.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw rw(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const c=i[r];if(c.svgText&&c.svgText.indexOf(e)>-1){const d=this._svgElementFromConfig(c),p=this._extractSvgIconFromSet(d,e,c.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ki.b)(i=>e.svgText=i),(0,_t.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,tt.of)(null):this._fetchIcon(e).pipe((0,ki.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const c=e.querySelector(`[id="${i}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(d),this._setSvgAttributes(p,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),r=e.attributes;for(let c=0;c<r.length;c++){const{name:d,value:p}=r[c];"id"!==d&&i.setAttribute(d,p)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[c].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:c}=e,d=null!==(i=null==c?void 0:c.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const p=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!p)throw l_(r);const y=this._inProgressUrlFetches.get(p);if(y)return y;const w=this._httpClient.get(p,{responseType:"text",withCredentials:d}).pipe(cc(()=>this._inProgressUrlFetches.delete(p)),(0,AR.B)());return this._inProgressUrlFetches.set(p,w),w}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(OT(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const c=this._resolvers[r](i,e);if(c)return ow(c)?new Pl(c.url,null,c.options):new Pl(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dp,8),a.LFG(rl),a.LFG(te,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(dp,8),a.LFG(rl),a.LFG(te,8),a.LFG(a.qLn))},token:n,providedIn:"root"}),n})();function hp(n){return n.cloneNode(!0)}function OT(n,t){return n+":"+t}function ow(n){return!(!n.url||!n.options)}const aw=Uf(class{constructor(n){this._elementRef=n}}),UR=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,a.f3M)(te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),lw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],NT=lw.map(n=>`[${n}]`).join(", "),HR=/^url\(['"]?#(.*?)['"]?\)$/;let cw=(()=>{class n extends aw{constructor(e,i,r,c,d){super(e),this._iconRegistry=i,this._location=c,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Oi.w.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=on(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let c=0;c<i.length;c++)i[c].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&e.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,c)=>{r.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(NT),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<i.length;c++)lw.forEach(d=>{const p=i[c],y=p.getAttribute(d),w=y?y.match(HR):null;if(w){let T=r.get(p);T||(T=[],r.set(p,T)),T.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ts(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(c_),a.$8M("aria-hidden"),a.Y36(UR),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:RT,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bn],bn]}),n})();function uw(n){const t=[];let e={};return n.forEach(i=>{t.push(...i.golesLocalId),t.push(...i.golesVisitanteId)}),t.forEach(function(i){e[i]=(e[i]||0)+1}),e}function dw(n){const t=[];let e={};return n.forEach(i=>{t.push(...i.rojasLocalId),t.push(...i.rojasVisitanteId)}),t.forEach(function(i){e[i]=(e[i]||0)+1}),e}function u_(n){const t=[];let e={};return n.forEach(i=>{t.push(...i.amarillasLocalId),t.push(...i.amarillasVisitanteId)}),t.forEach(function(i){e[i]=(e[i]||0)+1}),e}function FT(n,t){var e;return null!==(e=t.find(i=>i.id===n))&&void 0!==e?e:t[0]}function d_(n,t){var e,i;return null!==(i=null===(e=t.find(r=>r.id===n))||void 0===e?void 0:e.nombre)&&void 0!==i?i:""}function hw(n,t,e){var i,r;return null!==(r=null===(i=t.find(c=>{var d;return c.id===(null===(d=e.find(p=>p.id===n))||void 0===d?void 0:d.equipoId)}))||void 0===i?void 0:i.nombre)&&void 0!==r?r:""}function fw(n,t,e){var i,r;return null!==(r=null===(i=t.find(c=>{var d;return c.id===(null===(d=e.find(p=>p.id===n))||void 0===d?void 0:d.equipoId)}))||void 0===i?void 0:i.imagen)&&void 0!==r?r:""}const Ud=n=>(t,e)=>n.map(i=>{let r=1;return"-"===i[0]&&(r=-1,i=i.substring(1)),t[i]>e[i]?r:t[i]<e[i]?-r:0}).reduce((i,r)=>i||r,0);function LT(n){return n.golesLocalId.length===n.golesVisitanteId.length}function VT(n){return n.golesLocalId.length>n.golesVisitanteId.length}function pw(n){return n.golesLocalId.length<n.golesVisitanteId.length}function XL(n){return 3*n.g+n.e}function eV(n){return n.gf-n.gc}function BT(n,t){var e;return null===(e=t.find(i=>i.id===n))||void 0===e?void 0:e.nombre}function GR(n,t){var e;return null===(e=t.find(i=>i.id===n))||void 0===e?void 0:e.imagen}function tV(n,t){var e;return null===(e=t.find(i=>i.id===n))||void 0===e?void 0:e.localidad}function UT(n){const t=[];return n.forEach(e=>{t.push(...e.jugadores)}),t}function gw(n){const t=[];return n.forEach(e=>{t.push(...e.partidos)}),t}let mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-loading"]],decls:3,vars:0,consts:[[1,"loading-container"],[1,"box"],["src","./assets/loading.svg",1,"loading-svg"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.qZA())},styles:[".loading-container[_ngcontent-%COMP%]{height:80%;width:100%;display:flex;justify-content:center;align-items:center;position:fixed}.loading-svg[_ngcontent-%COMP%]{width:100px;height:100px}.box[_ngcontent-%COMP%]{background-color:green;width:150px;height:150px;border:2px solid black;border-radius:20%;display:flex;justify-content:center;align-items:center}"]}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi]]}),n})();function nV(n,t){1&n&&(a.TgZ(0,"th",18),a._uU(1,"Club"),a.qZA())}function iV(n,t){if(1&n&&(a.TgZ(0,"td",19),a.TgZ(1,"div",20),a.TgZ(2,"div",21),a._uU(3),a.qZA(),a._UZ(4,"img",22),a._uU(5),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=t.index;a.xp6(3),a.Oqu(i+1),a.xp6(1),a.Q6J("src",e.equipo.imagen,a.LSH),a.xp6(1),a.hij(" ",e.equipo.nombre," ")}}function rV(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"PJ"),a.qZA())}function sV(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.pj," ")}}function oV(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"GF"),a.qZA())}function aV(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.gf," ")}}function lV(n,t){1&n&&(a.TgZ(0,"th",23),a.TgZ(1,"strong"),a._uU(2,"Pts"),a.qZA(),a.qZA())}function $R(n,t){if(1&n&&(a.TgZ(0,"td",24),a.TgZ(1,"strong"),a._uU(2),a.qZA(),a.qZA()),2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.puntos," ")}}function zR(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"G"),a.qZA())}function qR(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.g," ")}}function cV(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"E"),a.qZA())}function uV(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.e," ")}}function dV(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"P"),a.qZA())}function WR(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.p," ")}}function YR(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"GC"),a.qZA())}function ZR(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.gc," ")}}function hV(n,t){1&n&&(a.TgZ(0,"th",23),a._uU(1,"DG"),a.qZA())}function fV(n,t){if(1&n&&(a.TgZ(0,"td",24),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.dg," ")}}function pV(n,t){1&n&&a._UZ(0,"tr",25)}function gV(n,t){1&n&&a._UZ(0,"tr",26)}function KR(n,t){if(1&n&&(a.TgZ(0,"table",2),a.ynx(1,3),a.YNc(2,nV,2,0,"th",4),a.YNc(3,iV,6,3,"td",5),a.BQk(),a.ynx(4,6),a.YNc(5,rV,2,0,"th",7),a.YNc(6,sV,2,1,"td",8),a.BQk(),a.ynx(7,9),a.YNc(8,oV,2,0,"th",7),a.YNc(9,aV,2,1,"td",8),a.BQk(),a.ynx(10,10),a.YNc(11,lV,3,0,"th",7),a.YNc(12,$R,3,1,"td",8),a.BQk(),a.ynx(13,11),a.YNc(14,zR,2,0,"th",7),a.YNc(15,qR,2,1,"td",8),a.BQk(),a.ynx(16,12),a.YNc(17,cV,2,0,"th",7),a.YNc(18,uV,2,1,"td",8),a.BQk(),a.ynx(19,13),a.YNc(20,dV,2,0,"th",7),a.YNc(21,WR,2,1,"td",8),a.BQk(),a.ynx(22,14),a.YNc(23,YR,2,0,"th",7),a.YNc(24,ZR,2,1,"td",8),a.BQk(),a.ynx(25,15),a.YNc(26,hV,2,0,"th",7),a.YNc(27,fV,2,1,"td",8),a.BQk(),a.YNc(28,pV,1,0,"tr",16),a.YNc(29,gV,1,0,"tr",17),a.qZA()),2&n){const e=a.oxw();a.Q6J("dataSource",e.posiciones),a.xp6(28),a.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",e.displayedColumns)}}function mV(n,t){1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-loading"),a.qZA())}let QR=(()=>{class n{constructor(){this.torneos=[],this.loading=!0,this.posiciones=[],this.displayedColumns=["club","puntos","g","e","p","pj","gf","gc","dg"]}ngOnChanges(e){var i,r;0!==(null===(r=null===(i=null==e?void 0:e.torneos)||void 0===i?void 0:i.currentValue)||void 0===r?void 0:r.length)&&this.initialize(gw(e.torneos.currentValue[0].fechas),e.torneos.currentValue[0].equipos)}initialize(e,i){i.forEach(r=>{let c={equipo:r,e:0,g:0,p:0,gc:0,gf:0,pj:0,dg:0,puntos:0};const d=e.filter(y=>y.equipoLocalId===r.id&&!0===y.jugado),p=e.filter(y=>y.equipoVisitanteId===r.id&&!0===y.jugado);d.forEach(y=>{c=Object.assign(Object.assign({},c),{gf:c.gf+y.golesLocalId.length,gc:c.gc+y.golesVisitanteId.length,pj:c.pj+1}),LT(y)?c=Object.assign(Object.assign({},c),{e:c.e+1}):VT(y)?c=Object.assign(Object.assign({},c),{g:c.g+1}):pw(y)&&(c=Object.assign(Object.assign({},c),{p:c.p+1}))}),p.forEach(y=>{c=Object.assign(Object.assign({},c),{gf:c.gf+y.golesVisitanteId.length,gc:c.gc+y.golesLocalId.length,pj:c.pj+1}),LT(y)?c=Object.assign(Object.assign({},c),{e:c.e+1}):VT(y)?c=Object.assign(Object.assign({},c),{p:c.p+1}):pw(y)&&(c=Object.assign(Object.assign({},c),{g:c.g+1}))}),c=Object.assign(Object.assign({},c),{puntos:XL(c),dg:eV(c)}),this.posiciones=[...this.posiciones,c]}),this.posiciones.sort(Ud(["-puntos","-dg"])),this.loading=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-posiciones"]],inputs:{torneos:"torneos"},features:[a.TTD],decls:3,vars:2,consts:[["posicionesTemplate",""],[4,"ngIf","ngIfElse"],["mat-table","",1,"example-container",3,"dataSource"],["matColumnDef","club","sticky",""],["class","club-container","mat-header-cell","",4,"matHeaderCellDef"],["class","club-container","mat-cell","",4,"matCellDef"],["matColumnDef","pj"],["class","cells","mat-header-cell","",4,"matHeaderCellDef"],["class","cells","mat-cell","",4,"matCellDef"],["matColumnDef","gf"],["matColumnDef","puntos"],["matColumnDef","g"],["matColumnDef","e"],["matColumnDef","p"],["matColumnDef","gc"],["matColumnDef","dg"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"club-container"],["mat-cell","",1,"club-container"],[1,"club-content"],[1,"indice"],[1,"imagen",3,"src"],["mat-header-cell","",1,"cells"],["mat-cell","",1,"cells"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(a.YNc(0,KR,30,4,"ng-template",null,0,a.W1O),a.YNc(2,mV,2,0,"div",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngIf",i.loading)("ngIfElse",r)}},directives:[Ji,ip,Kc,xo,Od,rp,Nd,Pd,Qc,Fd,sp,mw],styles:[".example-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.club-container[_ngcontent-%COMP%]{min-width:180px}.club-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}table[_ngcontent-%COMP%]{width:800px}th.mat-column-pj[_ngcontent-%COMP%], td.mat-column-pj[_ngcontent-%COMP%], th.mat-column-g[_ngcontent-%COMP%], td.mat-column-g[_ngcontent-%COMP%], th.mat-column-e[_ngcontent-%COMP%], td.mat-column-e[_ngcontent-%COMP%], th.mat-column-p[_ngcontent-%COMP%], td.mat-column-p[_ngcontent-%COMP%], th.mat-column-puntos[_ngcontent-%COMP%], td.mat-column-puntos[_ngcontent-%COMP%], td.mat-column-gf[_ngcontent-%COMP%], th.mat-column-gf[_ngcontent-%COMP%], td.mat-column-gc[_ngcontent-%COMP%], th.mat-column-gc[_ngcontent-%COMP%], th.mat-column-dg[_ngcontent-%COMP%], td.mat-column-dg[_ngcontent-%COMP%]{padding-left:8px;text-align:center}.loading-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:fixed}.loading-svg[_ngcontent-%COMP%]{width:150px;height:150px}.imagen[_ngcontent-%COMP%]{width:30px;margin-right:5px}.indice[_ngcontent-%COMP%]{margin-right:5px}"]}),n})();const _w=[t_,Ld,Bd,Rl];let jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,_w,h_]]}),n})();const yw=new a.OlP("CdkAccordion");let vw=0,GT=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Oi.w.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+vw++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((c,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==c&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=on(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=on(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(yw,12),a.Y36(a.sBO),a.Y36(QD))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:yw,useValue:void 0}])]}),n})(),$T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const _V=["body"];function zT(n,t){}const f_=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],qT=["mat-expansion-panel-header","*","mat-action-row"];function yV(n,t){if(1&n&&a._UZ(0,"span",2),2&n){const e=a.oxw();a.Q6J("@indicatorRotate",e._getExpandedState())}}const vV=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],bV=["mat-panel-title","mat-panel-description","*"],bw=new a.OlP("MAT_ACCORDION"),XR="225ms cubic-bezier(0.4,0.0,0.2,1)",fp={indicatorRotate:ta("indicatorRotate",[Fr("collapsed, void",Ei({transform:"rotate(0deg)"})),Fr("expanded",Ei({transform:"rotate(180deg)"})),na("expanded <=> collapsed, void => collapsed",ps(XR))]),bodyExpansion:ta("bodyExpansion",[Fr("collapsed, void",Ei({height:"0px",visibility:"hidden"})),Fr("expanded",Ei({height:"*",visibility:"visible"})),na("expanded <=> collapsed, void => collapsed",ps(XR))])};let ek=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),wV=0;const tk=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let WT=(()=>{class n extends GT{constructor(e,i,r,c,d,p,y){super(e,i,r),this._viewContainerRef=c,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new at.xQ,this._headerId="mat-expansion-panel-header-"+wV++,this._bodyAnimationDone=new at.xQ,this.accordion=e,this._document=d,this._bodyAnimationDone.pipe(El((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{"void"!==w.fromState&&("expanded"===w.toState?this.afterExpand.emit():"collapsed"===w.toState&&this.afterCollapse.emit())}),y&&(this.hideToggle=y.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=on(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(ur(null),Hn(()=>this.expanded&&!this._portal),Ts(1)).subscribe(()=>{this._portal=new wd(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(bw,12),a.Y36(a.sBO),a.Y36(QD),a.Y36(a.s_b),a.Y36(te),a.Y36(Ti,8),a.Y36(tk,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,ek,5),2&e){let c;a.iGM(c=a.CRH())&&(i._lazyContent=c.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(_V,5),2&e){let r;a.iGM(r=a.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:bw,useValue:void 0}]),a.qOj,a.TTD],ngContentSelectors:qT,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(a.F$t(f_),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(c){return i._bodyAnimationDone.next(c)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,zT,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),a.uIk("aria-labelledby",i._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",i._portal))},directives:[xs],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[fp.bodyExpansion]},changeDetection:0}),n})();class CV{}const nk=ED(CV);let ik=(()=>{class n extends nk{constructor(e,i,r,c,d,p,y){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=c,this._animationMode=p,this._parentChangeSubscription=Oi.w.EMPTY;const w=e.accordion?e.accordion._stateChanges.pipe(Hn(T=>!(!T.hideToggle&&!T.togglePosition))):Or.E;this.tabIndex=parseInt(y||"")||0,this._parentChangeSubscription=(0,Gc.T)(e.opened,e.closed,w,e._inputChanges.pipe(Hn(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Hn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Do(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(WT,1),a.Y36(a.SBq),a.Y36(hs),a.Y36(a.sBO),a.Y36(tk,8),a.Y36(Ti,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._toggle()})("keydown",function(c){return i._keydown(c)}),2&e&&(a.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),a.Udp("height",i._getHeaderHeight()),a.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:bV,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(a.F$t(vV),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,yV,1,1,"span",1)),2&e&&(a.xp6(4),a.Q6J("ngIf",i._showToggle()))},directives:[Ji],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[fp.indicatorRotate]},changeDetection:0}),n})(),sk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),EV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,bn,$T,Cd]]}),n})();function ok(n,t){1&n&&(a.TgZ(0,"th",17),a._uU(1," Jugador "),a.qZA())}function pp(n,t){if(1&n&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.nombre," ")}}function ak(n,t){1&n&&(a.TgZ(0,"th",19),a._uU(1," Goles "),a.qZA())}function lk(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.goles," ")}}function ck(n,t){1&n&&(a.TgZ(0,"th",19),a._uU(1," TA "),a.qZA())}function Cw(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.ta," ")}}function uk(n,t){1&n&&(a.TgZ(0,"th",19),a._uU(1," TR "),a.qZA())}function Os(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.tr," ")}}function dk(n,t){1&n&&a._UZ(0,"tr",21)}function Ew(n,t){1&n&&a._UZ(0,"tr",22)}function hk(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-expansion-panel",3),a.NdJ("opened",function(){return a.CHM(e),a.oxw(2).panelOpenState=!0})("closed",function(){return a.CHM(e),a.oxw(2).panelOpenState=!1}),a.TgZ(1,"mat-expansion-panel-header"),a.TgZ(2,"div",4),a._UZ(3,"img",5),a.TgZ(4,"mat-panel-title"),a._uU(5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"table",6),a.ynx(7,7),a.YNc(8,ok,2,0,"th",8),a.YNc(9,pp,2,1,"td",9),a.BQk(),a.ynx(10,10),a.YNc(11,ak,2,0,"th",11),a.YNc(12,lk,2,1,"td",12),a.BQk(),a.ynx(13,13),a.YNc(14,ck,2,0,"th",11),a.YNc(15,Cw,2,1,"td",12),a.BQk(),a.ynx(16,14),a.YNc(17,uk,2,0,"th",11),a.YNc(18,Os,2,1,"td",12),a.BQk(),a.YNc(19,dk,1,0,"tr",15),a.YNc(20,Ew,1,0,"tr",16),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(2);a.xp6(3),a.Q6J("src",e.imagen,a.LSH),a.xp6(2),a.hij(" ",e.nombre," "),a.xp6(1),a.Q6J("dataSource",e.jugadores),a.xp6(13),a.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns)}}function fk(n,t){if(1&n&&a.YNc(0,hk,21,6,"mat-expansion-panel",2),2&n){const e=a.oxw();a.Q6J("ngForOf",e.clubes)}}function Dw(n,t){1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-loading"),a.qZA())}let YT=(()=>{class n{constructor(){this.torneos=[],this.clubes=[],this.loading=!0,this.panelOpenState=!1,this.displayedColumns=["jugador","goles","ta","tr"]}ngOnChanges(e){var i,r;0!==(null===(r=null===(i=null==e?void 0:e.torneos)||void 0===i?void 0:i.currentValue)||void 0===r?void 0:r.length)&&this.initialize(gw(e.torneos.currentValue[0].fechas),e.torneos.currentValue[0].equipos)}initialize(e,i){i.forEach(r=>{var c,d,p;const y=[],w=[...r.jugadores.map(T=>T.id)];for(let T=0;T<w.length;T++){let A=w[T];const k=Object.assign(Object.assign({},FT(A,r.jugadores)),{goles:null!==(c=uw(e)[A])&&void 0!==c?c:0,ta:null!==(d=u_(e)[A])&&void 0!==d?d:0,tr:null!==(p=dw(e)[A])&&void 0!==p?p:0});y.push(k),y.sort(Ud(["nombre"]))}r=Object.assign(Object.assign({},r),{jugadores:y}),this.clubes.push(r),this.clubes.sort(Ud(["nombre"])),this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-club"]],inputs:{torneos:"torneos"},features:[a.TTD],decls:3,vars:2,consts:[["clubesTemplate",""],[4,"ngIf","ngIfElse"],["class","acordeon-conteiner",3,"opened","closed",4,"ngFor","ngForOf"],[1,"acordeon-conteiner",3,"opened","closed"],[1,"club-content"],[1,"imagen",3,"src"],["mat-table","","matSort","",1,"example-container",3,"dataSource"],["matColumnDef","jugador","sticky",""],["class","club-container","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","club-container","mat-cell","",4,"matCellDef"],["matColumnDef","goles"],["class","cells","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cells","mat-cell","",4,"matCellDef"],["matColumnDef","ta"],["matColumnDef","tr"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"club-container"],["mat-cell","",1,"club-container"],["mat-header-cell","","mat-sort-header","",1,"cells"],["mat-cell","",1,"cells"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(a.YNc(0,fk,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Dw,2,0,"div",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngIf",i.loading)("ngIfElse",r)}},directives:[Ji,vn,WT,ik,sk,ip,Kc,xo,Od,rp,Nd,Pd,Qc,Fd,sp,mw],styles:[".club-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.example-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.club-container[_ngcontent-%COMP%]{min-width:150px;padding-left:0}table[_ngcontent-%COMP%]{width:800px}th.mat-column-club[_ngcontent-%COMP%], td.mat-column-club[_ngcontent-%COMP%], th.mat-column-goles[_ngcontent-%COMP%], td.mat-column-goles[_ngcontent-%COMP%], th.mat-column-ta[_ngcontent-%COMP%], td.mat-column-ta[_ngcontent-%COMP%], th.mat-column-tr[_ngcontent-%COMP%], td.mat-column-tr[_ngcontent-%COMP%]{padding-left:8px;text-align:center}.imagen[_ngcontent-%COMP%]{width:30px;margin-right:5px}.acordeon-conteiner[_ngcontent-%COMP%]{margin:10px}"]}),n})();const ZT=[Rl,EV,t_,Bd];let pk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,ZT,h_]]}),n})();const Tw=["*"],QT=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class Sw{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new JT(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class JT{constructor(t,e){this.row=t,this.col=e}}const Iw=new a.OlP("MAT_GRID_LIST");let gp=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(wr(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(wr(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Iw,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&a.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:Tw,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[QT],encapsulation:2,changeDetection:0}),n})();const mk=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class XT{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=eS(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Hd(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,c=(this._cols-1)/this._cols;this.setColStyles(t,i,r,c),this.setRowStyles(t,e,r,c)}setColStyles(t,e,i,r){let c=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(c,e)),t._setStyle("width",Hd(this.getTileSize(c,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class _k extends XT{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=eS(this.fixedRowHeight),mk.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Hd(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Hd(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class yk extends XT{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Hd(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Hd(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class vk extends XT{setRowStyles(t,e){let c=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(c,e)),t._setStyle("height",Hd(this.getTileSize(c,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Hd(n){return`calc(${n})`}function eS(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let nS=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(wr(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new vk:e&&e.indexOf(":")>-1?new yk(e):new _k(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Sw);const e=this._tileCoordinator,i=this._tiles.filter(c=>!c._gridList||c._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((c,d)=>{const p=e.positions[d];this._tileStyler.setStyle(c,p.row,p.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(An,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,gp,5),2&e){let c;a.iGM(c=a.CRH())&&(i._tiles=c)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a._Bn([{provide:Iw,useExisting:n}])],ngContentSelectors:Tw,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div"),a.Hsn(1),a.qZA())},styles:[QT],encapsulation:2,changeDetection:0}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pm,bn],Pm,bn]}),n})();const Aw=hv();class Ck{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pi(-this._previousScrollPosition.left),t.style.top=Pi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,c=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Aw&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Aw&&(i.scrollBehavior=c,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class sS{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Gd{enable(){}disable(){}attach(){}}function mp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Mw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Ek{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();mp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Dk=(()=>{class n{constructor(e,i,r,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Gd,this.close=d=>new sS(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Ck(this._viewportRuler,this._document),this.reposition=d=>new Ek(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Td),a.LFG(to),a.LFG(a.R0b),a.LFG(te))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(Td),a.LFG(to),a.LFG(a.R0b),a.LFG(te))},token:n,providedIn:"root"}),n})();class oS{constructor(t){if(this.scrollStrategy=new Gd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class AV{constructor(t,e,i,r,c){this.offsetX=i,this.offsetY=r,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class aS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let lS=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(te))},token:n,providedIn:"root"}),n})(),Sk=(()=>{class n extends lS{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let c=r.length-1;c>-1;c--)if(r[c]._keydownEvents.observers.length>0){r[c]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(te))},token:n,providedIn:"root"}),n})(),Ik=(()=>{class n extends lS{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Mc(r)},this._clickListener=r=>{const c=Mc(r),d="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const w=p[y];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(c)||w.overlayElement.contains(d))break;w._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te),a.LFG(Sn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(te),a.LFG(Sn))},token:n,providedIn:"root"}),n})(),$d=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<r.length;c++)r[c].parentNode.removeChild(r[c])}const i=this._document.createElement("div");i.classList.add(e),pv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(te),a.LFG(Sn))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(te),a.LFG(Sn))},token:n,providedIn:"root"}),n})();class xV{constructor(t,e,i,r,c,d,p,y,w){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=c,this._keyboardDispatcher=d,this._document=p,this._location=y,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new at.xQ,this._attachments=new at.xQ,this._detachments=new at.xQ,this._locationChanges=Oi.w.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new at.xQ,this._outsidePointerEvents=new at.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ts(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Pi(this._config.width),t.height=Pi(this._config.height),t.minWidth=Pi(this._config.minWidth),t.minHeight=Pi(this._config.minHeight),t.maxWidth=Pi(this._config.maxWidth),t.maxHeight=Pi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=t.classList;Ic(e).forEach(c=>{c&&(i?r.add(c):r.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Vn((0,Gc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const Ak="cdk-overlay-connected-position-bounding-box",Mk=/([A-Za-z%]+)$/;class p_{constructor(t,e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new at.xQ,this._resizeSubscription=Oi.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Ak),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,d),y=this._getOverlayPoint(p,e,d),w=this._getOverlayFit(y,e,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(w,y,i)?r.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:y,originPoint:p,position:d,overlayRect:e})}if(r.length){let d=null,p=-1;for(const y of r){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>p&&(p=w,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ak),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;i="start"==e.originX?c:d}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,c;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+c}}_getOverlayFit(t,e,i,r){const c=xw(e);let{x:d,y:p}=t,y=this._getOffset(r,"x"),w=this._getOffset(r,"y");y&&(d+=y),w&&(p+=w);let k=0-p,j=p+c.height-i.height,Z=this._subtractOverflows(c.width,0-d,d+c.width-i.width),de=this._subtractOverflows(c.height,k,j),Ee=Z*de;return{visibleArea:Ee,isCompletelyWithinViewport:c.width*c.height===Ee,fitsInViewportVertically:de===c.height,fitsInViewportHorizontally:Z==c.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,c=i.right-e.x,d=xk(this._overlayRef.getConfig().minHeight),p=xk(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=p&&p<=c;return(t.fitsInViewportVertically||null!=d&&d<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=xw(e),c=this._viewportRect,d=Math.max(t.x+r.width-c.width,0),p=Math.max(t.y+r.height-c.height,0),y=Math.max(c.top-i.top-t.y,0),w=Math.max(c.left-i.left-t.x,0);let T=0,A=0;return T=r.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-i.left-t.x:0,A=r.height<=c.height?y||-p:t.y<this._viewportMargin?c.top-i.top-t.y:0,this._previousPushAmount={x:T,y:A},{x:t.x+T,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new aS(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let c,d,p,T,A,k;if("top"===e.overlayY)d=t.y,c=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,c=i.height-p+this._viewportMargin;else{const j=Math.min(i.bottom-t.y+i.top,t.y),Z=this._lastBoundingBoxSize.height;c=2*j,d=t.y-j,c>Z&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-Z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)k=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)A=t.x,T=i.right-t.x;else{const j=Math.min(i.right-t.x+i.left,t.x),Z=this._lastBoundingBoxSize.width;T=2*j,A=t.x-j,T>Z&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-Z/2)}return{top:d,left:A,bottom:p,right:k,width:T,height:c}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Pi(i.height),r.top=Pi(i.top),r.bottom=Pi(i.bottom),r.width=Pi(i.width),r.left=Pi(i.left),r.right=Pi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(r.maxHeight=Pi(c)),d&&(r.maxWidth=Pi(d))}this._lastBoundingBoxSize=i,li(this._boundingBox.style,r)}_resetBoundingBoxStyles(){li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();li(i,this._getExactOverlayY(e,t,T)),li(i,this._getExactOverlayX(e,t,T))}else i.position="static";let p="",y=this._getOffset(e,"x"),w=this._getOffset(e,"y");y&&(p+=`translateX(${y}px) `),w&&(p+=`translateY(${w}px)`),i.transform=p.trim(),d.maxHeight&&(r?i.maxHeight=Pi(d.maxHeight):c&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Pi(d.maxWidth):c&&(i.maxWidth="")),li(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i));let d=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=d,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":r.top=Pi(c.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":r.left=Pi(c.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Mw(t,i),isOriginOutsideView:mp(t,i),isOverlayClipped:Mw(e,i),isOverlayOutsideView:mp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ic(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function li(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function xk(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Mk);return e&&"px"!==e?null:parseFloat(t)}return n||null}function xw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class cS{constructor(t,e,i,r,c,d,p){this._preferredPositions=[],this._positionStrategy=new p_(i,r,c,d,p).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,r){const c=new AV(t,e,i,r);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const uS="cdk-global-overlay-wrapper";class g_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(uS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:c,maxWidth:d,maxHeight:p}=i,y=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=y?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,y?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(uS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Rk=(()=>{class n{constructor(e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c}global(){return new g_}connectedTo(e,i,r){return new cS(i,r,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new p_(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(to),a.LFG(te),a.LFG(Sn),a.LFG($d))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(to),a.LFG(te),a.LFG(Sn),a.LFG($d))},token:n,providedIn:"root"}),n})(),kk=0,Xc=(()=>{class n{constructor(e,i,r,c,d,p,y,w,T,A,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=p,this._ngZone=y,this._document=w,this._directionality=T,this._location=A,this._outsideClickDispatcher=k}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),c=this._createPortalOutlet(r),d=new oS(e);return d.direction=d.direction||this._directionality.value,new xV(c,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kk++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new UD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Dk),a.LFG($d),a.LFG(a._Vd),a.LFG(Rk),a.LFG(Sk),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(te),a.LFG(An),a.LFG(wn),a.LFG(Ik))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const m_={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Xc],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Pk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Xc,m_],imports:[[Tl,Cd,Ib],Ib]}),n})();function pS(n,t){}class qi{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const RV={dialogContainer:ta("dialogContainer",[Fr("void, exit",Ei({opacity:0,transform:"scale(0.7)"})),Fr("enter",Ei({transform:"none"})),na("* => enter",ps("150ms cubic-bezier(0, 0, 0.2, 1)",Ei({transform:"none",opacity:1}))),na("* => void, * => exit",ps("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ei({opacity:0})))])};let Nk=(()=>{class n extends yb{constructor(e,i,r,c,d,p){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=d,this._focusMonitor=p,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(y)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=im(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=im())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=im();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(wf),a.Y36(a.sBO),a.Y36(te,8),a.Y36(qi),a.Y36(hs))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(xs,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),OV=(()=>{class n extends Nk{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(c){return i._onAnimationStart(c)})("@dialogContainer.done",function(c){return i._onAnimationDone(c)}),2&e&&(a.Ikx("id",i._id),a.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,pS,0,0,"ng-template",0)},directives:[xs],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[RV.dialogContainer]}}),n})(),__=0;class kw{constructor(t,e,i="mat-dialog-"+__++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new at.xQ,this._afterClosed=new at.xQ,this._beforeClosed=new at.xQ,this._state=0,e._id=i,e._animationStateChanged.pipe(Hn(r=>"opened"===r.state),Ts(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Hn(r=>"closed"===r.state),Ts(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Hn(r=>27===r.keyCode&&!this.disableClose&&!Do(r))).subscribe(r=>{r.preventDefault(),gS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():gS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Hn(e=>"closing"===e.state),Ts(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function gS(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Fk=new a.OlP("MatDialogData"),PV=new a.OlP("mat-dialog-default-options"),mS=new a.OlP("mat-dialog-scroll-strategy"),Vk={provide:mS,deps:[Xc],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Bk=(()=>{class n{constructor(e,i,r,c,d,p,y,w,T){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=c,this._overlayContainer=d,this._dialogRefConstructor=y,this._dialogContainerType=w,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new at.xQ,this._afterOpenedAtThisLevel=new at.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=go(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ur(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new qi)).id&&this.getDialogById(i.id);const r=this._createOverlay(i),c=this._attachDialogContainer(r,i),d=this._attachDialogContent(e,c,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),c._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new oS({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const c=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:qi,useValue:i}]}),d=new Gf(this._dialogContainerType,i.viewContainerRef,c,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,c){const d=new this._dialogRefConstructor(r,i,c.id);if(e instanceof a.Rgc)i.attachTemplatePortal(new wd(e,null,{$implicit:c.data,dialogRef:d}));else{const p=this._createInjector(c,d,i),y=i.attachComponentPortal(new Gf(e,c.viewContainerRef,p));d.componentInstance=y.instance}return d.updateSize(c.width,c.height).updatePosition(c.position),d}_createInjector(e,i,r){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!c||!c.get(An,null,a.XFs.Optional))&&d.push({provide:An,useValue:{value:e.direction,change:(0,tt.of)()}}),a.zs3.create({parent:c||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,c)=>{r?c.setAttribute("aria-hidden",r):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let c=i[r];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Xc),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36($d),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},n.\u0275dir=a.lG2({type:n}),n})(),y_=(()=>{class n extends Bk{constructor(e,i,r,c,d,p,y){super(e,i,c,p,y,d,kw,OV,Fk)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xc),a.LFG(a.zs3),a.LFG(wn,8),a.LFG(PV,8),a.LFG(mS),a.LFG(n,12),a.LFG($d))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[y_,Vk],imports:[[Pk,Cd,bn],bn]}),n})();const Ni=new a.OlP("NgValueAccessor"),dO=["*"],hO='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',$G=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],zG=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],qG=["text"];function WG(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",5),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const YG=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],ZG=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],a2=sa(Bc(class{})),KG=Bc(class{}),l2=new a.OlP("MatList"),c2=new a.OlP("MatNavList");let QG=(()=>{class n extends a2{constructor(e){super(),this._elementRef=e,this._stateChanges=new at.xQ,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[a._Bn([{provide:l2,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:dO,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[hO],encapsulation:2,changeDetection:0}),n})(),u2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),JG=(()=>{class n extends KG{constructor(e,i,r,c){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new at.xQ,this._disabled=!1,this._isInteractiveList=!!(r||c&&"action-list"===c._getListType()),this._list=r||c;const d=this._getHostElement();"button"===d.nodeName.toLowerCase()&&!d.hasAttribute("type")&&d.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Vn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=on(e)}ngAfterContentInit(){db(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(c2,8),a.Y36(l2,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,u2,5),a.Suo(r,d2,5),a.Suo(r,ub,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._avatar=c.first),a.iGM(c=a.CRH())&&(i._icon=c.first),a.iGM(c=a.CRH())&&(i._lines=c)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:zG,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(a.F$t($G),a.TgZ(0,"div",0),a._UZ(1,"div",1),a.Hsn(2),a.TgZ(3,"div",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[oa],encapsulation:2,changeDetection:0}),n})();const XG=Bc(class{}),e$=Bc(class{}),t$={provide:Ni,useExisting:(0,a.Gpc)(()=>fO),multi:!0};class n${constructor(t,e,i){this.source=t,this.option=e,this.options=i}}let h2=(()=>{class n extends e${constructor(e,i,r){super(),this._element=e,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new a.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&!this.selectionList.compareWith(e,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=e}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(e){const i=on(e);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(e){const i=on(e);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const e=this.selectionList;e._value&&e._value.some(r=>e.compareWith(r,this._value))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){db(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const e=this._hasFocus,i=this.selectionList._removeOptionFromList(this);e&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>fO)))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,u2,5),a.Suo(r,d2,5),a.Suo(r,ub,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._avatar=c.first),a.iGM(c=a.CRH())&&(i._icon=c.first),a.iGM(c=a.CRH())&&(i._lines=c)}},viewQuery:function(e,i){if(1&e&&a.Gf(qG,5),2&e){let r;a.iGM(r=a.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&e&&(a.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[a.qOj],ngContentSelectors:ZG,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(e,i){1&e&&(a.F$t(YG),a.TgZ(0,"div",0),a._UZ(1,"div",1),a.YNc(2,WG,1,2,"mat-pseudo-checkbox",2),a.TgZ(3,"div",3,4),a.Hsn(5),a.qZA(),a.Hsn(6,1),a.qZA()),2&e&&(a.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),a.xp6(1),a.Q6J("ngIf",i.selectionList.multiple))},directives:[oa,Ji,fb],encapsulation:2,changeDetection:0}),n})(),fO=(()=>{class n extends XG{constructor(e,i,r,c){super(),this._element=e,this._changeDetector=r,this._focusMonitor=c,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new a.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(d,p)=>d===p,this._disabled=!1,this.selectedOptions=new Yx(this._multiple),this._tabIndex=-1,this._onChange=d=>{},this._destroyed=new at.xQ,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=on(e),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(e){const i=on(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new Yx(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var e;this._contentInitialized=!0,this._keyManager=new bf(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Vn(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(ur(null),Vn(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Vn(this._destroyed)).subscribe(i=>{if(i.added)for(let r of i.added)r.selected=!0;if(i.removed)for(let r of i.removed)r.selected=!1}),null===(e=this._focusMonitor)||void 0===e||e.monitor(this._element).pipe(Vn(this._destroyed)).subscribe(i=>{var r;if("keyboard"===i||"program"===i){let c=0;for(let d=0;d<this.options.length;d++)if(null===(r=this.options.get(d))||void 0===r?void 0:r.selected){c=d;break}this._keyManager.setActiveItem(c)}})}ngOnChanges(e){const i=e.disableRipple,r=e.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var e;null===(e=this._focusMonitor)||void 0===e||e.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(e){this._keyManager.updateActiveItem(e)}_removeOptionFromList(e){const i=this._getOptionIndex(e);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(e){const i=e.keyCode,r=this._keyManager,c=r.activeItemIndex,d=Do(e);switch(i){case 32:case 13:!d&&!r.isTyping()&&(this._toggleFocusedOption(),e.preventDefault());break;default:if(65===i&&this.multiple&&Do(e,"ctrlKey")&&!r.isTyping()){const p=this.options.some(y=>!y.disabled&&!y.selected);this._setAllOptionsSelected(p,!0,!0),e.preventDefault()}else r.onKeydown(e)}this.multiple&&(38===i||40===i)&&e.shiftKey&&r.activeItemIndex!==c&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new n$(this,e[0],e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(c=>!c.selected&&this.compareWith(c.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_toggleFocusedOption(){let e=this._keyManager.activeItemIndex;if(null!=e&&this._isValidIndex(e)){let i=this.options.toArray()[e];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(e,i,r){const c=[];return this.options.forEach(d=>{(!i||!d.disabled)&&d._setSelected(e)&&c.push(d)}),c.length&&(this._reportValueChange(),r&&this._emitChangeEvent(c)),c}_isValidIndex(e){return e>=0&&e<this.options.length}_getOptionIndex(e){return this.options.toArray().indexOf(e)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.$8M("tabindex"),a.Y36(a.sBO),a.Y36(hs))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,h2,5),2&e){let c;a.iGM(c=a.CRH())&&(i.options=c)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(c){return i._keydown(c)}),2&e&&a.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[a._Bn([t$]),a.qOj,a.TTD],ngContentSelectors:dO,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[hO],encapsulation:2,changeDetection:0}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pm,bd,bn,pb,fi],Pm,bn,pb,Ld]}),n})();function i$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a.TgZ(2,"mat-icon",11),a._uU(3,"sports_soccer"),a.qZA(),a._uU(4),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(4),a.hij("",i.getJugadorName(e)," ")}}function r$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a._UZ(2,"div",12),a._uU(3),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.hij(" ",i.getJugadorName(e)," ")}}function s$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a._UZ(2,"div",13),a._uU(3),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.hij(" ",i.getJugadorName(e),"")}}function o$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a.TgZ(2,"mat-icon",11),a._uU(3,"sports_soccer"),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.qZA(),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(5),a.hij(" ",i.getJugadorName(e)," ")}}function a$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a._UZ(2,"div",12),a._uU(3),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.hij(" ",i.getJugadorName(e)," ")}}function l$(n,t){if(1&n&&(a.TgZ(0,"mat-list"),a.TgZ(1,"mat-list-item"),a._UZ(2,"div",13),a._uU(3),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.hij(" ",i.getJugadorName(e),"")}}let c$=(()=>{class n{constructor(e){this.data=e}getResultadoPartido(e,i){return`${e.length} - ${i.length}`}getJugadorName(e){return d_(e,this.data.jugadores)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fk))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-detalle-partido"]],decls:27,vars:19,consts:[[1,"mat-elevation-z0","card-container"],["cols","12"],[3,"colspan"],[1,"imagen-container"],[1,"imagen",3,"src"],[1,"mat-display-1"],[1,"subtitle"],[1,"card-content-container"],[1,"mitad-container"],[4,"ngFor","ngForOf"],[3,"vertical"],[1,"icono"],[1,"yellow-card"],[1,"red-card"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-card-content"),a.TgZ(2,"mat-grid-list",1),a.TgZ(3,"mat-grid-tile",2),a.TgZ(4,"div",3),a._UZ(5,"img",4),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"mat-grid-tile",2),a.TgZ(8,"h1"),a.TgZ(9,"strong",5),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"mat-grid-tile",2),a.TgZ(12,"div",3),a._UZ(13,"img",4),a._uU(14),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"mat-card-subtitle",6),a._uU(16),a.qZA(),a.TgZ(17,"mat-card-content",7),a.TgZ(18,"div",8),a.YNc(19,i$,5,1,"mat-list",9),a.YNc(20,r$,4,1,"mat-list",9),a.YNc(21,s$,4,1,"mat-list",9),a.qZA(),a._UZ(22,"mat-divider",10),a.TgZ(23,"div",8),a.YNc(24,o$,6,1,"mat-list",9),a.YNc(25,a$,4,1,"mat-list",9),a.YNc(26,l$,4,1,"mat-list",9),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("colspan",4),a.xp6(2),a.Q6J("src",i.data.partido.imagenLocal,a.LSH),a.xp6(1),a.hij(" ",i.data.partido.nombreLocal," "),a.xp6(1),a.Q6J("colspan",4),a.xp6(3),a.hij(" ",i.getResultadoPartido(i.data.partido.golesLocalId,i.data.partido.golesVisitanteId)," "),a.xp6(1),a.Q6J("colspan",4),a.xp6(2),a.Q6J("src",i.data.partido.imagenVisitante,a.LSH),a.xp6(1),a.hij(" ",i.data.partido.nombreVisitante," "),a.xp6(2),a.HOy(" Fecha ",i.data.fecha.id," | ",i.data.fecha.canchaLocalidad," | ",i.data.fecha.fecha," | ",i.data.partido.horario," "),a.xp6(3),a.Q6J("ngForOf",i.data.partido.golesLocalId),a.xp6(1),a.Q6J("ngForOf",i.data.partido.amarillasLocalId),a.xp6(1),a.Q6J("ngForOf",i.data.partido.rojasLocalId),a.xp6(1),a.Q6J("vertical",!0),a.xp6(2),a.Q6J("ngForOf",i.data.partido.golesVisitanteId),a.xp6(1),a.Q6J("ngForOf",i.data.partido.amarillasVisitanteId),a.xp6(1),a.Q6J("ngForOf",i.data.partido.rojasVisitanteId))},directives:[Cr,hR,nS,gp,Nt,vn,Kb,QG,JG,cw],styles:["mat-grid-tile[_ngcontent-%COMP%]{height:150px;text-align:center;display:flex;flex-direction:column}mat-grid-list[_ngcontent-%COMP%]{height:150px;flex-direction:column;display:flex}mat-list-item[_ngcontent-%COMP%]{padding:0}.yellow-card[_ngcontent-%COMP%]{min-height:22px;min-width:15px;border:1px solid;border-radius:5px;background-color:#ff0;margin-right:5px}.red-card[_ngcontent-%COMP%]{min-height:22px;min-width:15px;border-radius:5px;border:1px solid;background-color:red;margin-right:5px}.card-container[_ngcontent-%COMP%]{max-height:500px;padding:0;margin:0}.imagen[_ngcontent-%COMP%]{width:100%}.imagen-container[_ngcontent-%COMP%]{flex-direction:column;display:flex}.subtitle[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center}.card-content-container[_ngcontent-%COMP%]{width:100%;display:flex}.mitad-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}.icono[_ngcontent-%COMP%]{margin-right:5px}"]}),n})();function u$(n,t){if(1&n&&a._uU(0),2&n){const e=a.oxw().$implicit;a.hij(" Fecha ",e.id," ")}}function d$(n,t){if(1&n&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit,i=a.oxw(3);a.xp6(1),a.Oqu(i.getResultadoPartido(e.golesLocalId,e.golesVisitanteId))}}function h$(n,t){if(1&n&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.Oqu(e.horario)}}function f$(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-grid-list",7),a.NdJ("click",function(){const c=a.CHM(e).$implicit,d=a.oxw().$implicit;return a.oxw(2).partidoSeleccionado(c,d)}),a.TgZ(1,"mat-grid-tile",8),a._UZ(2,"img",9),a.qZA(),a.TgZ(3,"mat-grid-tile",8),a._uU(4),a.qZA(),a.TgZ(5,"mat-grid-tile",8),a.YNc(6,d$,2,1,"strong",1),a.YNc(7,h$,2,1,"ng-template",null,10,a.W1O),a.qZA(),a.TgZ(9,"mat-grid-tile",8),a._uU(10),a.qZA(),a.TgZ(11,"mat-grid-tile",8),a._UZ(12,"img",9),a.qZA(),a._UZ(13,"mat-divider"),a.qZA()}if(2&n){const e=t.$implicit,i=a.MAs(8);a.xp6(1),a.Q6J("colspan",1),a.xp6(1),a.Q6J("src",e.imagenLocal,a.LSH),a.xp6(1),a.Q6J("colspan",4),a.xp6(1),a.hij(" ",e.nombreLocal,""),a.xp6(1),a.Q6J("colspan",2),a.xp6(1),a.Q6J("ngIf",e.jugado)("ngIfElse",i),a.xp6(3),a.Q6J("colspan",4),a.xp6(1),a.hij(" ",e.nombreVisitante,""),a.xp6(1),a.Q6J("colspan",1),a.xp6(1),a.Q6J("src",e.imagenVisitante,a.LSH)}}function p$(n,t){if(1&n&&(a.TgZ(0,"mat-tab"),a.YNc(1,u$,1,1,"ng-template",4),a.TgZ(2,"mat-card",5),a.TgZ(3,"mat-card-title"),a._uU(4),a.qZA(),a.TgZ(5,"mat-card-subtitle"),a.TgZ(6,"strong"),a._uU(7),a.qZA(),a._uU(8),a.qZA(),a.TgZ(9,"mat-card-content"),a.YNc(10,f$,14,11,"mat-grid-list",6),a.qZA(),a.qZA(),a.qZA()),2&n){const e=t.$implicit;a.xp6(4),a.hij("Fecha ",e.id," "),a.xp6(3),a.Oqu(e.fecha),a.xp6(1),a.AsE(" | ",e.clubOrganizadorNombre," | ",e.canchaLocalidad," "),a.xp6(2),a.Q6J("ngForOf",e.partidos)}}function g$(n,t){if(1&n&&(a.TgZ(0,"mat-tab-group",2),a.YNc(1,p$,11,5,"mat-tab",3),a.qZA()),2&n){const e=a.oxw();a.Q6J("selectedIndex",e.fechaActualId),a.xp6(1),a.Q6J("ngForOf",e.fixture)}}function m$(n,t){1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-loading"),a.qZA())}let _$=(()=>{class n{constructor(e){this.dialog=e,this.torneos=[],this.loading=!0,this.fechaActualId=0,this.fixture=[]}ngOnChanges(e){var i;0!==(null===(i=e.torneos)||void 0===i?void 0:i.currentValue.length)&&this.initialize(e.torneos.currentValue[0].equipos,e.torneos.currentValue[0].canchas,e.torneos.currentValue[0].fechas)}initialize(e,i,r){var c,d;this.fixture=r.map(p=>{var y,w;return{id:parseInt(p.id),fecha:p.fecha,jugada:p.jugada,partidos:p.partidos.map(T=>{var A,k,j,Z;return Object.assign(Object.assign({},T),{imagenLocal:null!==(A=GR(T.equipoLocalId,e))&&void 0!==A?A:"",imagenVisitante:null!==(k=GR(T.equipoVisitanteId,e))&&void 0!==k?k:"",nombreLocal:null!==(j=BT(T.equipoLocalId,e))&&void 0!==j?j:"",nombreVisitante:null!==(Z=BT(T.equipoVisitanteId,e))&&void 0!==Z?Z:""})}),canchaLocalidad:null!==(y=tV(p.canchaId,i))&&void 0!==y?y:"",clubOrganizadorNombre:null!==(w=BT(p.equipoOrganizadorId,e))&&void 0!==w?w:""}}),this.fixture.sort(Ud(["id"])),this.fechaActualId=null!==(d=Number(null===(c=this.fixture.find(p=>!1===p.jugada))||void 0===c?void 0:c.id)-1)&&void 0!==d?d:1,this.loading=!1}getResultadoPartido(e,i){return`${e.length} - ${i.length}`}partidoSeleccionado(e,i){e.jugado&&this.dialog.open(c$,{panelClass:"custom-dialog-container",data:{partido:e,jugadores:UT(this.torneos[0].equipos),fecha:i}})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(y_))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-fixture"]],inputs:{torneos:"torneos"},features:[a.TTD],decls:3,vars:2,consts:[["fixtureTemplate",""],[4,"ngIf","ngIfElse"],["mat-align-tabs","center",1,"tabs-group-content",3,"selectedIndex"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"card-container"],["cols","12","matRipple","",3,"click",4,"ngFor","ngForOf"],["cols","12","matRipple","",3,"click"],[3,"colspan"],[1,"imagen",3,"src"],["horario",""]],template:function(e,i){if(1&e&&(a.YNc(0,g$,2,2,"ng-template",null,0,a.W1O),a.YNc(2,m$,2,0,"div",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngIf",i.loading)("ngIfElse",r)}},directives:[Ji,Rb,vn,Hm,jm,Cr,DL,Nt,hR,nS,oa,gp,Kb,mw],styles:["mat-grid-tile[_ngcontent-%COMP%]{height:60px;text-align:center}mat-grid-list[_ngcontent-%COMP%]{height:60px}.tabs-group-content[_ngcontent-%COMP%]{height:100%}.card-container[_ngcontent-%COMP%]{margin-bottom:5px}.imagen[_ngcontent-%COMP%]{width:100%}"]}),n})();const y$=[Rl,Bd,Ld,iS,zm,Hk,bd];let v$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,y$,h_]]}),n})();function b$(n,t){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Jugador"),a.qZA())}function w$(n,t){if(1&n&&(a.TgZ(0,"td",12),a.TgZ(1,"div",13),a.TgZ(2,"div",14),a._uU(3),a.qZA(),a._UZ(4,"img",15),a._uU(5),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=t.index;a.xp6(3),a.Oqu(i+1),a.xp6(1),a.Q6J("src",e.imagen,a.LSH),a.xp6(1),a.hij(" ",e.jugador," ")}}function C$(n,t){1&n&&(a.TgZ(0,"th",16),a._uU(1,"Goles"),a.qZA())}function E$(n,t){if(1&n&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.goles," ")}}function D$(n,t){1&n&&a._UZ(0,"tr",18)}function T$(n,t){1&n&&a._UZ(0,"tr",19)}function S$(n,t){if(1&n&&(a.TgZ(0,"table",2),a.ynx(1,3),a.YNc(2,b$,2,0,"th",4),a.YNc(3,w$,6,3,"td",5),a.BQk(),a.ynx(4,6),a.YNc(5,C$,2,0,"th",7),a.YNc(6,E$,2,1,"td",8),a.BQk(),a.YNc(7,D$,1,0,"tr",9),a.YNc(8,T$,1,0,"tr",10),a.qZA()),2&n){const e=a.oxw();a.Q6J("dataSource",e.goleadores),a.xp6(7),a.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",e.displayedColumns)}}function I$(n,t){1&n&&(a.TgZ(0,"div",20),a._UZ(1,"img",21),a.qZA())}let A$=(()=>{class n{constructor(){this.torneos=[],this.goleadores=[],this.loading=!0,this.displayedColumns=["jugador","goles"]}ngOnChanges(e){var i,r;0!==(null===(r=null===(i=null==e?void 0:e.torneos)||void 0===i?void 0:i.currentValue)||void 0===r?void 0:r.length)&&this.initialize(gw(e.torneos.currentValue[0].fechas),e.torneos.currentValue[0].equipos,UT(e.torneos.currentValue[0].equipos))}initialize(e,i,r){const c=Object.keys(uw(e));let d={club:"",jugador:"",imagen:"",goles:0};c.forEach((p,y)=>{let w=c[y];d={jugador:d_(w,r),club:hw(w,i,r),imagen:fw(w,i,r),goles:uw(e)[w]},this.goleadores=[...this.goleadores,d]}),this.goleadores.sort(Ud(["-goles"])),this.loading=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-goleadores"]],inputs:{torneos:"torneos"},features:[a.TTD],decls:3,vars:2,consts:[["goleadorTemplate",""],["class","loading-container",4,"ngIf","ngIfElse"],["mat-table","",1,"example-container",3,"dataSource"],["matColumnDef","jugador","sticky",""],["class","club-container","mat-header-cell","",4,"matHeaderCellDef"],["class","club-container","mat-cell","",4,"matCellDef"],["matColumnDef","goles"],["class","cells","mat-header-cell","",4,"matHeaderCellDef"],["class","cells","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"club-container"],["mat-cell","",1,"club-container"],[1,"jugador-content"],[1,"indice"],[1,"imagen",3,"src"],["mat-header-cell","",1,"cells"],["mat-cell","",1,"cells"],["mat-header-row",""],["mat-row",""],[1,"loading-container"],["src","./assets/loading.svg",1,"loading-svg"]],template:function(e,i){if(1&e&&(a.YNc(0,S$,9,4,"ng-template",null,0,a.W1O),a.YNc(2,I$,2,0,"div",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngIf",i.loading)("ngIfElse",r)}},directives:[Ji,ip,Kc,xo,Od,rp,Nd,Pd,Qc,Fd,sp],styles:[".example-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.club-container[_ngcontent-%COMP%]{min-width:150px;padding-left:0}table[_ngcontent-%COMP%]{width:800px}.jugador-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}th.mat-column-club[_ngcontent-%COMP%], td.mat-column-club[_ngcontent-%COMP%], th.mat-column-goles[_ngcontent-%COMP%], td.mat-column-goles[_ngcontent-%COMP%]{padding-left:8px;text-align:center}.imagen[_ngcontent-%COMP%]{width:30px;margin-right:5px}.indice[_ngcontent-%COMP%]{margin-right:5px}"]}),n})();const M$=[t_];let x$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,M$,h_]]}),n})();function R$(n,t){1&n&&(a.TgZ(0,"th",12),a._uU(1,"Jugador"),a.qZA())}function k$(n,t){if(1&n&&(a.TgZ(0,"td",13),a.TgZ(1,"div",14),a.TgZ(2,"div",15),a._uU(3),a.qZA(),a._UZ(4,"img",16),a._uU(5),a.qZA(),a.qZA()),2&n){const e=t.$implicit,i=t.index;a.xp6(3),a.Oqu(i+1),a.xp6(1),a.Q6J("src",e.imagen,a.LSH),a.xp6(1),a.hij(" ",e.jugador," ")}}function O$(n,t){1&n&&(a.TgZ(0,"th",17),a._uU(1,"TA"),a.qZA())}function P$(n,t){if(1&n&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.ta," ")}}function N$(n,t){1&n&&(a.TgZ(0,"th",17),a._uU(1,"TR"),a.qZA())}function F$(n,t){if(1&n&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.tr," ")}}function L$(n,t){1&n&&a._UZ(0,"tr",19)}function V$(n,t){1&n&&a._UZ(0,"tr",20)}function B$(n,t){if(1&n&&(a.TgZ(0,"table",2),a.ynx(1,3),a.YNc(2,R$,2,0,"th",4),a.YNc(3,k$,6,3,"td",5),a.BQk(),a.ynx(4,6),a.YNc(5,O$,2,0,"th",7),a.YNc(6,P$,2,1,"td",8),a.BQk(),a.ynx(7,9),a.YNc(8,N$,2,0,"th",7),a.YNc(9,F$,2,1,"td",8),a.BQk(),a.YNc(10,L$,1,0,"tr",10),a.YNc(11,V$,1,0,"tr",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("dataSource",e.tarjetas),a.xp6(10),a.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",e.displayedColumns)}}function U$(n,t){1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-loading"),a.qZA())}let j$=(()=>{class n{constructor(){this.torneos=[],this.tarjetas=[],this.loading=!0,this.displayedColumns=["jugador","ta","tr"]}ngOnChanges(e){var i,r;0!==(null===(r=null===(i=null==e?void 0:e.torneos)||void 0===i?void 0:i.currentValue)||void 0===r?void 0:r.length)&&this.initialize(gw(e.torneos.currentValue[0].fechas),e.torneos.currentValue[0].equipos,UT(e.torneos.currentValue[0].equipos))}initialize(e,i,r){const c=[...new Set([...Object.keys(dw(e)),...Object.keys(u_(e))])];c.forEach((d,p)=>{var y,w;let T=c[p];const A={jugador:d_(T,r),club:hw(T,i,r),imagen:fw(T,i,r),ta:null!==(y=u_(e)[T])&&void 0!==y?y:0,tr:null!==(w=dw(e)[T])&&void 0!==w?w:0};this.tarjetas=[...this.tarjetas,A]}),this.tarjetas.sort(Ud(["-tr","-ta"])),this.loading=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tarjetas"]],inputs:{torneos:"torneos"},features:[a.TTD],decls:3,vars:2,consts:[["tarjetasTemplate",""],[4,"ngIf","ngIfElse"],["mat-table","",1,"example-container",3,"dataSource"],["matColumnDef","jugador","sticky",""],["class","club-container","mat-header-cell","",4,"matHeaderCellDef"],["class","club-container","mat-cell","",4,"matCellDef"],["matColumnDef","ta"],["class","cells","mat-header-cell","",4,"matHeaderCellDef"],["class","cells","mat-cell","",4,"matCellDef"],["matColumnDef","tr"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"club-container"],["mat-cell","",1,"club-container"],[1,"jugador-content"],[1,"indice"],[1,"imagen",3,"src"],["mat-header-cell","",1,"cells"],["mat-cell","",1,"cells"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(a.YNc(0,B$,12,4,"ng-template",null,0,a.W1O),a.YNc(2,U$,2,0,"div",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngIf",i.loading)("ngIfElse",r)}},directives:[Ji,ip,Kc,xo,Od,rp,Nd,Pd,Qc,Fd,sp,mw],styles:[".example-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.club-container[_ngcontent-%COMP%]{min-width:150px;padding-left:0}table[_ngcontent-%COMP%]{width:800px}.jugador-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}td.mat-column-star[_ngcontent-%COMP%]{width:20px;padding-right:8px}th.mat-column-club[_ngcontent-%COMP%], td.mat-column-club[_ngcontent-%COMP%], th.mat-column-ta[_ngcontent-%COMP%], td.mat-column-ta[_ngcontent-%COMP%], th.mat-column-tr[_ngcontent-%COMP%], td.mat-column-tr[_ngcontent-%COMP%]{padding-left:8px;text-align:center}.imagen[_ngcontent-%COMP%]{width:30px;margin-right:5px}.indice[_ngcontent-%COMP%]{margin-right:5px}"]}),n})();const H$=[t_];let G$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,H$,h_]]}),n})();function $$(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}function z$(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",3)),2&n){const e=a.oxw();a.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),a.uIk("r",e._getCircleRadius())}}const Z$=Uf(class{constructor(n){this._elementRef=n}},"primary"),g2=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class au extends Z${constructor(t,e,i,r,c){super(t),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const d=au._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),d.has(i.head)||d.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!c&&!c._forceAnimations,c&&(c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=wr(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=wr(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,wr(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=nE(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=au._diameters;let r=i.get(t);if(!r||!r.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),t.appendChild(c),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}au.\u0275fac=function(t){return new(t||au)(a.Y36(a.SBq),a.Y36(Sn),a.Y36(te,8),a.Y36(Ti,8),a.Y36(g2))},au.\u0275cmp=a.Xpm({type:au,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(a.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",0),a.YNc(1,$$,1,9,"circle",1),a.YNc(2,z$,1,7,"circle",2),a.qZA()),2&t&&(a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===e.mode),a.uIk("viewBox",e._getViewBox()),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[yr,ri],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),au._diameters=new WeakMap;var lt,Qn=P(4866),ja=P(8939),X$=(P(4828),P(3394)),Ie=P(8239),Ap=P(8026),BS=P(3910),Jd=P(5422),gn=P(3854),e6="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lu={},gO=gO||{},qt=e6||self;function US(){}function mO(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var _O="closure_uid_"+(1e9*Math.random()>>>0),n6=0;function i6(n,t,e){return n.call.apply(n.bind,arguments)}function r6(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ns(n,t,e){return(ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i6:r6).apply(null,arguments)}function jS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function is(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,c){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return t.prototype[r].apply(i,d)}}function Xd(){this.s=this.s,this.o=this.o}var o6={};Xd.prototype.s=!1,Xd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,_O)&&n[_O]||(n[_O]=++n6)}(this);delete o6[n]}},Xd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const m2=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},_2=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let c=0;c<i;c++)c in r&&t.call(e,r[c],c,n)};function y2(n){return Array.prototype.concat.apply([],arguments)}function yO(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function HS(n){return/^[\s\xa0]*$/.test(n)}var Ns,v2=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ps(n,t){return-1!=n.indexOf(t)}function vO(n,t){return n<t?-1:n>t?1:0}e:{var b2=qt.navigator;if(b2){var w2=b2.userAgent;if(w2){Ns=w2;break e}}Ns=""}function bO(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function C2(n){const t={};for(const e in n)t[e]=n[e];return t}var E2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D2(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let c=0;c<E2.length;c++)e=E2[c],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function wO(n){return wO[" "](n),n}wO[" "]=US;var GS,n,c6=Ps(Ns,"Opera"),k_=Ps(Ns,"Trident")||Ps(Ns,"MSIE"),T2=Ps(Ns,"Edge"),CO=T2||k_,S2=Ps(Ns,"Gecko")&&!(Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge"))&&!(Ps(Ns,"Trident")||Ps(Ns,"MSIE"))&&!Ps(Ns,"Edge"),u6=Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge");function I2(){var n=qt.document;return n?n.documentMode:void 0}e:{var EO="",DO=(n=Ns,S2?/rv:([^\);]+)(\)|;)/.exec(n):T2?/Edge\/([\d\.]+)/.exec(n):k_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):u6?/WebKit\/(\S+)/.exec(n):c6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DO&&(EO=DO?DO[1]:""),k_){var TO=I2();if(null!=TO&&TO>parseFloat(EO)){GS=String(TO);break e}}GS=EO}var d6={};function h6(){return t=d6,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=v2(String(GS)).split("."),e=v2("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",c=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==r[0].length&&0==c[0].length)break;n=vO(0==r[1].length?0:parseInt(r[1],10),0==c[1].length?0:parseInt(c[1],10))||vO(0==r[2].length,0==c[2].length)||vO(r[2],c[2]),r=r[3],c=c[3]}while(0==n)}return 0<=n}();var t}var f6=qt.document&&k_&&(I2()||parseInt(GS,10))||void 0,p6=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",US,t),qt.removeEventListener("test",US,t)}catch(e){}return n}();function _s(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function qw(n,t){if(_s.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(S2){e:{try{wO(t.nodeName);var r=!0;break e}catch(c){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:g6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qw.Z.h.call(this)}}_s.prototype.h=function(){this.defaultPrevented=!0},is(qw,_s);var g6={2:"touch",3:"pen",4:"mouse"};qw.prototype.h=function(){qw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ww="closure_listenable_"+(1e6*Math.random()|0),m6=0;function _6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++m6,this.ca=this.fa=!1}function $S(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function zS(n){this.src=n,this.g={},this.h=0}function IO(n,t){var e=t.type;if(e in n.g){var c,i=n.g[e],r=m2(i,t);(c=0<=r)&&Array.prototype.splice.call(i,r,1),c&&($S(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function AO(n,t,e,i){for(var r=0;r<n.length;++r){var c=n[r];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==i)return r}return-1}zS.prototype.add=function(n,t,e,i,r){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=AO(n,t,i,r);return-1<d?(t=n[d],e||(t.fa=!1)):((t=new _6(t,this.src,c,!!i,r)).fa=e,n.push(t)),t};var MO="closure_lm_"+(1e6*Math.random()|0),xO={};function M2(n,t,e,i,r){if(i&&i.once)return R2(n,t,e,i,r);if(Array.isArray(t)){for(var c=0;c<t.length;c++)M2(n,t[c],e,i,r);return null}return e=PO(e),n&&n[Ww]?n.N(t,e,zw(i)?!!i.capture:!!i,r):x2(n,t,e,!1,i,r)}function x2(n,t,e,i,r,c){if(!t)throw Error("Invalid event type");var d=zw(r)?!!r.capture:!!r,p=kO(n);if(p||(n[MO]=p=new zS(n)),(e=p.add(t,e,i,d,c)).proxy)return e;if(i=function(){var t=v6;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)p6||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(O2(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function R2(n,t,e,i,r){if(Array.isArray(t)){for(var c=0;c<t.length;c++)R2(n,t[c],e,i,r);return null}return e=PO(e),n&&n[Ww]?n.O(t,e,zw(i)?!!i.capture:!!i,r):x2(n,t,e,!0,i,r)}function k2(n,t,e,i,r){if(Array.isArray(t))for(var c=0;c<t.length;c++)k2(n,t[c],e,i,r);else i=zw(i)?!!i.capture:!!i,e=PO(e),n&&n[Ww]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=AO(c=n.g[t],e,i,r))&&($S(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete n.g[t],n.h--))):n&&(n=kO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=AO(t,e,i,r)),(e=-1<n?t[n]:null)&&RO(e))}function RO(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Ww])IO(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(O2(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=kO(t))?(IO(e,n),0==e.h&&(e.src=null,t[MO]=null)):$S(n)}}}function O2(n){return n in xO?xO[n]:xO[n]="on"+n}function v6(n,t){if(n.ca)n=!0;else{t=new qw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&RO(n),n=e.call(i,t)}return n}function kO(n){return(n=n[MO])instanceof zS?n:null}var OO="__closure_events_fn_"+(1e9*Math.random()>>>0);function PO(n){return"function"==typeof n?n:(n[OO]||(n[OO]=function(t){return n.handleEvent(t)}),n[OO])}function Br(){Xd.call(this),this.i=new zS(this),this.P=this,this.I=null}function rs(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new _s(t,n);else if(t instanceof _s)t.target=t.target||n;else{var r=t;D2(t=new _s(i,n),r)}if(r=!0,e)for(var c=e.length-1;0<=c;c--){var d=t.g=e[c];r=qS(d,i,!0,t)&&r}if(r=qS(d=t.g=n,i,!0,t)&&r,r=qS(d,i,!1,t)&&r,e)for(c=0;c<e.length;c++)r=qS(d=t.g=e[c],i,!1,t)&&r}function qS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,c=0;c<t.length;++c){var d=t[c];if(d&&!d.ca&&d.capture==e){var p=d.listener,y=d.ia||d.src;d.fa&&IO(n.i,d),r=!1!==p.call(y,i)&&r}}return r&&!i.defaultPrevented}is(Br,Xd),Br.prototype[Ww]=!0,Br.prototype.removeEventListener=function(n,t,e,i){k2(this,n,t,e,i)},Br.prototype.M=function(){if(Br.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)$S(e[i]);delete n.g[t],n.h--}}this.I=null},Br.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Br.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var NO=qt.JSON.stringify;function b6(){var n=N2;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var LO,P2=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new C6,n=>n.reset());class C6{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function E6(n){qt.setTimeout(()=>{throw n},0)}function FO(n,t){LO||function(){var n=qt.Promise.resolve(void 0);LO=function(){n.then(T6)}}(),VO||(LO(),VO=!0),N2.add(n,t)}var VO=!1,N2=new class{constructor(){this.h=this.g=null}add(t,e){const i=P2.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function T6(){for(var n;n=b6();){try{n.h.call(n.g)}catch(e){E6(e)}var t=P2;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}VO=!1}function WS(n,t){Br.call(this),this.h=n||1,this.g=t||qt,this.j=ns(this.kb,this),this.l=Date.now()}function BO(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function UO(n,t,e){if("function"==typeof n)e&&(n=ns(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ns(n.handleEvent,n)}return 2147483647<Number(t)?-1:qt.setTimeout(n,t||0)}function F2(n){n.g=UO(()=>{n.g=null,n.i&&(n.i=!1,F2(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}is(WS,Br),(lt=WS.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rs(this,"tick"),this.da&&(BO(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){WS.Z.M.call(this),BO(this),delete this.g};class S6 extends Xd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:F2(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yw(n){Xd.call(this),this.h=n,this.g={}}is(Yw,Xd);var L2=[];function V2(n,t,e,i){Array.isArray(e)||(e&&(L2[0]=e.toString()),e=L2);for(var r=0;r<e.length;r++){var c=M2(t,e[r],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function B2(n){bO(n.g,function(t,e){this.g.hasOwnProperty(e)&&RO(t)},n),n.g={}}function YS(){this.g=!0}function O_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var c=r[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<r.length;d++)r[d]=""}}}return NO(e)}catch(p){return t}}(n,e)+(i?" "+i:"")})}Yw.prototype.M=function(){Yw.Z.M.call(this),B2(this)},Yw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},YS.prototype.Aa=function(){this.g=!1},YS.prototype.info=function(){};var Mp={},U2=null;function ZS(){return U2=U2||new Br}function j2(n){_s.call(this,Mp.Ma,n)}function Zw(n){const t=ZS();rs(t,new j2(t,n))}function H2(n,t){_s.call(this,Mp.STAT_EVENT,n),this.stat=t}function Fs(n){const t=ZS();rs(t,new H2(t,n))}function G2(n,t){_s.call(this,Mp.Na,n),this.size=t}function Kw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},t)}Mp.Ma="serverreachability",is(j2,_s),Mp.STAT_EVENT="statevent",is(H2,_s),Mp.Na="timingevent",is(G2,_s);var KS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jO(){}function q2(){}jO.prototype.h=null;var $O,Qw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HO(){_s.call(this,"d")}function GO(){_s.call(this,"c")}function QS(){}function Jw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Yw(this),this.P=R6,this.W=new WS(n=CO?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new W2}function W2(){this.i=null,this.g="",this.h=!1}is(HO,_s),is(GO,_s),is(QS,jO),QS.prototype.g=function(){return new XMLHttpRequest},QS.prototype.i=function(){return{}},$O=new QS;var R6=45e3,zO={},JS={};function qO(n,t,e){n.K=1,n.v=iI(cu(t)),n.s=e,n.U=!0,Y2(n,null)}function Y2(n,t){n.F=Date.now(),Xw(n),n.A=cu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),iB(e.h,"t",i),n.C=0,e=n.l.H,n.h=new W2,n.g=SB(n.l,e?t:null,!n.s),0<n.O&&(n.L=new S6(ns(n.Ia,n,n.g),n.O)),V2(n.V,n.g,"readystatechange",n.gb),t=n.H?C2(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Zw(1),function(n,t,e,i,r,c){n.info(function(){if(n.g)if(c)for(var d="",p=c.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var T=w[0];w=w[1];var A=T.split("_");d=2<=A.length&&"type"==A[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Z2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function K2(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=k6(n,e),r==JS){4==t&&(n.o=4,Fs(14),i=!1),O_(n.j,n.m,null,"[Incomplete Response]");break}if(r==zO){n.o=4,Fs(15),O_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}O_(n.j,n.m,r,null),WO(n,r)}Z2(n)&&r!=JS&&r!=zO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Fs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),r1(t),t.L=!0,Fs(11))):(O_(n.j,n.m,e,"[Invalid Chunked Response]"),xp(n),eC(n))}function k6(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?JS:(e=Number(t.substring(e,i)),isNaN(e)?zO:(i+=1)+e>t.length?JS:(t=t.substr(i,e),n.C=i+e,t))}function Xw(n){n.Y=Date.now()+n.P,Q2(n,n.P)}function Q2(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kw(ns(n.eb,n),t)}function XS(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function eC(n){0==n.l.G||n.I||CB(n.l,n)}function xp(n){XS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,BO(n.W),B2(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function WO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||KO(e.i,n)))if(e.I=n.N,!n.J&&KO(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Kw(ns(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;cI(e),aI(e)}i1(e),Fs(18)}if(1>=oB(e.i)&&e.ka){try{e.ka()}catch(w){}e.ka=void 0}}else Op(e,11)}else if((n.J||e.g==n)&&cI(e),!HS(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const T=w[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const A=w[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const k=w[5];null!=k&&"number"==typeof k&&0<k&&(e.K=i=1.5*k,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const j=n.g;if(j){const Z=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var c=i.i;!c.g&&(Ps(Z,"spdy")||Ps(Z,"quic")||Ps(Z,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(QO(c,c.h),c.h=null))}if(i.D){const de=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(i.sa=de,Ii(i.F,i.D,de))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var d=n;if((i=e).oa=TB(i,i.H?i.la:null,i.W),d.J){aB(i.i,d);var p=d,y=i.K;y&&p.setTimeout(y),p.B&&(XS(p),Xw(p)),i.g=d}else bB(i);0<e.l.length&&lI(e)}else"stop"!=w[0]&&"close"!=w[0]||Op(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Op(e,7):t1(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}Zw(4)}catch(w){}}function YO(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(mO(n)||"string"==typeof n)_2(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(mO(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;r=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(mO(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var c=0;c<r;c++)t.call(void 0,i[c],e&&e[c],n)}}function P_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof P_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function ZO(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Rp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Rp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Rp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(lt=Jw.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const t=this.L;t&&3==uu(n)?t.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const T=uu(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||CO||this.g&&(this.h.h||this.g.ga()||gB(this.g)))){this.I||4!=T||7==t||Zw(8==t||0>=A?3:2),XS(this);var e=this.g.ba();this.N=e;t:if(Z2(this)){var i=gB(this.g);n="";var r=i.length,c=4==uu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xp(this),eC(this);var d="";break t}this.h.i=new qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:c&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,c,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!HS(p)){var w=p;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,Fs(12),xp(this),eC(this);break e}O_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WO(this,e)}this.U?(K2(this,T,d),CO&&this.i&&3==T&&(V2(this.V,this.W,"tick",this.fb),this.W.start())):(O_(this.j,this.m,d,null),WO(this,d)),4==T&&xp(this),this.i&&!this.I&&(4==T?CB(this.l,this):(this.i=!1,Xw(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,Fs(12)):(this.o=0,Fs(13)),xp(this),eC(this)}}}catch(T){}},lt.fb=function(){if(this.g){var n=uu(this.g),t=this.g.ga();this.C<t.length&&(XS(this),K2(this,n,t),this.i&&4!=n&&Xw(this))}},lt.cancel=function(){this.I=!0,xp(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Zw(3),Fs(17)),xp(this),this.o=2,eC(this)):Q2(this,this.Y-n)},(lt=P_.prototype).R=function(){ZO(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},lt.T=function(){return ZO(this),this.g.concat()},lt.get=function(n,t){return Rp(this.h,n)?this.h[n]:t},lt.set=function(n,t){Rp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},lt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],c=this.get(r);n.call(t,c,r,this)}};var J2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof kp){this.g=void 0!==t?t:n.g,eI(this,n.j),this.s=n.s,tI(this,n.i),nI(this,n.m),this.l=n.l,t=n.h;var e=new iC;e.i=t.i,t.g&&(e.g=new P_(t.g),e.h=t.h),X2(this,e),this.o=n.o}else n&&(e=String(n).match(J2))?(this.g=!!t,eI(this,e[1]||"",!0),this.s=tC(e[2]||""),tI(this,e[3]||"",!0),nI(this,e[4]),this.l=tC(e[5]||"",!0),X2(this,e[6]||"",!0),this.o=tC(e[7]||"")):(this.g=!!t,this.h=new iC(null,this.g))}function cu(n){return new kp(n)}function eI(n,t,e){n.j=e?tC(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function tI(n,t,e){n.i=e?tC(t,!0):t}function nI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function X2(n,t,e){t instanceof iC?(n.h=t,function(n,t){t&&!n.j&&(eh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(tB(this,i),iB(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=nC(t,U6)),n.h=new iC(t,n.g))}function Ii(n,t,e){n.h.set(t,e)}function iI(n){return Ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tC(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nC(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,L6),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function L6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(nC(t,eB,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(nC(t,eB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(nC(e,"/"==e.charAt(0)?B6:V6,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",nC(e,j6)),n.join("")};var eB=/[#\/\?@]/g,V6=/[#\?:]/g,B6=/[#\?]/g,U6=/[#\?@]/g,j6=/#/g;function iC(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function eh(n){n.g||(n.g=new P_,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var c=n[e].substring(0,i);r=n[e].substring(i+1)}else c=n[e];t(c,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function tB(n,t){eh(n),t=N_(n,t),Rp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Rp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&ZO(n)))}function nB(n,t){return eh(n),t=N_(n,t),Rp(n.g.h,t)}function iB(n,t,e){tB(n,t),0<e.length&&(n.i=null,n.g.set(N_(n,t),yO(e)),n.h+=e.length)}function N_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function rB(n){this.l=n||$6,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ea&&qt.g.Ea()&&qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=iC.prototype).add=function(n,t){eh(this),this.i=null,n=N_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){eh(this),this.g.forEach(function(e,i){_2(e,function(r){n.call(t,r,i,this)},this)},this)},lt.T=function(){eh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],c=0;c<r.length;c++)e.push(t[i]);return e},lt.R=function(n){eh(this);var t=[];if("string"==typeof n)nB(this,n)&&(t=y2(t,this.g.get(N_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=y2(t,n[e])}return t},lt.set=function(n,t){return eh(this),this.i=null,nB(this,n=N_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var c=0;c<i.length;c++){var d=r;""!==i[c]&&(d+="="+encodeURIComponent(String(i[c]))),n.push(d)}}return this.i=n.join("&")};var $6=10;function sB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oB(n){return n.h?1:n.g?n.g.size:0}function KO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function QO(n,t){n.g?n.g.add(t):n.h=t}function aB(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function lB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return yO(n.i)}function JO(){}function z6(){this.g=new JO}function q6(n,t,e){const i=e||"";try{YO(n,function(r,c){let d=r;zw(r)&&(d=NO(r)),t.push(i+c+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function rI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(c){}}function rC(n){this.l=n.$b||null,this.j=n.ib||!1}function sI(n,t){Br.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=XO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rB.prototype.cancel=function(){if(this.i=lB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JO.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},JO.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},is(rC,jO),rC.prototype.g=function(){return new sI(this.l,this.j)},rC.prototype.i=function(n){return function(){return n}}({}),is(sI,Br);var XO=0;function cB(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function sC(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oC(n)}function oC(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=sI.prototype).open=function(n,t){if(this.readyState!=XO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,oC(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||qt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sC(this)),this.readyState=XO},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oC(this)),this.g&&(this.readyState=3,oC(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==qt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cB(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?sC(this):oC(this),3==this.readyState&&cB(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,sC(this))},lt.Ta=function(n){this.g&&(this.response=n,sC(this))},lt.ha=function(){this.g&&sC(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(sI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Y6=qt.JSON.parse;function hr(n){Br.call(this),this.headers=new P_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uB,this.K=this.L=!1}is(hr,Br);var uB="",Z6=/^https?$/i,K6=["POST","PUT"];function J6(n){return"content-type"==n.toLowerCase()}function dB(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,hB(n),oI(n)}function hB(n){n.D||(n.D=!0,rs(n,"complete"),rs(n,"error"))}function fB(n){if(n.h&&void 0!==gO&&(!n.C[1]||4!=uu(n)||2!=n.ba()))if(n.v&&4==uu(n))UO(n.Fa,0,n);else if(rs(n,"readystatechange"),4==uu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===p){var r=String(n.H).match(J2)[1]||null;if(!r&&qt.self&&qt.self.location){var c=qt.self.location.protocol;r=c.substr(0,c.length-1)}i=!Z6.test(r?r.toLowerCase():"")}e=i}if(e)rs(n,"complete"),rs(n,"success");else{n.m=6;try{var d=2<uu(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",hB(n)}}finally{oI(n)}}}function oI(n,t){if(n.g){pB(n);const e=n.g,i=n.C[0]?US:null;n.g=null,n.C=null,t||rs(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function pB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function uu(n){return n.g?n.g.readyState:0}function gB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function e1(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return bO(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ii(n,t,e))}function aC(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mB(n){this.za=0,this.l=[],this.h=new YS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=aC("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=aC("baseRetryDelayMs",5e3,n),this.$a=aC("retryDelaySeedMs",1e4,n),this.Ya=aC("forwardChannelMaxRetries",2,n),this.ra=aC("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rB(n&&n.concurrentRequestLimit),this.Ca=new z6,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function t1(n){if(_B(n),3==n.G){var t=n.V++,e=cu(n.F);Ii(e,"SID",n.J),Ii(e,"RID",t),Ii(e,"TYPE","terminate"),lC(n,e),(t=new Jw(n,n.h,t,void 0)).K=2,t.v=iI(cu(e)),e=!1,qt.navigator&&qt.navigator.sendBeacon&&(e=qt.navigator.sendBeacon(t.v.toString(),"")),!e&&qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=SB(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Xw(t)}DB(n)}function aI(n){n.g&&(r1(n),n.g.cancel(),n.g=null)}function _B(n){aI(n),n.u&&(qt.clearTimeout(n.u),n.u=null),cI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function n1(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&lI(n)}function lI(n){sB(n.i)||n.m||(n.m=!0,FO(n.Ha,n),n.C=0)}function yB(n,t){var e;e=t?t.m:n.V++;const i=cu(n.F);Ii(i,"SID",n.J),Ii(i,"RID",e),Ii(i,"AID",n.U),lC(n,i),n.o&&n.s&&e1(i,n.o,n.s),e=new Jw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=vB(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),QO(n.i,e),qO(e,i,t)}function lC(n,t){n.j&&YO({},function(e,i){Ii(t,i,e)})}function vB(n,t,e){e=Math.min(n.l.length,e);var i=n.j?ns(n.j.Oa,n.j,n):null;e:{var r=n.l;let c=-1;for(;;){const d=["count="+e];-1==c?0<e?(c=r[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let p=!0;for(let y=0;y<e;y++){let w=r[y].h;const T=r[y].g;if(w-=c,0>w)c=Math.max(0,r[y].h-100),p=!1;else try{q6(T,d,"req"+w+"_")}catch(A){i&&i(T)}}if(p){i=d.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function bB(n){n.g||n.u||(n.Y=1,FO(n.Ga,n),n.A=0)}function i1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kw(ns(n.Ga,n),EB(n,n.A)),n.A++,0))}function r1(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function wB(n){n.g=new Jw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=cu(n.oa);Ii(t,"RID","rpc"),Ii(t,"SID",n.J),Ii(t,"CI",n.N?"0":"1"),Ii(t,"AID",n.U),lC(n,t),Ii(t,"TYPE","xmlhttp"),n.o&&n.s&&e1(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=iI(cu(t)),e.s=null,e.U=!0,Y2(e,n)}function cI(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function CB(n,t){var e=null;if(n.g==t){cI(n),r1(n),n.g=null;var i=2}else{if(!KO(n.i,t))return;e=t.D,aB(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;rs(i=ZS(),new G2(i,e,t,r)),lI(n)}else bB(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(oB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kw(ns(n.Ha,n,t),EB(n,n.C)),n.C++,0)))}(n,t)||2==i&&i1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Op(n,5);break;case 4:Op(n,10);break;case 3:Op(n,6);break;default:Op(n,2)}}function EB(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Op(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=ns(n.jb,n);e||(e=new kp("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||eI(e,"https"),iI(e)),function(n,t){const e=new YS;if(qt.Image){const i=new Image;i.onload=jS(rI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=jS(rI,e,i,"TestLoadImage: error",!1,t),i.onabort=jS(rI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=jS(rI,e,i,"TestLoadImage: timeout",!1,t),qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Fs(2);n.G=0,n.j&&n.j.va(t),DB(n),_B(n)}function DB(n){n.G=0,n.I=-1,n.j&&((0!=lB(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yO(n.l),n.l.length=0),n.j.ua())}function TB(n,t,e){let i=function(n){return n instanceof kp?cu(n):new kp(n,void 0)}(e);if(""!=i.i)t&&tI(i,t+"."+i.i),nI(i,i.m);else{const r=qt.location;i=function(n,t,e,i){var r=new kp(null,void 0);return n&&eI(r,n),t&&tI(r,t),e&&nI(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&bO(n.aa,function(r,c){Ii(i,c,r)}),e=n.sa,(t=n.D)&&e&&Ii(i,t,e),Ii(i,"VER",n.ma),lC(n,i),i}function SB(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hr(e&&n.Ba&&!n.qa?new rC({ib:!0}):n.qa)).L=n.H,t}function IB(){}function uI(){if(k_&&!(10<=Number(f6)))throw Error("Environmental error: no available transport.")}function ko(n,t){Br.call(this),this.g=new mB(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!HS(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!HS(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new F_(this)}function AB(n){HO.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MB(){GO.call(this),this.status=1}function F_(n){this.g=n}(lt=hr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$O.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:$O),this.g.onreadystatechange=ns(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(c){return void dB(this,c)}n=e||"";const r=new P_(this.headers);i&&YO(i,function(c,d){r.set(d,c)}),i=function(n){e:{var t=J6;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=qt.FormData&&n instanceof qt.FormData,!(0<=m2(K6,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(c,d){this.g.setRequestHeader(d,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pB(this),0<this.B&&((this.K=function(n){return k_&&h6()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ns(this.pa,this)):this.A=UO(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){dB(this,c)}},lt.pa=function(){void 0!==gO&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rs(this,"complete"),rs(this,"abort"),oI(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oI(this,!0)),hr.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?fB(this):this.cb())},lt.cb=function(){fB(this)},lt.ba=function(){try{return 2<uu(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Y6(t)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=mB.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Jw(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=C2(c),D2(c,this.P)):c=this.P),null===this.o&&(r.H=c),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=vB(this,r,t),Ii(e=cu(this.F),"RID",n),Ii(e,"CVER",22),this.D&&Ii(e,"X-HTTP-Session-Id",this.D),lC(this,e),this.o&&c&&e1(e,this.o,c),QO(this.i,r),this.Ra&&Ii(e,"TYPE","init"),this.ja?(Ii(e,"$req",t),Ii(e,"SID","null"),r.$=!0,qO(r,e,null)):qO(r,e,t),this.G=2}}else 3==this.G&&(n?yB(this,n):0==this.l.length||sB(this.i)||yB(this))},lt.Ga=function(){if(this.u=null,wB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kw(ns(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fs(10),aI(this),wB(this))},lt.ab=function(){null!=this.v&&(this.v=null,aI(this),i1(this),Fs(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fs(2)):(this.h.info("Failed to ping google.com"),Fs(1))},(lt=IB.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},uI.prototype.g=function(n,t){return new ko(n,t)},is(ko,Br),ko.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),FO(ns(n.hb,n,t))),Fs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=TB(n,null,n.W),lI(n)},ko.prototype.close=function(){t1(this.g)},ko.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,n1(this.g,t)}else this.v?((t={}).__data__=NO(n),n1(this.g,t)):n1(this.g,n)},ko.prototype.M=function(){this.g.j=null,delete this.j,t1(this.g),delete this.g,ko.Z.M.call(this)},is(AB,HO),is(MB,GO),is(F_,IB),F_.prototype.xa=function(){rs(this.g,"a")},F_.prototype.wa=function(n){rs(this.g,new AB(n))},F_.prototype.va=function(n){rs(this.g,new MB(n))},F_.prototype.ua=function(){rs(this.g,"b")},uI.prototype.createWebChannel=uI.prototype.g,ko.prototype.send=ko.prototype.u,ko.prototype.open=ko.prototype.m,ko.prototype.close=ko.prototype.close,KS.NO_ERROR=0,KS.TIMEOUT=8,KS.HTTP_ERROR=6,$2.COMPLETE="complete",q2.EventType=Qw,Qw.OPEN="a",Qw.CLOSE="b",Qw.ERROR="c",Qw.MESSAGE="d",Br.prototype.listen=Br.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var tz=lu.createWebChannelTransport=function(){return new uI},nz=lu.getStatEventTarget=function(){return ZS()},s1=lu.ErrorCode=KS,iz=lu.EventType=$2,rz=lu.Event=Mp,xB=lu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sz=lu.FetchXmlHttpFactory=rC,dI=lu.WebChannel=q2,oz=lu.XhrIo=hr;const RB="@firebase/firestore";class ss{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");let L_="9.6.10";const th=new Jd.Yd("@firebase/firestore");function o1(){return th.logLevel}function Ue(n,...t){if(th.logLevel<=Jd.in.DEBUG){const e=t.map(a1);th.debug(`Firestore (${L_}): ${n}`,...e)}}function fr(n,...t){if(th.logLevel<=Jd.in.ERROR){const e=t.map(a1);th.error(`Firestore (${L_}): ${n}`,...e)}}function cC(n,...t){if(th.logLevel<=Jd.in.WARN){const e=t.map(a1);th.warn(`Firestore (${L_}): ${n}`,...e)}}function a1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${L_}) INTERNAL ASSERTION FAILED: `+n;throw fr(t),new Error(t)}function Ut(n,t){n||ut()}function Xe(n,t){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends gn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class kB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ss.UNAUTHENTICATED))}shutdown(){}}class uz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class dz{constructor(t){this.t=t,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const c=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let d=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ur,t.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const w=d;t.enqueueRetryable((0,Ie.Z)(function*(){yield w.promise,yield c(i.currentUser)}))},y=w=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ur)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new kB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new ss(t)}}class hz{constructor(t,e,i){this.type="FirstParty",this.user=ss.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class fz{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new hz(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pz{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=c=>{null!=c.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.p;return this.p=c.token,Ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>i(c))};const r=c=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>r(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?r(c):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.p=e.token,new OB(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Oo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function gz(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Oo.A=-1;class PB{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=gz(40);for(let c=0;c<r.length;++c)i.length<20&&r[c]<e&&(i+=t.charAt(r[c]%t.length))}return i}}function mn(n,t){return n<t?-1:n>t?1:0}function V_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function NB(n){return n+"\0"}class ir{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ir(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?mn(this.nanoseconds,t.nanoseconds):mn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new ir(0,0))}static max(){return new At(new ir(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function FB(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Pp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function LB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class uC{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===uC.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof uC?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const c=t.get(r),d=e.get(r);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Mn extends uC{construct(t,e,i){return new Mn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Mn(e)}static emptyPath(){return new Mn([])}}const mz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends uC{construct(t,e,i){return new jr(t,e,i)}static isValidIdentifier(t){return mz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const c=()=>{if(0===i.length)throw new ke(ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const p=t[r];if("\\"===p){if(r+1===t.length)throw new ke(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ke(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,r+=2}else"`"===p?(d=!d,r++):"."!==p||d?(i+=p,r++):(c(),r++)}if(c(),d)throw new ke(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jr(e)}static emptyPath(){return new jr([])}}class B_{constructor(t){this.fields=t,t.sort(jr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return V_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Dr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Dr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let c=0;c<i.length;++c)r+=String.fromCharCode(i[c]);return r}(t);return new Dr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const yz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=yz.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Np(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function l1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function VB(n){const t=n.mapValue.fields.__previous_value__;return l1(t)?VB(t):t}function dC(n){const t=nh(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(t.seconds,t.nanos)}class vz{constructor(t,e,i,r,c,d,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class du{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new du("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}function Fp(n){return null==n}function hC(n){return 0===n&&1/n==-1/0}function BB(n){return"number"==typeof n&&Number.isInteger(n)&&!hC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(t){this.path=t}static fromPath(t){return new Ye(Mn.fromString(t))}static fromName(t){return new Ye(Mn.fromString(t).popFirst(5))}static empty(){return new Ye(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ye(new Mn(t.slice()))}}const UB={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jB={nullValue:"NULL_VALUE"};function Lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l1(n)?4:zB(n)?9:10:ut()}function Bl(n,t){if(n===t)return!0;const e=Lp(n);if(e!==Lp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return dC(n).isEqual(dC(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const c=nh(i.timestampValue),d=nh(r.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Np(n.bytesValue).isEqual(Np(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Zi(i.geoPointValue.latitude)===Zi(r.geoPointValue.latitude)&&Zi(i.geoPointValue.longitude)===Zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zi(i.integerValue)===Zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const c=Zi(i.doubleValue),d=Zi(r.doubleValue);return c===d?hC(c)===hC(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return V_(n.arrayValue.values||[],t.arrayValue.values||[],Bl);case 10:return function(i,r){const c=i.mapValue.fields||{},d=r.mapValue.fields||{};if(FB(c)!==FB(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===d[p]||!Bl(c[p],d[p])))return!1;return!0}(n,t);default:return ut()}var r}function fC(n,t){return void 0!==(n.values||[]).find(e=>Bl(e,t))}function ih(n,t){if(n===t)return 0;const e=Lp(n),i=Lp(t);if(e!==i)return mn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,t.booleanValue);case 2:return function(r,c){const d=Zi(r.integerValue||r.doubleValue),p=Zi(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return HB(n.timestampValue,t.timestampValue);case 4:return HB(dC(n),dC(t));case 5:return mn(n.stringValue,t.stringValue);case 6:return function(r,c){const d=Np(r),p=Np(c);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(r,c){const d=r.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=mn(d[y],p[y]);if(0!==w)return w}return mn(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,c){const d=mn(Zi(r.latitude),Zi(c.latitude));return 0!==d?d:mn(Zi(r.longitude),Zi(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,c){const d=r.values||[],p=c.values||[];for(let y=0;y<d.length&&y<p.length;++y){const w=ih(d[y],p[y]);if(w)return w}return mn(d.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,c){const d=r.fields||{},p=Object.keys(d),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const A=mn(p[T],w[T]);if(0!==A)return A;const k=ih(d[p[T]],y[w[T]]);if(0!==k)return k}return mn(p.length,w.length)}(n.mapValue,t.mapValue);default:throw ut()}}function HB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return mn(n,t);const e=nh(n),i=nh(t),r=mn(e.seconds,i.seconds);return 0!==r?r:mn(e.nanos,i.nanos)}function U_(n){return c1(n)}function c1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=nh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Np(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",c=!0;for(const d of i.values||[])c?c=!1:r+=",",r+=c1(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let c="{",d=!0;for(const p of r)d?d=!1:c+=",",c+=`${p}:${c1(i.fields[p])}`;return c+"}"}(n.mapValue):ut();var t}function j_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function u1(n){return!!n&&"integerValue"in n}function pC(n){return!!n&&"arrayValue"in n}function GB(n){return!!n&&"nullValue"in n}function $B(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hI(n){return!!n&&"mapValue"in n}function gC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Pp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function zB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qB(n,t){return void 0===n?t:void 0===t||ih(n,t)>0?n:t}function WB(n,t){return void 0===n?t:void 0===t||ih(n,t)<0?n:t}class ys{constructor(t){this.value=t}static empty(){return new ys({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!hI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gC(e)}setAll(t){let e=jr.emptyPath(),i={},r=[];t.forEach((d,p)=>{if(!e.isImmediateParentOf(p)){const y=this.getFieldsMap(e);this.applyChanges(y,i,r),i={},r=[],e=p.popLast()}d?i[p.lastSegment()]=gC(d):r.push(p.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,i,r)}delete(t){const e=this.field(t.popLast());hI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];hI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Pp(e,(r,c)=>t[r]=c);for(const r of i)delete t[r]}clone(){return new ys(gC(this.value))}}function YB(n){const t=[];return Pp(n.fields,(e,i)=>{const r=new jr([e]);if(hI(i)){const c=YB(i.mapValue).fields;if(0===c.length)t.push(r);else for(const d of c)t.push(r.child(d))}else t.push(r)}),new B_(t)}class _i{constructor(t,e,i,r,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=c,this.documentState=d}static newInvalidDocument(t){return new _i(t,0,At.min(),At.min(),ys.empty(),0)}static newFoundDocument(t,e,i){return new _i(t,1,e,At.min(),i,0)}static newNoDocument(t,e){return new _i(t,2,e,At.min(),ys.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,At.min(),ys.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fI{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function d1(n){return n.fields.find(t=>2===t.kind)}function H_(n){return n.fields.filter(t=>2!==t.kind)}fI.UNKNOWN_ID=-1;class pI{constructor(t,e){this.fieldPath=t,this.kind=e}}class mC{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new mC(0,hu.min())}}function ZB(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new ir(e+1,0):new ir(e,i));return new hu(r,Ye.empty(),t)}function bz(n){return new hu(n.readTime,n.key,-1)}class hu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new hu(At.min(),Ye.empty(),-1)}static max(){return new hu(At.max(),Ye.empty(),-1)}}function wz(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ye.comparator(n.documentKey,t.documentKey),0!==e?e:mn(n.largestBatchId,t.largestBatchId))}class Cz{constructor(t,e=null,i=[],r=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=c,this.startAt=d,this.endAt=p,this.P=null}}function KB(n,t=null,e=[],i=[],r=null,c=null,d=null){return new Cz(n,t,e,i,r,c,d)}function Vp(n){const t=Xe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+U_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Fp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>U_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>U_(i)).join(",")),t.P=e}return t.P}function _C(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Rz(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Bl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XB(n.startAt,t.startAt)&&XB(n.endAt,t.endAt)}function gI(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function mI(n,t){return n.filters.filter(e=>e instanceof os&&e.field.isEqual(t))}class os extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new Dz(t,e,i):"array-contains"===e?new Iz(t,i):"in"===e?new Az(t,i):"not-in"===e?new Mz(t,i):"array-contains-any"===e?new xz(t,i):new os(t,e,i)}static V(t,e,i){return"in"===e?new Tz(t,i):new Sz(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(ih(e,this.value)):null!==e&&Lp(this.value)===Lp(e)&&this.v(ih(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Dz extends os{constructor(t,e,i){super(t,e,i),this.key=Ye.fromName(i.referenceValue)}matches(t){const e=Ye.comparator(t.key,this.key);return this.v(e)}}class Tz extends os{constructor(t,e){super(t,"in",e),this.keys=QB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Sz extends os{constructor(t,e){super(t,"not-in",e),this.keys=QB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function QB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class Iz extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return pC(e)&&fC(e.arrayValue,this.value)}}class Az extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&fC(this.value.arrayValue,e)}}class Mz extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(fC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!fC(this.value.arrayValue,e)}}class xz extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!pC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>fC(this.value.arrayValue,i))}}class rh{constructor(t,e){this.position=t,this.inclusive=e}}class G_{constructor(t,e="asc"){this.field=t,this.dir=e}}function Rz(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function JB(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const c=t[r],d=n.position[r];if(i=c.field.isKeyField()?Ye.comparator(Ye.fromName(d.referenceValue),e.key):ih(d,e.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function XB(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Bl(n.position[e],t.position[e]))return!1;return!0}class fu{constructor(t,e=null,i=[],r=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function eU(n,t,e,i,r,c,d,p){return new fu(n,t,e,i,r,c,d,p)}function $_(n){return new fu(n)}function _I(n){return!Fp(n.limit)&&"F"===n.limitType}function yI(n){return!Fp(n.limit)&&"L"===n.limitType}function h1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function f1(n){for(const t of n.filters)if(t.S())return t.field;return null}function p1(n){return null!==n.collectionGroup}function z_(n){const t=Xe(n);if(null===t.D){t.D=[];const e=f1(t),i=h1(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new G_(e)),t.D.push(new G_(jr.keyField(),"asc"));else{let r=!1;for(const c of t.explicitOrderBy)t.D.push(c),c.field.isKeyField()&&(r=!0);if(!r){const c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new G_(jr.keyField(),c))}}}return t.D}function ha(n){const t=Xe(n);if(!t.C)if("F"===t.limitType)t.C=KB(t.path,t.collectionGroup,z_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const c of z_(t))e.push(new G_(c.field,"desc"===c.dir?"asc":"desc"));const i=t.endAt?new rh(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new rh(t.startAt.position,!t.startAt.inclusive):null;t.C=KB(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function tU(n,t,e){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yC(n,t){return _C(ha(n),ha(t))&&n.limitType===t.limitType}function nU(n){return`${Vp(ha(n))}|lt:${n.limitType}`}function g1(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${U_(i.value)}`;var i}).join(", ")}]`),Fp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>U_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>U_(e)).join(",")),`Target(${t})`}(ha(n))}; limitType=${n.limitType})`}function m1(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ye.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,c,d){const p=JB(r,c,d);return r.inclusive?p<=0:p<0}(e.startAt,z_(e),i)||e.endAt&&!function(r,c,d){const p=JB(r,c,d);return r.inclusive?p>=0:p>0}(e.endAt,z_(e),i)));var e,i}function iU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rU(n){return(t,e)=>{let i=!1;for(const r of z_(n)){const c=kz(r,t,e);if(0!==c)return c;i=i||r.field.isKeyField()}return 0}}function kz(n,t,e){const i=n.field.isKeyField()?Ye.comparator(t.key,e.key):function(r,c,d){const p=c.data.field(r),y=d.data.field(r);return null!==p&&null!==y?ih(p,y):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function sU(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hC(t)?"-0":t}}function oU(n){return{integerValue:""+n}}function aU(n,t){return BB(t)?oU(t):sU(n,t)}class vI{constructor(){this._=void 0}}function Oz(n,t,e){return n instanceof q_?function(i,r){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(c.fields.__previous_value__=r),{mapValue:c}}(e,t):n instanceof Bp?cU(n,t):n instanceof Up?uU(n,t):function(i,r){const c=lU(i,r),d=dU(c)+dU(i.k);return u1(c)&&u1(i.k)?oU(d):sU(i.M,d)}(n,t)}function Pz(n,t,e){return n instanceof Bp?cU(n,t):n instanceof Up?uU(n,t):e}function lU(n,t){return n instanceof W_?u1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class q_ extends vI{}class Bp extends vI{constructor(t){super(),this.elements=t}}function cU(n,t){const e=hU(t);for(const i of n.elements)e.some(r=>Bl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Up extends vI{constructor(t){super(),this.elements=t}}function uU(n,t){let e=hU(t);for(const i of n.elements)e=e.filter(r=>!Bl(r,i));return{arrayValue:{values:e}}}class W_ extends vI{constructor(t,e){super(),this.M=t,this.k=e}}function dU(n){return Zi(n.integerValue||n.doubleValue)}function hU(n){return pC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vC{constructor(t,e){this.field=t,this.transform=e}}class Fz{constructor(t,e){this.version=t,this.transformResults=e}}class pr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class wI{}function Lz(n,t,e){n instanceof bC?function(i,r,c){const d=i.value.clone(),p=mU(i.fieldTransforms,r,c.transformResults);d.setAll(p),r.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof jp?function(i,r,c){if(!bI(i.precondition,r))return void r.convertToUnknownDocument(c.version);const d=mU(i.fieldTransforms,r,c.transformResults),p=r.data;p.setAll(gU(i)),p.setAll(d),r.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function _1(n,t,e){var r;n instanceof bC?function(i,r,c){if(!bI(i.precondition,r))return;const d=i.value.clone(),p=_U(i.fieldTransforms,c,r);d.setAll(p),r.convertToFoundDocument(pU(r),d).setHasLocalMutations()}(n,t,e):n instanceof jp?function(i,r,c){if(!bI(i.precondition,r))return;const d=_U(i.fieldTransforms,c,r),p=r.data;p.setAll(gU(i)),p.setAll(d),r.convertToFoundDocument(pU(r),p).setHasLocalMutations()}(n,t,e):bI(n.precondition,r=t)&&r.convertToNoDocument(At.min())}function Vz(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),c=lU(i.transform,r||null);null!=c&&(null==e&&(e=ys.empty()),e.set(i.field,c))}return e||null}function fU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&V_(e,i,(r,c)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Bp&&i instanceof Bp||e instanceof Up&&i instanceof Up?V_(e.elements,i.elements,Bl):e instanceof W_&&i instanceof W_?Bl(e.k,i.k):e instanceof q_&&i instanceof q_);var e,i}(r,c))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function pU(n){return n.isFoundDocument()?n.version:At.min()}class bC extends wI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class jp extends wI{constructor(t,e,i,r,c=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=c,this.type=1}}function gU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function mU(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const c=n[r],d=c.transform,p=t.data.field(c.field);i.set(c.field,Pz(d,p,e[r]))}return i}function _U(n,t,e){const i=new Map;for(const r of n){const c=r.transform,d=e.data.field(r.field);i.set(r.field,Oz(c,d,t))}return i}class wC extends wI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class y1 extends wI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Bz{constructor(t){this.count=t}}var gr,xn;function yU(n){switch(n){default:return ut();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function vU(n){if(void 0===n)return fr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case gr.OK:return ye.OK;case gr.CANCELLED:return ye.CANCELLED;case gr.UNKNOWN:return ye.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ye.INTERNAL;case gr.UNAVAILABLE:return ye.UNAVAILABLE;case gr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case gr.NOT_FOUND:return ye.NOT_FOUND;case gr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case gr.ABORTED:return ye.ABORTED;case gr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case gr.DATA_LOSS:return ye.DATA_LOSS;default:return ut()}}(xn=gr||(gr={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class sh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,c]of i)if(this.equalsFn(r,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let c=0;c<r.length;c++)if(this.equalsFn(r[c][0],t))return void(r[c]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Pp(this.inner,(e,i)=>{for(const[r,c]of i)t(r,c)})}isEmpty(){return LB(this.inner)}size(){return this.innerSize}}class rr{constructor(t,e){this.comparator=t,this.root=e||as.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,as.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,as.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new CI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new CI(this.root,t,this.comparator,!1)}getReverseIterator(){return new CI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new CI(this.root,t,this.comparator,!0)}}class CI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,e&&r&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class as{constructor(t,e,i,r,c){this.key=t,this.value=e,this.color=null!=i?i:as.RED,this.left=null!=r?r:as.EMPTY,this.right=null!=c?c:as.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,c){return new as(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const c=i(t,r.key);return r=c<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===c?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return as.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return as.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,as.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,as.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new as(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bU(this.data.getIterator())}getIteratorFrom(t){return new bU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,c=i.getNext().key;if(0!==this.comparator(r,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new yi(this.comparator);return e.data=t,e}}class bU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Y_(n){return n.hasNext()?n.getNext():void 0}const Uz=new rr(Ye.comparator);function fa(){return Uz}const jz=new rr(Ye.comparator);function v1(){return jz}function CC(){return new sh(n=>n.toString(),(n,t)=>n.isEqual(t))}const Hz=new rr(Ye.comparator),Gz=new yi(Ye.comparator);function qn(...n){let t=Gz;for(const e of n)t=t.add(e);return t}const $z=new yi(mn);function EI(){return $z}class EC{constructor(t,e,i,r,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,DC.createSynthesizedTargetChangeForCurrentChange(t,e)),new EC(At.min(),i,EI(),fa(),qn())}}class DC{constructor(t,e,i,r,c){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e){return new DC(Dr.EMPTY_BYTE_STRING,e,qn(),qn(),qn())}}class DI{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class wU{constructor(t,e){this.targetId=t,this.$=e}}class CU{constructor(t,e,i=Dr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class EU{constructor(){this.B=0,this.L=TU(),this.U=Dr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=qn(),e=qn(),i=qn();return this.L.forEach((r,c)=>{switch(c){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new DC(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=TU()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class zz{constructor(t){this.nt=t,this.st=new Map,this.it=fa(),this.rt=DU(),this.ot=new yi(mn)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const c=r.target;if(gI(c))if(0===i){const d=new Ye(c.path);this.ct(e,d,_i.newNoDocument(d,At.min()))}else Ut(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((c,d)=>{const p=this.wt(d);if(p){if(c.current&&gI(p.target)){const y=new Ye(p.target.path);null!==this.it.get(y)||this.It(d,y)||this.ct(d,y,_i.newNoDocument(y,t))}c.j&&(e.set(d,c.H()),c.J())}});let i=qn();this.rt.forEach((c,d)=>{let p=!0;d.forEachWhile(y=>{const w=this.wt(y);return!w||2===w.purpose||(p=!1,!1)}),p&&(i=i.add(c))}),this.it.forEach((c,d)=>d.setReadTime(t));const r=new EC(t,e,this.ot,this.it,i);return this.it=fa(),this.rt=DU(),this.ot=new yi(mn),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new EU,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new yi(mn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new EU),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function DU(){return new rr(Ye.comparator)}function TU(){return new rr(Ye.comparator)}const qz={asc:"ASCENDING",desc:"DESCENDING"},Wz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yz{constructor(t,e){this.databaseId=t,this.N=e}}function TC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SU(n,t){return n.N?t.toBase64():t.toUint8Array()}function Zz(n,t){return TC(n,t.toTimestamp())}function Hr(n){return Ut(!!n),At.fromTimestamp(function(t){const e=nh(t);return new ir(e.seconds,e.nanos)}(n))}function b1(n,t){return(e=n,new Mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function IU(n){const t=Mn.fromString(n);return Ut(FU(t)),t}function SC(n,t){return b1(n.databaseId,t.path)}function Ul(n,t){const e=IU(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ye(MU(e))}function w1(n,t){return b1(n.databaseId,t)}function AU(n){const t=IU(n);return 4===t.length?Mn.emptyPath():MU(t)}function IC(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MU(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xU(n,t,e){return{name:SC(n,t),fields:e.value.mapValue.fields}}function RU(n,t,e){const i=Ul(n,t.name),r=Hr(t.updateTime),c=new ys({mapValue:{fields:t.fields}}),d=_i.newFoundDocument(i,r,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function AC(n,t){let e;if(t instanceof bC)e={update:xU(n,t.key,t.value)};else if(t instanceof wC)e={delete:SC(n,t.key)};else if(t instanceof jp)e={update:xU(n,t.key,t.data),updateMask:rq(t.fieldMask)};else{if(!(t instanceof y1))return ut();e={verify:SC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,c){const d=c.transform;if(d instanceof q_)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Up)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof W_)return{fieldPath:c.field.canonicalString(),increment:d.k};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Zz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function C1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?pr.updateTime(Hr(r.updateTime)):void 0!==r.exists?pr.exists(r.exists):pr.none():pr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(c,d){let p=null;"setToServerValue"in d?(Ut("REQUEST_TIME"===d.setToServerValue),p=new q_):"appendMissingElements"in d?p=new Bp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Up(d.removeAllFromArray.values||[]):"increment"in d?p=new W_(c,d.increment):ut();const y=jr.fromServerFormat(d.fieldPath);return new vC(y,p)}(n,r)):[];var r;if(t.update){const r=Ul(n,t.update.name),c=new ys({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new B_((t.updateMask.fieldPaths||[]).map(w=>jr.fromServerFormat(w)));return new jp(r,c,d,e,i)}return new bC(r,c,e,i)}if(t.delete){const r=Ul(n,t.delete);return new wC(r,e)}if(t.verify){const r=Ul(n,t.verify);return new y1(r,e)}return ut()}function kU(n,t){return{documents:[w1(n,t.path)]}}function OU(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=w1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=w1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const w=y.map(T=>function(A){if("=="===A.op){if($B(A.value))return{unaryFilter:{field:Z_(A.field),op:"IS_NAN"}};if(GB(A.value))return{unaryFilter:{field:Z_(A.field),op:"IS_NULL"}}}else if("!="===A.op){if($B(A.value))return{unaryFilter:{field:Z_(A.field),op:"IS_NOT_NAN"}};if(GB(A.value))return{unaryFilter:{field:Z_(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Z_(A.field),op:tq(A.op),value:A.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:Z_((T=w).field),direction:eq(T.dir)};var T})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=(w=t.limit,n.N||Fp(w)?w:{value:w});var w,p,y;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(p=t.startAt).inclusive,values:p.position}),t.endAt&&(e.structuredQuery.endAt={before:!(y=t.endAt).inclusive,values:y.position}),e}function PU(n){let t=AU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let c=[];e.where&&(c=NU(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(T=>{return new G_(K_((A=T).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let p=null;e.limit&&(p=function(T){let A;return A="object"==typeof T?T.value:T,Fp(A)?null:A}(e.limit));let y=null;var T;e.startAt&&(y=new rh((T=e.startAt).values||[],!!T.before));let w=null;return e.endAt&&(w=function(T){return new rh(T.values||[],!T.before)}(e.endAt)),eU(t,r,d,c,p,"F",y,w)}function NU(n){return n?void 0!==n.unaryFilter?[iq(n)]:void 0!==n.fieldFilter?[nq(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>NU(t)).reduce((t,e)=>t.concat(e)):ut():[]}function eq(n){return qz[n]}function tq(n){return Wz[n]}function Z_(n){return{fieldPath:n.canonicalString()}}function K_(n){return jr.fromServerFormat(n.fieldPath)}function nq(n){return os.create(K_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function iq(n){switch(n.unaryFilter.op){case"IS_NAN":const t=K_(n.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=K_(n.unaryFilter.field);return os.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=K_(n.unaryFilter.field);return os.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=K_(n.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function rq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function FU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=LU(t)),t=sq(n.get(e),t);return LU(t)}function sq(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const c=n.charAt(r);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function LU(n){return n+"\x01\x01"}function Ha(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const e=t-2,i=[];let r="";for(let c=0;c<t;){const d=n.indexOf("\x01",c);switch((d<0||d>e)&&ut(),n.charAt(d+1)){case"\x01":const p=n.substring(c,d);let y;0===r.length?y=p:(r+=p,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(c,d),r+="\0";break;case"\x11":r+=n.substring(c,d+1);break;default:ut()}c=d+2}return new Mn(i)}const VU=["userId","batchId"];function TI(n,t){return[n,Gr(t)]}function BU(n,t,e){return[n,Gr(t),e]}const oq={},aq=["prefixPath","collectionGroup","readTime","documentId"],lq=["prefixPath","collectionGroup","documentId"],cq=["collectionGroup","readTime","prefixPath","documentId"],uq=["canonicalId","targetId"],dq=["targetId","path"],hq=["path","targetId"],fq=["collectionId","parent"],pq=["indexId","uid"],gq=["uid","sequenceNumber"],mq=["indexId","uid","arrayValue","directionalValue","documentKey"],_q=["indexId","uid","documentKey"],yq=["userId","collectionPath","documentId"],vq=["userId","collectionPath","largestBatchId"],bq=["userId","collectionGroup","largestBatchId"],UU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wq=[...UU,"documentOverlays"],jU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cq=[...jU,"indexConfiguration","indexState","indexEntries"],HU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new be((i,r)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(i,r)},this.catchCallback=c=>{this.wrapFailure(e,c).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof be?e:be.resolve(e)}catch(e){return be.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):be.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):be.reject(e)}static resolve(t){return new be((e,i)=>{e(t)})}static reject(t){return new be((e,i)=>{i(t)})}static waitFor(t){return new be((e,i)=>{let r=0,c=0,d=!1;t.forEach(p=>{++r,p.next(()=>{++c,d&&c===r&&e()},y=>i(y))}),d=!0,c===r&&e()})}static or(t){let e=be.resolve(!1);for(const i of t)e=e.next(r=>r?be.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,c)=>{i.push(e.call(this,r,c))}),this.waitFor(i)}}class SI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Ur,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new MC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=E1(i.target.error);this.At.reject(new MC(t,r))}}static open(t,e,i,r){try{return new SI(e,t.transaction(r,i))}catch(c){throw new MC(e,c)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Dq(e)}}class Ga{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Ga.Vt((0,gn.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),Gp(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,gn.hl)())return!1;if(Ga.St())return!0;const t=(0,gn.z$)(),e=Ga.Vt(t),i=0<e&&e<10,r=Ga.Dt(t),c=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||c)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Ie.Z)(function*(){return e.db||(Ue("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const c=indexedDB.open(e.name,e.version);c.onsuccess=d=>{i(d.target.result)},c.onblocked=()=>{r(new MC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const p=d.target.error;r("VersionError"===p.name?new ke(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ke(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new MC(t,p))},c.onupgradeneeded=d=>{Ue("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.Pt.kt(d.target.result,c.transaction,d.oldVersion,e.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var c=this;return(0,Ie.Z)(function*(){const d="readonly"===e;let p=0;for(;;){++p;try{c.db=yield c.Nt(t);const y=SI.open(c.db,t,d?"readonly":"readwrite",i),w=r(y).next(T=>(y.bt(),T)).catch(T=>(y.abort(T),be.reject(T))).toPromise();return w.catch(()=>{}),yield y.Rt,w}catch(y){const w="FirebaseError"!==y.name&&p<3;if(Ue("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),c.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Eq{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Gp(this.Ft.delete())}}class MC extends ke{constructor(t,e){super(ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Hp(n){return"IndexedDbTransactionError"===n.name}class Dq{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ue("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Gp(i)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),Gp(this.store.add(t))}get(t){return Gp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ue("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),Gp(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),Gp(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),c=[];return this.Gt(r,(d,p)=>{c.push(p)}).next(()=>c)}{const r=this.store.getAll(i.range);return new be((c,d)=>{r.onerror=p=>{d(p.target.error)},r.onsuccess=p=>{c(p.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new be((r,c)=>{i.onerror=d=>{c(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Qt(t,e){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(c,d,p)=>p.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new be((i,r)=>{e.onerror=c=>{const d=E1(c.target.error);r(d)},e.onsuccess=c=>{const d=c.target.result;d?t(d.primaryKey,d.value).next(p=>{p?d.continue():i()}):i()}})}Gt(t,e){const i=[];return new be((r,c)=>{t.onerror=d=>{c(d.target.error)},t.onsuccess=d=>{const p=d.target.result;if(!p)return void r();const y=new Eq(p),w=e(p.primaryKey,p.value,y);if(w instanceof be){const T=w.catch(A=>(y.done(),be.reject(A)));i.push(T)}y.isDone?r():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>be.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Gp(n){return new be((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=E1(i.target.error);e(r)}})}let $U=!1;function E1(n){const t=Ga.Vt((0,gn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $U||($U=!0,setTimeout(()=>{throw i},0)),i}}return n}class zU extends GU{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function $r(n,t){const e=Xe(n);return Ga.xt(e.Ht,t)}class D1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const c=this.mutations[r];c.key.isEqual(t.key)&&Lz(c,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&_1(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&_1(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qn())}isEqual(t){return this.batchId===t.batchId&&V_(this.mutations,t.mutations,(e,i)=>fU(e,i))&&V_(this.baseMutations,t.baseMutations,(e,i)=>fU(e,i))}}class T1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=Hz;const c=t.mutations;for(let d=0;d<c.length;d++)r=r.insert(c[d].key,i[d].version);return new T1(t,e,i,r)}}class S1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oh{constructor(t,e,i,r,c=At.min(),d=At.min(),p=Dr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(t){return new oh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class qU{constructor(t){this.Jt=t}}function WU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:II(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:SC(r=n.Jt,(c=t).key),fields:c.data.value.mapValue.fields,updateTime:TC(r,c.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:$p(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:$p(t.version)}}var r,c;return i}function II(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function $p(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zp(n){const t=new ir(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function Q_(n,t){const e=(t.baseMutations||[]).map(c=>C1(n.Jt,c));for(let c=0;c<t.mutations.length-1;++c){const d=t.mutations[c];c+1<t.mutations.length&&void 0!==t.mutations[c+1].transform&&(d.updateTransforms=t.mutations[c+1].transform.fieldTransforms,t.mutations.splice(c+1,1),++c)}const i=t.mutations.map(c=>C1(n.Jt,c)),r=ir.fromMillis(t.localWriteTimeMs);return new D1(t.batchId,r,e,i)}function xC(n){const t=zp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?zp(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=ha($_(AU(r.documents[0])))):i=ha(PU(n.query)),new oh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Dr.fromBase64String(n.resumeToken))}function YU(n,t){const e=$p(t.snapshotVersion),i=$p(t.lastLimboFreeSnapshotVersion);let r;r=gI(t.target)?kU(n.Jt,t.target):OU(n.Jt,t.target);const c=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vp(t.target),readTime:e,resumeToken:c,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function I1(n){const t=PU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tU(t,t.limit,"L"):t}function A1(n,t){return new S1(t.largestBatchId,C1(n.Jt,t.overlayMutation))}function ZU(n,t){const e=t.path.lastSegment();return[n,Gr(t.path.popLast()),e]}class Sq{getBundleMetadata(t,e){return KU(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:zp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return KU(t).put({bundleId:(i=e).id,createTime:$p(Hr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return QU(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:I1(r.bundledQuery),readTime:zp(r.readTime)};var r})}saveNamedQuery(t,e){return QU(t).put({name:(i=e).name,readTime:$p(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function KU(n){return $r(n,"bundles")}function QU(n){return $r(n,"namedQueries")}class M1{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new M1(t,e.uid||"")}getOverlay(t,e){return RC(t).get(ZU(this.userId,e)).next(i=>i?A1(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((c,d)=>{const p=new S1(e,d);r.push(this.Xt(t,p))}),be.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(Gr(d.getCollectionPath())));const c=[];return r.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);c.push(RC(t).Qt("collectionPathOverlayIndex",p))}),be.waitFor(c)}getOverlaysForCollection(t,e,i){const r=CC(),c=Gr(e),d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return RC(t).qt("collectionPathOverlayIndex",d).next(p=>{for(const y of p){const w=A1(this.M,y);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const c=CC();let d;const p=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return RC(t).Wt({index:"collectionGroupOverlayIndex",range:p},(y,w,T)=>{const A=A1(this.M,w);c.size()<r||A.largestBatchId===d?(c.set(A.getKey(),A),d=A.largestBatchId):T.done()}).next(()=>c)}Xt(t,e){return RC(t).put(function(i,r,c){const[d,p,y]=ZU(r,c.mutation.key);return{userId:r,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:AC(i.Jt,c.mutation)}}(this.M,this.userId,e))}}function RC(n){return $r(n,"documentOverlays")}class J_{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Zi(t.integerValue));else if("doubleValue"in t){const i=Zi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),hC(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Np(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?zB(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ut()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Ye.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function Iq(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function JU(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const c=Iq(255&e[r]);if(i+=c,8!==c)break}return i}(n);return Math.ceil(t/8)}J_.fe=new J_;class Aq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=JU(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=JU(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,r,!1),new Uint8Array(c.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Mq{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class xq{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class AI{constructor(){this.De=new Aq,this.Ce=new Mq(this.De),this.xe=new xq(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ah{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ah(this.indexId,this.documentKey,this.arrayValue,i)}}function qp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=XU(n.arrayValue,t.arrayValue),0!==e?e:(e=XU(n.directionalValue,t.directionalValue),0!==e?e:Ye.comparator(n.documentKey,t.documentKey)))}function XU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Rq{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=d1(t);if(void 0!==e&&!this.Be(e))return!1;const i=H_(t);let r=0,c=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const d=i[r];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[c++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(c>=this.Me.length||!this.Ue(this.Me[c++],d))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class kq{constructor(){this.qe=new x1}addToCollectionParentIndex(t,e){return this.qe.add(e),be.resolve()}getCollectionParents(t,e){return be.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return be.resolve()}deleteFieldIndex(t,e){return be.resolve()}getDocumentsMatchingTarget(t,e){return be.resolve(null)}getFieldIndex(t,e){return be.resolve(null)}getFieldIndexes(t,e){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}updateCollectionGroup(t,e,i){return be.resolve()}updateIndexEntries(t,e){return be.resolve()}}class x1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new yi(Mn.comparator),c=!r.has(i);return this.index[e]=r.add(i),c}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new yi(Mn.comparator)).toArray()}}const MI=new Uint8Array(0);class Oq{constructor(t){this.user=t,this.Ge=new x1,this.Ke=new sh(e=>Vp(e),(e,i)=>_C(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const c={collectionId:i,parent:Gr(r)};return ej(t).put(c)}return be.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[NB(e),""],!1,!0);return ej(t).qt(r).next(c=>{for(const d of c){if(d.collectionId!==e)break;i.push(Ha(d.parent))}return i})}addFieldIndex(t,e){const i=xI(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=xI(t),r=RI(t),c=kC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=kC(t);let r=!0;const c=new Map;return be.forEach(this.Qe(e),d=>this.getFieldIndex(t,d).next(p=>{r&&(r=!!p),c.set(d,p)})).next(()=>{if(r){let d=qn();return be.forEach(c,(p,y)=>{var w;Ue("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Vp(e)}`);const T=function(ze,Ct){const it=d1(Ct);if(void 0===it)return null;for(const Gt of mI(ze,it.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(y,p),A=function(ze,Ct){const it=new Map;for(const Gt of H_(Ct))for(const Mt of mI(ze,Gt.fieldPath))switch(Mt.op){case"==":case"in":it.set(Gt.fieldPath.canonicalString(),Mt.value);break;case"not-in":case"!=":return it.set(Gt.fieldPath.canonicalString(),Mt.value),Array.from(it.values())}return null}(y,p),k=function(ze,Ct){const it=[];let Gt=!0;for(const ci of H_(Ct)){let Fi,ls=!0;for(const Zn of mI(ze,ci.fieldPath)){let ui,ga=!0;switch(Zn.op){case"<":case"<=":ui="nullValue"in(Mt=Zn.value)?jB:"booleanValue"in Mt?{booleanValue:!1}:"integerValue"in Mt||"doubleValue"in Mt?{doubleValue:NaN}:"timestampValue"in Mt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Mt?{stringValue:""}:"bytesValue"in Mt?{bytesValue:""}:"referenceValue"in Mt?j_(du.empty(),Ye.empty()):"geoPointValue"in Mt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Mt?{arrayValue:{}}:"mapValue"in Mt?{mapValue:{}}:ut();break;case"==":case"in":case">=":ui=Zn.value;break;case">":ui=Zn.value,ga=!1;break;case"!=":case"not-in":ui=jB}qB(Fi,ui)===ui&&(Fi=ui,ls=ga)}if(null!==ze.startAt)for(let Zn=0;Zn<ze.orderBy.length;++Zn)if(ze.orderBy[Zn].field.isEqual(ci.fieldPath)){const ui=ze.startAt.position[Zn];qB(Fi,ui)===ui&&(Fi=ui,ls=ze.startAt.inclusive);break}if(void 0===Fi)return null;it.push(Fi),Gt&&(Gt=ls)}var Mt;return new rh(it,Gt)}(y,p),j=function(ze,Ct){const it=[];let Gt=!0;for(const ci of H_(Ct)){let Fi,ls=!0;for(const Zn of mI(ze,ci.fieldPath)){let ui,ga=!0;switch(Zn.op){case">=":case">":ui="nullValue"in(Mt=Zn.value)?{booleanValue:!1}:"booleanValue"in Mt?{doubleValue:NaN}:"integerValue"in Mt||"doubleValue"in Mt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Mt?{stringValue:""}:"stringValue"in Mt?{bytesValue:""}:"bytesValue"in Mt?j_(du.empty(),Ye.empty()):"referenceValue"in Mt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Mt?{arrayValue:{}}:"arrayValue"in Mt?{mapValue:{}}:"mapValue"in Mt?UB:ut(),ga=!1;break;case"==":case"in":case"<=":ui=Zn.value;break;case"<":ui=Zn.value,ga=!1;break;case"!=":case"not-in":ui=UB}WB(Fi,ui)===ui&&(Fi=ui,ls=ga)}if(null!==ze.endAt)for(let Zn=0;Zn<ze.orderBy.length;++Zn)if(ze.orderBy[Zn].field.isEqual(ci.fieldPath)){const ui=ze.endAt.position[Zn];WB(Fi,ui)===ui&&(Fi=ui,ls=ze.endAt.inclusive);break}if(void 0===Fi)return null;it.push(Fi),Gt&&(Gt=ls)}var Mt;return new rh(it,Gt)}(y,p),Z=this.je(p,y,k),de=this.je(p,y,j),Ee=this.We(p,y,A),Ze=this.ze(p.indexId,T,Z,!!k&&k.inclusive,de,!!j&&j.inclusive,Ee);return be.forEach(Ze,ze=>i.Kt(ze,e.limit).next(Ct=>{Ct.forEach(it=>{d=d.add(new Ye(Ha(it.documentKey)))})}))}).next(()=>d)}return be.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,c,d,p){const y=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=c?c.length:1),w=y/(null!=e?e.length:1),T=[];for(let A=0;A<y;++A){const k=e?this.He(e[A/w]):MI,j=i?this.Je(t,k,i[A%w],r):this.Ye(t),Z=c?this.Xe(t,k,c[A%w],d):this.Ye(t+1);T.push(...this.createRange(j,Z,p.map(de=>this.Je(t,k,de,!0))))}return T}Je(t,e,i,r){const c=new ah(t,Ye.empty(),e,i);return r?c:c.ke()}Xe(t,e,i,r){const c=new ah(t,Ye.empty(),e,i);return r?c.ke():c}Ye(t){return new ah(t,Ye.empty(),MI,MI)}getFieldIndex(t,e){const i=new Rq(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(c=>{const d=c.filter(p=>i.$e(p));return d.sort((p,y)=>y.fields.length-p.fields.length),d.length>0?d[0]:null})}Ze(t,e){const i=new AI;for(const r of H_(t)){const c=e.data.field(r.fieldPath);if(null==c)return null;const d=i.Ne(r.kind);J_.fe.Zt(c,d)}return i.Se()}He(t){const e=new AI;return J_.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new AI);let c=0;for(const d of H_(t)){const p=i[c++];for(const y of r)if(this.tn(e,d.fieldPath)&&pC(p))r=this.en(r,d,p);else{const w=y.Ne(d.kind);J_.fe.Zt(p,w)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],c=[];for(const d of i.arrayValue.values||[])for(const p of r){const y=new AI;y.seed(p.Se()),J_.fe.Zt(d,y.Ne(e.kind)),c.push(y)}return c}tn(t,e){return!!t.filters.find(i=>i instanceof os&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=xI(t),r=RI(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(c=>{const d=[];return be.forEach(c,p=>r.get([p.indexId,this.uid]).next(y=>{d.push(function(w,T){const A=T?new mC(T.sequenceNumber,new hu(zp(T.readTime),new Ye(Ha(T.documentKey)),T.largestBatchId)):mC.empty(),k=w.fields.map(([j,Z])=>new pI(jr.fromServerFormat(j),Z));return new fI(w.indexId,w.collectionGroup,k,A)}(p,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const c=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==c?c:mn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=xI(t),c=RI(t);return this.sn(t).next(d=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(p=>be.forEach(p,y=>{return c.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:$p((k=i).readTime),documentKey:Gr(k.documentKey.path),largestBatchId:k.largestBatchId});var k})))}updateIndexEntries(t,e){const i=new Map;return be.forEach(e,(r,c)=>{const d=i.get(r.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),be.forEach(p,y=>this.rn(t,r,y).next(w=>{const T=this.on(c,y);return w.isEqual(T)?be.resolve():this.un(t,c,w,T)}))))})}an(t,e,i){return kC(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Gr(e.key.path)})}cn(t,e,i){return kC(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Gr(e.key.path)])}rn(t,e,i){const r=kC(t);let c=new yi(qp);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Gr(e.path)])},(d,p)=>{c=c.add(new ah(i.indexId,e,p.arrayValue,p.directionalValue))}).next(()=>c)}on(t,e){let i=new yi(qp);const r=this.Ze(e,t);if(null==r)return i;const c=d1(e);if(null!=c){const d=t.data.field(c.fieldPath);if(pC(d))for(const p of d.arrayValue.values||[])i=i.add(new ah(e.indexId,t.key,this.He(p),r))}else i=i.add(new ah(e.indexId,t.key,MI,r));return i}un(t,e,i,r){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,y,w,T){const A=d.getIterator(),k=p.getIterator();let j=Y_(A),Z=Y_(k);for(;j||Z;){let de=!1,Ee=!1;if(j&&Z){const Ze=y(j,Z);Ze<0?Ee=!0:Ze>0&&(de=!0)}else null!=j?Ee=!0:de=!0;de?(w(Z),Z=Y_(k)):Ee?(T(j),j=Y_(A)):(j=Y_(A),Z=Y_(k))}}(i,r,qp,d=>{c.push(this.an(t,e,d))},d=>{c.push(this.cn(t,e,d))}),be.waitFor(c)}sn(t){let e=1;return RI(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,c)=>{c.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,p)=>qp(d,p)).filter((d,p,y)=>!p||0!==qp(d,y[p-1]));const r=[];r.push(t);for(const d of i){const p=qp(d,t),y=qp(d,e);if(0===p)r[0]=t.ke();else if(p>0&&y<0)r.push(d),r.push(d.ke());else if(y>0)break}r.push(e);const c=[];for(let d=0;d<r.length;d+=2)c.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,""],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,""]));return c}}function ej(n){return $r(n,"collectionParents")}function kC(n){return $r(n,"indexEntries")}function xI(n){return $r(n,"indexConfiguration")}function RI(n){return $r(n,"indexState")}const tj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ro{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ro(t,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nj(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),c=[],d=IDBKeyRange.only(e.batchId);let p=0;const y=i.Wt({range:d},(T,A,k)=>(p++,k.delete()));c.push(y.next(()=>{Ut(1===p)}));const w=[];for(const T of e.mutations){const A=BU(t,T.key.path,e.batchId);c.push(r.delete(A)),w.push(T.key)}return be.waitFor(c).next(()=>w)}function kI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);class R1{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Ut(""!==t.uid);const c=t.isAuthenticated()?t.uid:"";return new R1(c,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lh(t).Wt({index:"userMutationsIndex",range:i},(r,c,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const c=X_(t),d=lh(t);return d.add({}).next(p=>{Ut("number"==typeof p);const y=new D1(p,e,i,r),w=function(k,j,Z){const de=Z.baseMutations.map(Ze=>AC(k.Jt,Ze)),Ee=Z.mutations.map(Ze=>AC(k.Jt,Ze));return{userId:j,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:de,mutations:Ee}}(this.M,this.userId,y),T=[];let A=new yi((k,j)=>mn(k.canonicalString(),j.canonicalString()));for(const k of r){const j=BU(this.userId,k.key.path,p);A=A.add(k.key.path.popLast()),T.push(d.put(w)),T.push(c.put(j,oq))}return A.forEach(k=>{T.push(this.indexManager.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(()=>{this.hn[p]=y.keys()}),be.waitFor(T).next(()=>y)})}lookupMutationBatch(t,e){return lh(t).get(e).next(i=>i?(Ut(i.userId===this.userId),Q_(this.M,i)):null)}ln(t,e){return this.hn[e]?be.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return lh(t).Wt({index:"userMutationsIndex",range:r},(d,p,y)=>{p.userId===this.userId&&(Ut(p.batchId>=i),c=Q_(this.M,p)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return lh(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,c,d)=>{i=c.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lh(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Q_(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=TI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),c=[];return X_(t).Wt({range:r},(d,p,y)=>{const[w,T,A]=d,k=Ha(T);if(w===this.userId&&e.path.isEqual(k))return lh(t).get(A).next(j=>{if(!j)throw ut();Ut(j.userId===this.userId),c.push(Q_(this.M,j))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yi(mn);const r=[];return e.forEach(c=>{const d=TI(this.userId,c.path),p=IDBKeyRange.lowerBound(d),y=X_(t).Wt({range:p},(w,T,A)=>{const[k,j,Z]=w,de=Ha(j);k===this.userId&&c.path.isEqual(de)?i=i.add(Z):A.done()});r.push(y)}),be.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,c=TI(this.userId,i),d=IDBKeyRange.lowerBound(c);let p=new yi(mn);return X_(t).Wt({range:d},(y,w,T)=>{const[A,k,j]=y,Z=Ha(k);A===this.userId&&i.isPrefixOf(Z)?Z.length===r&&(p=p.add(j)):T.done()}).next(()=>this.fn(t,p))}fn(t,e){const i=[],r=[];return e.forEach(c=>{r.push(lh(t).get(c).next(d=>{if(null===d)throw ut();Ut(d.userId===this.userId),i.push(Q_(this.M,d))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return nj(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return X_(t).Wt({range:i},(c,d,p)=>{if(c[0]===this.userId){const y=Ha(c[1]);r.push(y)}else p.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return ij(t,this.userId,e)}_n(t){return rj(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ij(n,t,e){const i=TI(t,e.path),r=i[1],c=IDBKeyRange.lowerBound(i);let d=!1;return X_(n).Wt({range:c,jt:!0},(p,y,w)=>{const[T,A,k]=p;T===t&&A===r&&(d=!0),w.done()}).next(()=>d)}function lh(n){return $r(n,"mutations")}function X_(n){return $r(n,"documentMutations")}function rj(n){return $r(n,"mutationQueues")}class Wp{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new Wp(0)}static gn(){return new Wp(-1)}}class Pq{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new Wp(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>At.fromTimestamp(new ir(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ey(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const c=[];return ey(t).Wt((d,p)=>{const y=xC(p);y.sequenceNumber<=e&&null===i.get(y.targetId)&&(r++,c.push(this.removeTargetData(t,y)))}).next(()=>be.waitFor(c)).next(()=>r)}forEachTarget(t,e){return ey(t).Wt((i,r)=>{const c=xC(r);e(c)})}yn(t){return sj(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}pn(t,e){return sj(t).put("targetGlobalKey",e)}In(t,e){return ey(t).put(YU(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Vp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return ey(t).Wt({range:r,index:"queryTargetsIndex"},(d,p,y)=>{const w=xC(p);_C(e,w.target)&&(c=w,y.done())}).next(()=>c)}addMatchingKeys(t,e,i){const r=[],c=ch(t);return e.forEach(d=>{const p=Gr(d.path);r.push(c.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(t,i,d))}),be.waitFor(r)}removeMatchingKeys(t,e,i){const r=ch(t);return be.forEach(e,c=>{const d=Gr(c.path);return be.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,c)])})}removeMatchingKeysForTargetId(t,e){const i=ch(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ch(t);let c=qn();return r.Wt({range:i,jt:!0},(d,p,y)=>{const w=Ha(d[1]),T=new Ye(w);c=c.add(T)}).next(()=>c)}containsKey(t,e){const i=Gr(e.path),r=IDBKeyRange.bound([i],[NB(i)],!1,!0);let c=0;return ch(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([d,p],y,w)=>{0!==d&&(c++,w.done())}).next(()=>c>0)}Et(t,e){return ey(t).get(e).next(i=>i?xC(i):null)}}function ey(n){return $r(n,"targets")}function sj(n){return $r(n,"targetGlobal")}function ch(n){return $r(n,"targetDocuments")}function Yp(n){return k1.apply(this,arguments)}function k1(){return(k1=(0,Ie.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==HU)throw n;Ue("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function oj([n,t],[e,i]){const r=mn(n,e);return 0===r?mn(t,i):r}class Nq{constructor(t){this.En=t,this.buffer=new yi(oj),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();oj(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Fq{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ie.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Hp(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Yp(r)}yield e.vn(t)}))}}class Lq{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return be.resolve(Oo.A);const i=new Nq(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(tj)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tj):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,c,d,p,y,w;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,d=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,p=Date.now(),this.removeTargets(t,i,e))).next(A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(w=Date.now(),o1()<=Jd.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${r} in `+(p-d)+`ms\n\tRemoved ${c} targets in `+(y-p)+`ms\n\tRemoved ${A} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:c,documentsRemoved:A})))}}class Vq{constructor(t,e){this.db=t,this.garbageCollector=new Lq(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return OI(t,i)}removeReference(t,e,i){return OI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return OI(t,e)}Mn(t,e){return function(i,r){let c=!1;return rj(i).zt(d=>ij(i,d,r).next(p=>(p&&(c=!0),be.resolve(!p)))).next(()=>c)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let c=0;return this.kn(t,(d,p)=>{if(p<=e){const y=this.Mn(t,d).next(w=>{if(!w)return c++,i.getEntry(t,d).next(()=>(i.removeEntry(d,At.min()),ch(t).delete([0,Gr(d.path)])))});r.push(y)}}).next(()=>be.waitFor(r)).next(()=>i.apply(t)).next(()=>c)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return OI(t,e)}kn(t,e){const i=ch(t);let r,c=Oo.A;return i.Wt({index:"documentTargetsIndex"},([d,p],{path:y,sequenceNumber:w})=>{0===d?(c!==Oo.A&&e(new Ye(Ha(r)),c),c=w,r=y):c=Oo.A}).next(()=>{c!==Oo.A&&e(new Ye(Ha(r)),c)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function OI(n,t){return ch(n).put((i=n.currentSequenceNumber,{targetId:0,path:Gr(t.path),sequenceNumber:i}));var i}class aj{constructor(){this.changes=new sh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_i.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?be.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Bq{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Zp(t).put(i)}removeEntry(t,e,i){return Zp(t).delete(function(r,c){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],II(c),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=_i.newInvalidDocument(e);return Zp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(OC(e))},(r,c)=>{i=this.Fn(e,c)}).next(()=>i)}$n(t,e){let i={size:0,document:_i.newInvalidDocument(e)};return Zp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(OC(e))},(r,c)=>{i={document:this.Fn(e,c),size:kI(c)}}).next(()=>i)}getEntries(t,e){let i=fa();return this.Bn(t,e,(r,c)=>{const d=this.Fn(r,c);i=i.insert(r,d)}).next(()=>i)}Ln(t,e){let i=fa(),r=new rr(Ye.comparator);return this.Bn(t,e,(c,d)=>{const p=this.Fn(c,d);i=i.insert(c,p),r=r.insert(c,kI(d))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return be.resolve();let r=new yi(uj);e.forEach(y=>r=r.add(y));const c=IDBKeyRange.bound(OC(r.first()),OC(r.last())),d=r.getIterator();let p=d.getNext();return Zp(t).Wt({index:"documentKeyIndex",range:c},(y,w,T)=>{const A=Ye.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&uj(p,A)<0;)i(p,null),p=d.getNext();p&&p.isEqual(A)&&(i(p,w),p=d.hasNext()?d.getNext():null),p?T.Ut(OC(p)):T.done()}).next(()=>{for(;p;)i(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),II(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zp(t).qt(IDBKeyRange.bound(r,c,!0)).next(d=>{let p=fa();for(const y of d){const w=this.Fn(Ye.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(t,e,i,r){let c=fa();const d=cj(e,i),p=cj(e,hu.max());return Zp(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(y,w,T)=>{const A=this.Fn(Ye.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(A.key,A),c.size===r&&T.done()}).next(()=>c)}newChangeBuffer(t){return new Uq(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return lj(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}On(t,e){return lj(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function(n,t){let e;if(t.document)e=RU(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ye.fromSegments(t.noDocument.path),r=zp(t.noDocument.readTime);e=_i.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=Ye.fromSegments(t.unknownDocument.path),r=zp(t.unknownDocument.version);e=_i.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ir(i[0],i[1]);return At.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return _i.newInvalidDocument(t)}}class Uq extends aj{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new sh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new yi((c,d)=>mn(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const p=this.Gn.get(c);if(e.push(this.qn.removeEntry(t,c,p.readTime)),d.isValidDocument()){const y=WU(this.qn.M,d);r=r.add(c.path.popLast()),i+=kI(y)-p.size,e.push(this.qn.addEntry(t,c,y))}else if(i-=p.size,this.trackRemovals){const y=WU(this.qn.M,d.convertToNoDocument(At.min()));e.push(this.qn.addEntry(t,c,y))}}),r.forEach(c=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,c))}),e.push(this.qn.updateMetadata(t,i)),be.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((c,d)=>{this.Gn.set(c,{size:d,readTime:i.get(c).readTime})}),i))}}function lj(n){return $r(n,"remoteDocumentGlobal")}function Zp(n){return $r(n,"remoteDocumentsV14")}function OC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cj(n,t){const e=t.documentKey.path.toArray();return[n,II(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function uj(n,t){const e=n.path.length-t.path.length;return 0!==e?e:Ye.comparator(n,t)}class jq{constructor(t){this.M=t}kt(t,e,i,r){const c=new SI("createOrUpgrade",e);var p;i<1&&r>=1&&(t.createObjectStore("owner"),(p=t).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VU,{unique:!0}),p.createObjectStore("documentMutations"),dj(t),function(p){p.createObjectStore("remoteDocuments")}(t));let d=be.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(t),dj(t)),d=d.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(c))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(p,y){return y.store("mutations").qt().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VU,{unique:!0});const T=y.store("mutations"),A=w.map(k=>T.put(k));return be.waitFor(A)})}(t,c))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.Kn(c))),i<6&&r>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(c)))),i<7&&r>=7&&(d=d.next(()=>this.jn(c))),i<8&&r>=8&&(d=d.next(()=>this.Wn(t,c))),i<9&&r>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.zn(c))),i<11&&r>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:yq});y.createIndex("collectionPathOverlayIndex",vq,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",bq,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:aq});y.createIndex("documentKeyIndex",lq),y.createIndex("collectionGroupIndex",cq)}(t)).next(()=>this.Hn(t,c)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:pq}).createIndex("sequenceNumberIndex",gq,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:mq}).createIndex("documentKeyIndex",_q,{unique:!1})}(t)})),d}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=kI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>be.forEach(r,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",d).next(p=>be.forEach(p,y=>{Ut(y.userId===c.userId);const w=Q_(this.M,y);return nj(t,c.userId,w).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const c=[];return i.Wt((d,p)=>{const y=new Mn(d),w=[0,Gr(y)];c.push(e.get(w).next(T=>T?be.resolve():e.put({targetId:0,path:Gr(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(c))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:fq});const i=e.store("collectionParents"),r=new x1,c=d=>{if(r.add(d)){const p=d.lastSegment(),y=d.popLast();return i.put({collectionId:p,parent:Gr(y)})}};return e.store("remoteDocuments").Wt({jt:!0},(d,p)=>{const y=new Mn(d);return c(y.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([d,p,y],w)=>{const T=Ha(p);return c(T.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const c=xC(r),d=YU(this.M,c);return e.put(d)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((c,d)=>{const p=e.store("remoteDocumentsV14"),y=(w=d,w.document?new Ye(Mn.fromString(w.document.name).popFirst(5)):w.noDocument?Ye.fromSegments(w.noDocument.path):w.unknownDocument?Ye.fromSegments(w.unknownDocument.path):ut()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(p.put(T))}).next(()=>be.waitFor(r))}}function dj(n){n.createObjectStore("targetDocuments",{keyPath:dq}).createIndex("documentTargetsIndex",hq,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uq,{unique:!0}),n.createObjectStore("targetGlobal")}const O1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class P1{constructor(t,e,i,r,c,d,p,y,w,T,A=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=c,this.window=d,this.document=p,this.Yn=w,this.Xn=T,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=k=>Promise.resolve(),!P1.vt())throw new ke(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vq(this,r),this.cs=e+"main",this.M=new qU(y),this.hs=new Ga(this.cs,this.Zn,new jq(this.M)),this.ls=new Pq(this.referenceDelegate,this.M),this.fs=new Bq(this.M),this.ds=new Sq,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ye.FAILED_PRECONDITION,O1);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new Oo(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,Ie.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,Ie.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>PI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(Hp(t))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return PC(t).get("owner").next(e=>be.resolve(this.bs(e)))}Ps(t){return PI(t).delete(this.clientId)}Vs(){var t=this;return(0,Ie.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=$r(i,"clientMetadata");return r.qt().next(c=>{const d=t.Ss(c,18e5),p=c.filter(y=>-1===d.indexOf(y));return be.forEach(p,y=>r.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?be.resolve(!0):PC(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new ke(ye.FAILED_PRECONDITION,O1);return!1}}return!(!this.networkEnabled||!this.inForeground)||PI(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,p=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&p)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ue("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ie.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new zU(e,Oo.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>PI(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return R1.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new Oq(t)}getDocumentOverlayCache(t){return M1.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){Ue("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",c=14===(d=this.Zn)?Cq:13===d?jU:12===d?wq:11===d?UU:void ut();var d;let p;return this.hs.runTransaction(t,r,c,y=>(p=new zU(y,this.ts?this.ts.next():Oo.A),"readwrite-primary"===e?this.Ts(p).next(w=>!!w||this.Es(p)).next(w=>{if(!w)throw fr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new ke(ye.FAILED_PRECONDITION,HU);return i(p)}).next(w=>this.Rs(p).next(()=>w)):this.Fs(p).next(()=>i(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Fs(t){return PC(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(ye.FAILED_PRECONDITION,O1)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return PC(t).put("owner",e)}static vt(){return Ga.vt()}As(t){const e=PC(t);return e.get("owner").next(i=>this.bs(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):be.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(fr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,gn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return Ue("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return fr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){fr("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function PC(n){return $r(n,"owner")}function PI(n){return $r(n,"clientMetadata")}function N1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Hq{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const c of i)c.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const c of e)c.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return Ye.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):p1(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new Ye(e)).next(i=>{let r=v1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let c=v1();return this.indexManager.getCollectionParents(t,r).next(d=>be.forEach(d,p=>{const y=(w=e,T=p.child(r),new fu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.Ws(t,y,i).next(w=>{w.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(c=>(r=c,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(c=>{for(const d of c)for(const p of d.mutations){const y=p.key;let w=r.get(y);null==w&&(w=_i.newInvalidDocument(y),r=r.insert(y,w)),_1(p,w,d.localWriteTime),w.isFoundDocument()||(r=r.remove(y))}}).next(()=>(r.forEach((c,d)=>{m1(e,d)||(r=r.remove(c))}),r))}}class F1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=qn(),r=qn();for(const c of e.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:r=r.add(c.doc.key)}return new F1(t,e.fromCache,i,r)}}class hj{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(c=e).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||i.isEqual(At.min())?this.Zs(t,e):this.Xs.qs(t,r).next(c=>{const d=this.ti(e,c);return(_I(e)||yI(e))&&this.ei(e.limitType,d,r,i)?this.Zs(t,e):(o1()<=Jd.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),g1(e)),this.Xs.Ks(t,e,ZB(i,-1)).next(p=>(d.forEach(y=>{p=p.insert(y.key,y)}),p)))});var c}ti(t,e){let i=new yi(rU(t));return e.forEach((r,c)=>{m1(t,c)&&(i=i.add(c))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(r)>0)}Zs(t,e){return o1()<=Jd.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",g1(e)),this.Xs.Ks(t,e,hu.min())}}class Gq{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new rr(mn),this.ii=new sh(c=>Vp(c),_C),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new Hq(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function fj(n,t,e,i){return new Gq(n,t,e,i)}function pj(n,t){return L1.apply(this,arguments)}function L1(){return(L1=(0,Ie.Z)(function*(n,t){const e=Xe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(c=>(r=c,e.ui(t),e.$s.getAllMutationBatches(i))).next(c=>{const d=[],p=[];let y=qn();for(const w of r){d.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of c){p.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return e.ai.qs(i,y).next(w=>({ci:w,removedBatchIds:d,addedBatchIds:p}))})})})).apply(this,arguments)}function $q(n,t){const e=Xe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),c=e.oi.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const T=y.batch,A=T.keys();let k=be.resolve();return A.forEach(j=>{k=k.next(()=>w.getEntry(p,j)).next(Z=>{const de=y.docVersions.get(j);Ut(null!==de),Z.version.compareTo(de)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),w.addEntry(Z)))})}),k.next(()=>d.$s.removeMutationBatch(p,T))}(e,i,t,c).next(()=>c.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function gj(n){const t=Xe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function zq(n,t){const e=Xe(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const p=[];t.targetChanges.forEach((w,T)=>{const A=r.get(T);if(!A)return;p.push(e.ls.removeMatchingKeys(c,w.removedDocuments,T).next(()=>e.ls.addMatchingKeys(c,w.addedDocuments,T)));let k=A.withSequenceNumber(c.currentSequenceNumber);var j,Z,de;t.targetMismatches.has(T)?k=k.withResumeToken(Dr.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,i)),r=r.insert(T,k),Z=k,de=w,(0===(j=A).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&p.push(e.ls.updateTargetData(c,k))});let y=fa();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(c,w))}),p.push(mj(c,d,t.documentUpdates).next(w=>{y=w})),!i.isEqual(At.min())){const w=e.ls.getLastRemoteSnapshotVersion(c).next(T=>e.ls.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(w)}return be.waitFor(p).next(()=>d.apply(c)).next(()=>e.ai.Gs(c,y)).next(()=>y)}).then(c=>(e.si=r,c))}function mj(n,t,e){let i=qn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let c=fa();return e.forEach((d,p)=>{const y=r.get(d);p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),c})}function qq(n,t){const e=Xe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function ty(n,t){const e=Xe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(c=>c?(r=c,be.resolve(r)):e.ls.allocateTargetId(i).next(d=>(r=new oh(t,d,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function ny(n,t,e){return V1.apply(this,arguments)}function V1(){return(V1=(0,Ie.Z)(function*(n,t,e){const i=Xe(n),r=i.si.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Hp(d))throw d;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.si=i.si.remove(t),i.ii.delete(r.target)})).apply(this,arguments)}function NI(n,t,e){const i=Xe(n);let r=At.min(),c=qn();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,y,w){const T=Xe(p),A=T.ii.get(w);return void 0!==A?be.resolve(T.si.get(A)):T.ls.getTargetData(y,w)}(i,d,ha(t)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(d,p.targetId).next(y=>{c=y})}).next(()=>i.ni.Ks(d,t,e?r:At.min(),e?c:qn())).next(p=>(vj(i,iU(t),p),{documents:p,hi:c})))}function _j(n,t){const e=Xe(n),i=Xe(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",c=>i.Et(c,t).next(d=>d?d.target:null))}function yj(n,t){const e=Xe(n),i=e.ri.get(t)||At.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,ZB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vj(e,t,r),r))}function vj(n,t,e){let i=At.min();e.forEach((r,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.ri.set(t,i)}function B1(){return(B1=(0,Ie.Z)(function*(n,t,e,i){const r=Xe(n);let c=qn(),d=fa();for(const w of e){const T=t.li(w.metadata.name);w.document&&(c=c.add(T));const A=t.fi(w);A.setReadTime(t.di(w.metadata.readTime)),d=d.insert(T,A)}const p=r.oi.newChangeBuffer({trackRemovals:!0}),y=yield ty(r,(w=i,ha($_(Mn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>mj(w,p,d).next(T=>(p.apply(w),T)).next(T=>r.ls.removeMatchingKeysForTargetId(w,y.targetId).next(()=>r.ls.addMatchingKeys(w,c,y.targetId)).next(()=>r.ai.Gs(w,T)).next(()=>T)))})).apply(this,arguments)}function Yq(n,t){return U1.apply(this,arguments)}function U1(){return(U1=(0,Ie.Z)(function*(n,t,e=qn()){const i=yield ty(n,ha(I1(t.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",c=>{const d=Hr(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.ds.saveNamedQuery(c,t);const p=i.withResumeToken(Dr.EMPTY_BYTE_STRING,d);return r.si=r.si.insert(p.targetId,p),r.ls.updateTargetData(c,p).next(()=>r.ls.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>r.ls.addMatchingKeys(c,e,i.targetId)).next(()=>r.ds.saveNamedQuery(c,t))})})).apply(this,arguments)}class Zq{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return be.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:Hr(i.createTime)}),be.resolve()}getNamedQuery(t,e){return be.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:I1(i.bundledQuery),readTime:Hr(i.readTime)}),be.resolve();var i}}class Kq{constructor(){this.overlays=new rr(Ye.comparator),this.mi=new Map}getOverlay(t,e){return be.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,c)=>{this.Xt(t,e,c)}),be.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(c=>this.overlays=this.overlays.remove(c)),this.mi.delete(i)),be.resolve()}getOverlaysForCollection(t,e,i){const r=CC(),c=e.length+1,d=new Ye(e.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===c&&y.largestBatchId>i&&r.set(y.getKey(),y)}return be.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let c=new rr((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let T=c.get(w.largestBatchId);null===T&&(T=CC(),c=c.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const p=CC(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>p.set(w,T)),!(p.size()>=r)););return be.resolve(p)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const d=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new S1(e,i));let c=this.mi.get(e);void 0===c&&(c=qn(),this.mi.set(e,c)),this.mi.set(e,c.add(i.key))}}class j1{constructor(){this.gi=new yi(zr.yi),this.pi=new yi(zr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new zr(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new zr(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new Ye(new Mn([])),i=new zr(e,t),r=new zr(e,t+1),c=[];return this.pi.forEachInRange([i,r],d=>{this.Ei(d),c.push(d.key)}),c}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new Ye(new Mn([])),i=new zr(e,t),r=new zr(e,t+1);let c=qn();return this.pi.forEachInRange([i,r],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new zr(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class zr{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return Ye.comparator(t.key,e.key)||mn(t.Vi,e.Vi)}static Ii(t,e){return mn(t.Vi,e.Vi)||Ye.comparator(t.key,e.key)}}class Qq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new yi(zr.yi)}checkEmpty(t){return be.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const c=this.vi;this.vi++;const d=new D1(c,e,i,r);this.$s.push(d);for(const p of r)this.Si=this.Si.add(new zr(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return be.resolve(d)}lookupMutationBatch(t,e){return be.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),c=r<0?0:r;return be.resolve(this.$s.length>c?this.$s[c]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return be.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zr(e,0),r=new zr(e,Number.POSITIVE_INFINITY),c=[];return this.Si.forEachInRange([i,r],d=>{const p=this.Di(d.Vi);c.push(p)}),be.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yi(mn);return e.forEach(r=>{const c=new zr(r,0),d=new zr(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([c,d],p=>{i=i.add(p.Vi)})}),be.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let c=i;Ye.isDocumentKey(c)||(c=c.child(""));const d=new zr(new Ye(c),0);let p=new yi(mn);return this.Si.forEachWhile(y=>{const w=y.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(p=p.add(y.Vi)),!0)},d),be.resolve(this.xi(p))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return be.forEach(e.mutations,r=>{const c=new zr(r.key,e.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new zr(e,0),r=this.Si.firstAfterOrEqual(i);return be.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return be.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class Jq{constructor(t){this.ki=t,this.docs=new rr(Ye.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),c=r?r.size:0,d=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return be.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(e))}getEntries(t,e){let i=fa();return e.forEach(r=>{const c=this.docs.get(r);i=i.insert(r,c?c.document.mutableCopy():_i.newInvalidDocument(r))}),be.resolve(i)}getAllFromCollection(t,e,i){let r=fa();const c=new Ye(e.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!e.isPrefixOf(p.path))break;p.path.length>e.length+1||wz(bz(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return be.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}Mi(t,e){return be.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Xq(this)}getSize(t){return be.resolve(this.size)}}class Xq extends aj{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),be.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class eW{constructor(t){this.persistence=t,this.Oi=new sh(e=>Vp(e),_C),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Fi=0,this.$i=new j1,this.targetCount=0,this.Bi=Wp.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),be.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new Wp(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,be.resolve()}updateTargetData(t,e){return this.In(e),be.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,e,i){let r=0;const c=[];return this.Oi.forEach((d,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.Oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),r++)}),be.waitFor(c).next(()=>r)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return be.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),be.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,c=[];return r&&e.forEach(d=>{c.push(r.markPotentiallyOrphaned(t,d))}),be.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),be.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return be.resolve(i)}containsKey(t,e){return be.resolve(this.$i.containsKey(e))}}class tW{constructor(t,e){this.Li={},this.overlays={},this.ts=new Oo(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new eW(this),this.indexManager=new kq,this.fs=new Jq(i=>this.referenceDelegate.Ui(i)),this.M=new qU(e),this.ds=new Zq(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Kq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new Qq(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){Ue("MemoryPersistence","Starting transaction:",t);const r=new nW(this.ts.next());return this.referenceDelegate.qi(),i(r).next(c=>this.referenceDelegate.Gi(r).next(()=>c)).toPromise().then(c=>(r.raiseOnCommittedEvent(),c))}Ki(t,e){return be.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class nW extends GU{constructor(t){super(),this.currentSequenceNumber=t}}class H1{constructor(t){this.persistence=t,this.Qi=new j1,this.ji=null}static Wi(t){return new H1(t)}get zi(){if(this.ji)return this.ji;throw ut()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),be.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),be.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),be.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(c=>this.zi.add(c.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.zi,i=>{const r=Ye.fromPath(i);return this.Hi(t,r).next(c=>{c||e.removeEntry(r,At.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return be.or([()=>be.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function bj(n,t){return`firestore_clients_${n}_${t}`}function wj(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function G1(n,t){return`firestore_targets_${n}_${t}`}class FI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let c,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(c=new ke(r.error.code,r.error.message))),d?new FI(t,e,r.state,c):(fr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class NC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(r=new ke(i.error.code,i.error.message))),c?new NC(t,i.state,r):(fr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class LI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,c=EI();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=BB(i.activeTargetIds[d]),c=c.add(i.activeTargetIds[d]);return r?new LI(t,c):(fr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $1{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $1(e.clientId,e.onlineState):(fr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class z1{constructor(){this.activeTargetIds=EI()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q1{constructor(t,e,i,r,c){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new rr(mn),this.started=!1,this.ir=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.rr=bj(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new z1),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const c=t.getItem(bj(t.persistenceKey,r));if(c){const d=LI.Ji(r,c);d&&(t.sr=t.sr.insert(d.clientId,d))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(G1(this.persistenceKey,t));if(i){const r=NC.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(G1(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ue("SharedClientState","READ",t,e),e}setItem(t,e){Ue("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ie.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(c){let d=Oo.A;if(null!=c)try{const p=JSON.parse(c);Ut("number"==typeof p),d=p}catch(p){fr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(i.newValue);r!==Oo.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(c=>e.syncEngine.Nr(c)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new FI(this.currentUser,t,e,i),c=wj(this.persistenceKey,this.currentUser,t);this.setItem(c,r.Yi())}pr(t){const e=wj(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=G1(this.persistenceKey,t),c=new NC(t,e,i);this.setItem(r,c.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return LI.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return FI.Ji(new ss(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return NC.Ji(r,e)}wr(t){return $1.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,Ie.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),c=this.gr(i),d=[],p=[];return c.forEach(y=>{r.has(y)||d.push(y)}),r.forEach(y=>{c.has(y)||p.push(y)}),this.syncEngine.Or(d,p).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=EI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Cj{constructor(){this.Fr=new z1,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new z1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iW{Br(t){}shutdown(){}}class Ej{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sW{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class oW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,c){const d=this.oo(t,e);Ue("RestConnection","Sending: ",d,i);const p={};return this.uo(p,r,c),this.ao(t,d,p,i).then(y=>(Ue("RestConnection","Received: ",y),y),y=>{throw cC("RestConnection",`${t} failed with error: `,y,"url: ",d,"request:",i),y})}co(t,e,i,r,c){return this.ro(t,e,i,r,c)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+L_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,c)=>t[c]=r),i&&i.headers.forEach((r,c)=>t[c]=r)}oo(t,e){return`${this.so}/v1/${e}:${rW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((c,d)=>{const p=new oz;p.listenOnce(iz.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case s1.NO_ERROR:const w=p.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(w)),c(w);break;case s1.TIMEOUT:Ue("Connection",'RPC "'+t+'" timed out'),d(new ke(ye.DEADLINE_EXCEEDED,"Request time out"));break;case s1.HTTP_ERROR:const T=p.getStatus();if(Ue("Connection",'RPC "'+t+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const A=p.getResponseJson().error;if(A&&A.status&&A.message){const k=function(j){const Z=j.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Z)>=0?Z:ye.UNKNOWN}(A.status);d(new ke(k,A.message))}else d(new ke(ye.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ke(ye.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ue("Connection",'RPC "'+t+'" completed.')}});const y=JSON.stringify(r);p.send(e,"POST",y,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=tz(),d=nz(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new sz({})),this.uo(p.initMessageHeaders,e,i),(0,gn.uI)()||(0,gn.b$)()||(0,gn.d)()||(0,gn.w1)()||(0,gn.Mn)()||(0,gn.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Ue("Connection","Creating WebChannel: "+y,p);const w=c.createWebChannel(y,p);let T=!1,A=!1;const k=new sW({jr:Z=>{A?Ue("Connection","Not sending because WebChannel is closed:",Z):(T||(Ue("Connection","Opening WebChannel transport."),w.open(),T=!0),Ue("Connection","WebChannel sending:",Z),w.send(Z))},Wr:()=>w.close()}),j=(Z,de,Ee)=>{Z.listen(de,Ze=>{try{Ee(Ze)}catch(ze){setTimeout(()=>{throw ze},0)}})};return j(w,dI.EventType.OPEN,()=>{A||Ue("Connection","WebChannel transport opened.")}),j(w,dI.EventType.CLOSE,()=>{A||(A=!0,Ue("Connection","WebChannel transport closed"),k.eo())}),j(w,dI.EventType.ERROR,Z=>{A||(A=!0,cC("Connection","WebChannel transport errored:",Z),k.eo(new ke(ye.UNAVAILABLE,"The operation could not be completed")))}),j(w,dI.EventType.MESSAGE,Z=>{var de;if(!A){const Ee=Z.data[0];Ut(!!Ee);const Ze=Ee,ze=Ze.error||(null===(de=Ze[0])||void 0===de?void 0:de.error);if(ze){Ue("Connection","WebChannel received error:",ze);const Ct=ze.status;let it=function(Mt){const ci=gr[Mt];if(void 0!==ci)return vU(ci)}(Ct),Gt=ze.message;void 0===it&&(it=ye.INTERNAL,Gt="Unknown error status: "+Ct+" with message "+ze.message),A=!0,k.eo(new ke(it,Gt)),w.close()}else Ue("Connection","WebChannel received:",Ee),k.no(Ee)}}),j(d,rz.STAT_EVENT,Z=>{Z.stat===xB.PROXY?Ue("Connection","Detected buffering proxy"):Z.stat===xB.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.Zr()},0),k}}function Dj(){return"undefined"!=typeof window?window:null}function VI(){return"undefined"!=typeof document?document:null}function FC(n){return new Yz(n,!0)}class W1{constructor(t,e,i=1e3,r=1.5,c=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Tj{constructor(t,e,i,r,c,d,p,y){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new W1(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ie.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,Ie.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,Ie.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===ye.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===ye.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new ke(ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aW extends Tj{constructor(t,e,i,r,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.M=c}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(y=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ut(),r=t.targetChange.targetIds||[],c=function(y,w){return y.N?(Ut(void 0===w||"string"==typeof w),Dr.fromBase64String(w||"")):(Ut(void 0===w||w instanceof Uint8Array),Dr.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(y){const w=void 0===y.code?ye.UNKNOWN:vU(y.code);return new ke(w,y.message||"")}(d);e=new CU(i,r,c,p||null)}else if("documentChange"in t){const i=t.documentChange,r=Ul(n,i.document.name),c=Hr(i.document.updateTime),d=new ys({mapValue:{fields:i.document.fields}}),p=_i.newFoundDocument(r,c,d);e=new DI(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=Ul(n,i.document),c=i.readTime?Hr(i.readTime):At.min(),d=_i.newNoDocument(r,c);e=new DI([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Ul(n,i.document);e=new DI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,c=new Bz(i.count||0);e=new wU(i.targetId,c)}}var y;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return At.min();const c=r.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Hr(c.readTime):At.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=IC(this.M),e.addTarget=function(r,c){let d;const p=c.target;return d=gI(p)?{documents:kU(r,p)}:{query:OU(r,p)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=SU(r,c.resumeToken):c.snapshotVersion.compareTo(At.min())>0&&(d.readTime=TC(r,c.snapshotVersion.toTimestamp())),d}(this.M,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=IC(this.M),e.removeTarget=t,this.Oo(e)}}class lW extends Tj{constructor(t,e,i,r,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.M=c,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let c=Hr(i.updateTime?i.updateTime:r);return c.isEqual(At.min())&&(c=Hr(r)),new Fz(c,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Hr(t.commitTime);return this.listener.Jo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=IC(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>AC(this.M,i))};this.Oo(e)}}class cW extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new ke(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,c])=>this.bo.ro(t,e,i,r,c)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ye.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,c])=>this.bo.co(t,e,i,r,c)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ye.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class uW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(fr(e),this.su=!1):Ue("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dW{constructor(t,e,i,r,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(p=>{i.enqueueAndForget((0,Ie.Z)(function*(){var y;uh(d)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ie.Z)(function*(w){const T=Xe(w);T.lu.add(4),yield iy(T),T._u.set("Unknown"),T.lu.delete(4),yield LC(T)}),function(w){return y.apply(this,arguments)})(d))}))}),this._u=new uW(i,r)}}function LC(n){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,Ie.Z)(function*(n){if(uh(n))for(const t of n.fu)yield t(!0)})).apply(this,arguments)}function iy(n){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,Ie.Z)(function*(n){for(const t of n.fu)yield t(!1)})).apply(this,arguments)}function BI(n,t){const e=Xe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),J1(e)?Q1(e):sy(e).Co()&&K1(e,t))}function VC(n,t){const e=Xe(n),i=sy(e);e.hu.delete(t),i.Co()&&Sj(e,t),0===e.hu.size&&(i.Co()?i.ko():uh(e)&&e._u.set("Unknown"))}function K1(n,t){n.wu.Z(t.targetId),sy(n).Qo(t)}function Sj(n,t){n.wu.Z(t),sy(n).jo(t)}function Q1(n){n.wu=new zz({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),sy(n).start(),n._u.iu()}function J1(n){return uh(n)&&!sy(n).Do()&&n.hu.size>0}function uh(n){return 0===Xe(n).lu.size}function Ij(n){n.wu=void 0}function hW(n){return X1.apply(this,arguments)}function X1(){return(X1=(0,Ie.Z)(function*(n){n.hu.forEach((t,e)=>{K1(n,t)})})).apply(this,arguments)}function fW(n,t){return eP.apply(this,arguments)}function eP(){return(eP=(0,Ie.Z)(function*(n,t){Ij(n),J1(n)?(n._u.uu(t),Q1(n)):n._u.set("Unknown")})).apply(this,arguments)}function pW(n,t,e){return tP.apply(this,arguments)}function tP(){return(tP=(0,Ie.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof CU&&2===t.state&&t.cause)try{yield(i=(0,Ie.Z)(function*(r,c){const d=c.cause;for(const p of c.targetIds)r.hu.has(p)&&(yield r.remoteSyncer.rejectListen(p,d),r.hu.delete(p),r.wu.removeTarget(p))}),function(r,c){return i.apply(this,arguments)})(n,t)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield UI(n,i)}else if(t instanceof DI?n.wu.ut(t):t instanceof wU?n.wu._t(t):n.wu.ht(t),!e.isEqual(At.min()))try{const i=yield gj(n.localStore);e.compareTo(i)>=0&&(yield function(r,c){const d=r.wu.yt(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=r.hu.get(y);w&&r.hu.set(y,w.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach(p=>{const y=r.hu.get(p);if(!y)return;r.hu.set(p,y.withResumeToken(Dr.EMPTY_BYTE_STRING,y.snapshotVersion)),Sj(r,p);const w=new oh(y.target,p,1,y.sequenceNumber);K1(r,w)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield UI(n,i)}var i})).apply(this,arguments)}function UI(n,t,e){return nP.apply(this,arguments)}function nP(){return(nP=(0,Ie.Z)(function*(n,t,e){if(!Hp(t))throw t;n.lu.add(1),yield iy(n),n._u.set("Offline"),e||(e=()=>gj(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield LC(n)}))})).apply(this,arguments)}function Aj(n,t){return t().catch(e=>UI(n,e,t))}function ry(n){return iP.apply(this,arguments)}function iP(){return(iP=(0,Ie.Z)(function*(n){const t=Xe(n),e=dh(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;gW(t);)try{const r=yield qq(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,mW(t,r)}catch(r){yield UI(t,r)}Mj(t)&&xj(t)})).apply(this,arguments)}function gW(n){return uh(n)&&n.cu.length<10}function mW(n,t){n.cu.push(t);const e=dh(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function Mj(n){return uh(n)&&!dh(n).Do()&&n.cu.length>0}function xj(n){dh(n).start()}function _W(n){return rP.apply(this,arguments)}function rP(){return(rP=(0,Ie.Z)(function*(n){dh(n).Xo()})).apply(this,arguments)}function yW(n){return sP.apply(this,arguments)}function sP(){return(sP=(0,Ie.Z)(function*(n){const t=dh(n);for(const e of n.cu)t.Ho(e.mutations)})).apply(this,arguments)}function vW(n,t,e){return oP.apply(this,arguments)}function oP(){return(oP=(0,Ie.Z)(function*(n,t,e){const i=n.cu.shift(),r=T1.from(i,t,e);yield Aj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ry(n)})).apply(this,arguments)}function bW(n,t){return aP.apply(this,arguments)}function aP(){return(aP=(0,Ie.Z)(function*(n,t){var e;t&&dh(n).zo&&(yield(e=(0,Ie.Z)(function*(i,r){if(yU(c=r.code)&&c!==ye.ABORTED){const d=i.cu.shift();dh(i).No(),yield Aj(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield ry(i)}var c}),function(i,r){return e.apply(this,arguments)})(n,t)),Mj(n)&&xj(n)})).apply(this,arguments)}function Rj(n,t){return lP.apply(this,arguments)}function lP(){return(lP=(0,Ie.Z)(function*(n,t){const e=Xe(n);e.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=uh(e);e.lu.add(3),yield iy(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield LC(e)})).apply(this,arguments)}function cP(n,t){return uP.apply(this,arguments)}function uP(){return(uP=(0,Ie.Z)(function*(n,t){const e=Xe(n);t?(e.lu.delete(2),yield LC(e)):t||(e.lu.add(2),yield iy(e),e._u.set("Unknown"))})).apply(this,arguments)}function sy(n){return n.mu||(n.mu=function(t,e,i){const r=Xe(t);return r.tu(),new aW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:hW.bind(null,n),Jr:fW.bind(null,n),Ko:pW.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.mu.No(),J1(n)?Q1(n):n._u.set("Unknown")):(yield n.mu.stop(),Ij(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function dh(n){return n.gu||(n.gu=function(t,e,i){const r=Xe(t);return r.tu(),new lW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:_W.bind(null,n),Jr:bW.bind(null,n),Yo:yW.bind(null,n),Jo:vW.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.gu.No(),yield ry(n)):(yield n.gu.stop(),n.cu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class dP{constructor(t,e,i,r,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,c){const d=Date.now()+i,p=new dP(t,e,d,r,c);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(n,t){if(fr("AsyncQueue",`${t}: ${n}`),Hp(n))return new ke(ye.UNAVAILABLE,`${t}: ${n}`);throw n}class ay{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ye.comparator(e.key,i.key):(e,i)=>Ye.comparator(e.key,i.key),this.keyedMap=v1(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new ay(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ay)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,c=i.getNext().key;if(!r.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ay;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class kj{constructor(){this.yu=new rr(Ye.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ut():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class ly{constructor(t,e,i,r,c,d,p,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(t,e,i,r){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new ly(t,e,ay.emptySet(e),c,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class wW{constructor(){this.Iu=void 0,this.listeners=[]}}class CW{constructor(){this.queries=new sh(t=>nU(t),yC),this.onlineState="Unknown",this.Tu=new Set}}function hP(n,t){return fP.apply(this,arguments)}function fP(){return(fP=(0,Ie.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1,c=e.queries.get(i);if(c||(r=!0,c=new wW),r)try{c.Iu=yield e.onListen(i)}catch(d){const p=oy(d,`Initialization of query '${g1(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,c),c.listeners.push(t),t.Eu(e.onlineState),c.Iu&&t.Au(c.Iu)&&mP(e)})).apply(this,arguments)}function pP(n,t){return gP.apply(this,arguments)}function gP(){return(gP=(0,Ie.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1;const c=e.queries.get(i);if(c){const d=c.listeners.indexOf(t);d>=0&&(c.listeners.splice(d,1),r=0===c.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function EW(n,t){const e=Xe(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const p of d.listeners)p.Au(r)&&(i=!0);d.Iu=r}}i&&mP(e)}function DW(n,t,e){const i=Xe(n),r=i.queries.get(t);if(r)for(const c of r.listeners)c.onError(e);i.queries.delete(t)}function mP(n){n.Tu.forEach(t=>{t.next()})}class _P{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new ly(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=ly.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class TW{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class Oj{constructor(t){this.M=t}li(t){return Ul(this.M,t)}fi(t){return t.metadata.exists?RU(this.M,t.document,!1):_i.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return Hr(t)}}class SW{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pj(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Mn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new Oj(this.M);for(const r of t)if(r.metadata.queries){const c=i.li(r.metadata.name);for(const d of r.metadata.queries){const p=(e.get(d)||qn()).add(c);e.set(d,p)}}return e}complete(){var t=this;return(0,Ie.Z)(function*(){const e=yield function(n,t,e,i){return B1.apply(this,arguments)}(t.localStore,new Oj(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield Yq(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function Pj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Nj{constructor(t){this.key=t}}class Fj{constructor(t){this.key=t}}class Lj{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=qn(),this.mutatedKeys=qn(),this.Lu=rU(t),this.Uu=new ay(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new kj,r=e?e.Uu:this.Uu;let c=e?e.mutatedKeys:this.mutatedKeys,d=r,p=!1;const y=_I(this.query)&&r.size===this.query.limit?r.last():null,w=yI(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,A)=>{const k=r.get(T),j=m1(this.query,A)?A:null,Z=!!k&&this.mutatedKeys.has(k.key),de=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Ee=!1;k&&j?k.data.isEqual(j.data)?Z!==de&&(i.track({type:3,doc:j}),Ee=!0):this.Qu(k,j)||(i.track({type:2,doc:j}),Ee=!0,(y&&this.Lu(j,y)>0||w&&this.Lu(j,w)<0)&&(p=!0)):!k&&j?(i.track({type:0,doc:j}),Ee=!0):k&&!j&&(i.track({type:1,doc:k}),Ee=!0,(y||w)&&(p=!0)),Ee&&(j?(d=d.add(j),c=de?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),_I(this.query)||yI(this.query))for(;d.size>this.query.limit;){const T=_I(this.query)?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),i.track({type:1,doc:T})}return{Uu:d,Ku:i,ei:p,mutatedKeys:c}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const c=t.Ku.pu();c.sort((w,T)=>function(A,k){const j=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return j(A)-j(k)}(w.type,T.type)||this.Lu(w.doc,T.doc)),this.ju(i);const d=e?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==c.length||y?{snapshot:new ly(this.query,t.Uu,r,c,t.mutatedKeys,0===p,y,!1),zu:d}:{zu:d}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new kj,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=qn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new Fj(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new Nj(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=qn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return ly.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class IW{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class AW{constructor(t){this.key=t,this.Xu=!1}}class MW{constructor(t,e,i,r,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new sh(p=>nU(p),yC),this.ea=new Map,this.na=new Set,this.sa=new rr(Ye.comparator),this.ia=new Map,this.ra=new j1,this.oa={},this.ua=new Map,this.aa=Wp.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function xW(n,t){return yP.apply(this,arguments)}function yP(){return(yP=(0,Ie.Z)(function*(n,t){const e=jP(n);let i,r;const c=e.ta.get(t);if(c)i=c.targetId,e.sharedClientState.addLocalQueryTarget(i),r=c.view.Yu();else{const d=yield ty(e.localStore,ha(t));e.isPrimaryClient&&BI(e.remoteStore,d);const p=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield vP(e,t,i,"current"===p)}return r})).apply(this,arguments)}function vP(n,t,e,i){return bP.apply(this,arguments)}function bP(){return(bP=(0,Ie.Z)(function*(n,t,e,i){n.ha=(T,A,k)=>{return(j=(0,Ie.Z)(function*(Z,de,Ee,Ze){let ze=de.view.Gu(Ee);ze.ei&&(ze=yield NI(Z.localStore,de.query,!1).then(({documents:Gt})=>de.view.Gu(Gt,ze)));const Ct=Ze&&Ze.targetChanges.get(de.targetId),it=de.view.applyChanges(ze,Z.isPrimaryClient,Ct);return xP(Z,de.targetId,it.zu),it.snapshot}),function(Z,de,Ee,Ze){return j.apply(this,arguments)})(n,T,A,k);var j};const r=yield NI(n.localStore,t,!0),c=new Lj(t,r.hi),d=c.Gu(r.documents),p=DC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),y=c.applyChanges(d,n.isPrimaryClient,p);xP(n,e,y.zu);const w=new IW(t,e,c);return n.ta.set(t,w),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),y.snapshot})).apply(this,arguments)}function RW(n,t){return wP.apply(this,arguments)}function wP(){return(wP=(0,Ie.Z)(function*(n,t){const e=Xe(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(c=>!yC(c,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ny(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),VC(e.remoteStore,i.targetId),cy(e,i.targetId)}).catch(Yp))):(cy(e,i.targetId),yield ny(e.localStore,i.targetId,!0))})).apply(this,arguments)}function CP(){return(CP=(0,Ie.Z)(function*(n,t,e){const i=HP(n);try{const r=yield function(c,d){const p=Xe(c),y=ir.now(),w=d.reduce((A,k)=>A.add(k.key),qn());let T;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>p.ai.qs(A,w).next(k=>{T=k;const j=[];for(const Z of d){const de=Vz(Z,T.get(Z.key));null!=de&&j.push(new jp(Z.key,de,YB(de.value.mapValue),pr.exists(!0)))}return p.$s.addMutationBatch(A,y,j,d)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,d,p){let y=c.oa[c.currentUser.toKey()];y||(y=new rr(mn)),y=y.insert(d,p),c.oa[c.currentUser.toKey()]=y}(i,r.batchId,e),yield pu(i,r.changes),yield ry(i.remoteStore)}catch(r){const c=oy(r,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function Vj(n,t){return EP.apply(this,arguments)}function EP(){return(EP=(0,Ie.Z)(function*(n,t){const e=Xe(n);try{const i=yield zq(e.localStore,t);t.targetChanges.forEach((r,c)=>{const d=e.ia.get(c);d&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.Xu=!0:r.modifiedDocuments.size>0?Ut(d.Xu):r.removedDocuments.size>0&&(Ut(d.Xu),d.Xu=!1))}),yield pu(e,i,t)}catch(i){yield Yp(i)}})).apply(this,arguments)}function Bj(n,t,e){const i=Xe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((c,d)=>{const p=d.view.Eu(t);p.snapshot&&r.push(p.snapshot)}),function(c,d){const p=Xe(c);p.onlineState=d;let y=!1;p.queries.forEach((w,T)=>{for(const A of T.listeners)A.Eu(d)&&(y=!0)}),y&&mP(p)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function OW(n,t,e){return DP.apply(this,arguments)}function DP(){return(DP=(0,Ie.Z)(function*(n,t,e){const i=Xe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),c=r&&r.key;if(c){let d=new rr(Ye.comparator);d=d.insert(c,_i.newNoDocument(c,At.min()));const p=qn().add(c),y=new EC(At.min(),new Map,new yi(mn),d,p);yield Vj(i,y),i.sa=i.sa.remove(c),i.ia.delete(t),RP(i)}else yield ny(i.localStore,t,!1).then(()=>cy(i,t,e)).catch(Yp)})).apply(this,arguments)}function PW(n,t){return TP.apply(this,arguments)}function TP(){return(TP=(0,Ie.Z)(function*(n,t){const e=Xe(n),i=t.batch.batchId;try{const r=yield $q(e.localStore,t);MP(e,i,null),AP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield pu(e,r)}catch(r){yield Yp(r)}})).apply(this,arguments)}function NW(n,t,e){return SP.apply(this,arguments)}function SP(){return(SP=(0,Ie.Z)(function*(n,t,e){const i=Xe(n);try{const r=yield function(c,d){const p=Xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.$s.lookupMutationBatch(y,d).next(T=>(Ut(null!==T),w=T.keys(),p.$s.removeMutationBatch(y,T))).next(()=>p.$s.performConsistencyCheck(y)).next(()=>p.ai.qs(y,w))})}(i.localStore,t);MP(i,t,e),AP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield pu(i,r)}catch(r){yield Yp(r)}})).apply(this,arguments)}function IP(){return(IP=(0,Ie.Z)(function*(n,t){const e=Xe(n);uh(e.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(c){const d=Xe(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.$s.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=oy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function AP(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function MP(n,t,e){const i=Xe(n);let r=i.oa[i.currentUser.toKey()];if(r){const c=r.get(t);c&&(e?c.reject(e):c.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function cy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||Uj(n,i)})}function Uj(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(VC(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),RP(n))}function xP(n,t,e){for(const i of e)i instanceof Nj?(n.ra.addReference(i.key,t),LW(n,i)):i instanceof Fj?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||Uj(n,i.key)):ut()}function LW(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||(Ue("SyncEngine","New document in limbo: "+e),n.na.add(i),RP(n))}function RP(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new Ye(Mn.fromString(t)),i=n.aa.next();n.ia.set(i,new AW(e)),n.sa=n.sa.insert(e,i),BI(n.remoteStore,new oh(ha($_(e.path)),i,2,Oo.A))}}function pu(n,t,e){return kP.apply(this,arguments)}function kP(){return(kP=(0,Ie.Z)(function*(n,t,e){const i=Xe(n),r=[],c=[],d=[];var p;i.ta.isEmpty()||(i.ta.forEach((p,y)=>{d.push(i.ha(y,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),r.push(w);const T=F1.Js(y.targetId,w);c.push(T)}}))}),yield Promise.all(d),i.Zu.Ko(r),yield(p=(0,Ie.Z)(function*(y,w){const T=Xe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>be.forEach(w,k=>be.forEach(k.zs,j=>T.persistence.referenceDelegate.addReference(A,k.targetId,j)).next(()=>be.forEach(k.Hs,j=>T.persistence.referenceDelegate.removeReference(A,k.targetId,j)))))}catch(A){if(!Hp(A))throw A;Ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const k=A.targetId;if(!A.fromCache){const j=T.si.get(k),de=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.si=T.si.insert(k,de)}}}),function(y,w){return p.apply(this,arguments)})(i.localStore,c))})).apply(this,arguments)}function VW(n,t){return OP.apply(this,arguments)}function OP(){return(OP=(0,Ie.Z)(function*(n,t){const e=Xe(n);if(!e.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const i=yield pj(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(d=>{d.forEach(p=>{p.reject(new ke(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield pu(e,i.ci)}var r})).apply(this,arguments)}function BW(n,t){const e=Xe(n),i=e.ia.get(t);if(i&&i.Xu)return qn().add(i.key);{let r=qn();const c=e.ea.get(t);if(!c)return r;for(const d of c){const p=e.ta.get(d);r=r.unionWith(p.view.qu)}return r}}function UW(n,t){return PP.apply(this,arguments)}function PP(){return(PP=(0,Ie.Z)(function*(n,t){const e=Xe(n),i=yield NI(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&xP(e,t.targetId,r.zu),r})).apply(this,arguments)}function jW(n,t){return NP.apply(this,arguments)}function NP(){return(NP=(0,Ie.Z)(function*(n,t){const e=Xe(n);return yj(e.localStore,t).then(i=>pu(e,i))})).apply(this,arguments)}function HW(n,t,e,i){return FP.apply(this,arguments)}function FP(){return(FP=(0,Ie.Z)(function*(n,t,e,i){const r=Xe(n),c=yield function(d,p){const y=Xe(d),w=Xe(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.ln(T,p).next(A=>A?y.ai.qs(T,A):be.resolve(null)))}(r.localStore,t);var p;null!==c?("pending"===e?yield ry(r.remoteStore):"acknowledged"===e||"rejected"===e?(MP(r,t,i||null),AP(r,t),p=t,Xe(Xe(r.localStore).$s).dn(p)):ut(),yield pu(r,c)):Ue("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function LP(){return(LP=(0,Ie.Z)(function*(n,t){const e=Xe(n);if(jP(e),HP(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield jj(e,i.toArray());e.ca=!0,yield cP(e.remoteStore,!0);for(const c of r)BI(e.remoteStore,c)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((c,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(cy(e,d),ny(e.localStore,d,!0))),VC(e.remoteStore,d)}),yield r,yield jj(e,i),function(c){const d=Xe(c);d.ia.forEach((p,y)=>{VC(d.remoteStore,y)}),d.ra.bi(),d.ia=new Map,d.sa=new rr(Ye.comparator)}(e),e.ca=!1,yield cP(e.remoteStore,!1)}})).apply(this,arguments)}function jj(n,t,e){return VP.apply(this,arguments)}function VP(){return(VP=(0,Ie.Z)(function*(n,t,e){const i=Xe(n),r=[],c=[];for(const d of t){let p;const y=i.ea.get(d);if(y&&0!==y.length){p=yield ty(i.localStore,ha(y[0]));for(const w of y){const T=i.ta.get(w),A=yield UW(i,T);A.snapshot&&c.push(A.snapshot)}}else{const w=yield _j(i.localStore,d);p=yield ty(i.localStore,w),yield vP(i,Hj(w),d,!1)}r.push(p)}return i.Zu.Ko(c),r})).apply(this,arguments)}function Hj(n){return eU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $W(n){const t=Xe(n);return Xe(Xe(t.localStore).persistence).Os()}function zW(n,t,e,i){return BP.apply(this,arguments)}function BP(){return(BP=(0,Ie.Z)(function*(n,t,e,i){const r=Xe(n);if(r.ca)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const c=r.ea.get(t);if(c&&c.length>0)switch(e){case"current":case"not-current":{const d=yield yj(r.localStore,iU(c[0])),p=EC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield pu(r,d,p);break}case"rejected":yield ny(r.localStore,t,!0),cy(r,t,i);break;default:ut()}})).apply(this,arguments)}function qW(n,t,e){return UP.apply(this,arguments)}function UP(){return(UP=(0,Ie.Z)(function*(n,t,e){const i=jP(n);if(i.ca){for(const r of t){if(i.ea.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const c=yield _j(i.localStore,r),d=yield ty(i.localStore,c);yield vP(i,Hj(c),d.targetId,!1),BI(i.remoteStore,d)}for(const r of e)i.ea.has(r)&&(yield ny(i.localStore,r,!1).then(()=>{VC(i.remoteStore,r),cy(i,r)}).catch(Yp))}})).apply(this,arguments)}function jP(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OW.bind(null,t),t.Zu.Ko=EW.bind(null,t.eventManager),t.Zu.la=DW.bind(null,t.eventManager),t}function HP(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NW.bind(null,t),t}class Gj{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ie.Z)(function*(){e.M=FC(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return fj(this.persistence,new hj,t.initialUser,this.M)}_a(t){return new tW(H1.Wi,this.M)}da(t){return new Cj}terminate(){var t=this;return(0,Ie.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class $j extends Gj{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield HP(i.ga.syncEngine),yield ry(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return fj(this.persistence,new hj,t.initialUser,this.M)}wa(t){return new Fq(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=N1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new P1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Dj(),VI(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new Cj}}class YW extends $j{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof q1&&(i.sharedClientState.syncEngine={kr:HW.bind(null,r),Mr:zW.bind(null,r),Or:qW.bind(null,r),Os:$W.bind(null,r),Nr:jW.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var c=(0,Ie.Z)(function*(d){yield function(n,t){return LP.apply(this,arguments)}(i.ga.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):d||i.gcScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}da(t){const e=Dj();if(!q1.vt(e))throw new ke(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=N1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new q1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class GP{initialize(t,e){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Bj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=VW.bind(null,i.syncEngine),yield cP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new CW}createDatastore(t){const e=FC(t.databaseInfo.databaseId),i=new oW(t.databaseInfo);return new cW(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,c=p=>Bj(this.syncEngine,p,0),d=Ej.vt()?new Ej:new iW,new dW(e,i,r,c,d);var e,i,r,c,d}createSyncEngine(t,e){return function(i,r,c,d,p,y,w){const T=new MW(i,r,c,d,p,y);return w&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ie.Z)(function*(e){const i=Xe(e);Ue("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield iy(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function zj(n,t=10240){let e=0;return{read:()=>(0,Ie.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class ZW{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new Ur,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,Ie.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,Ie.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const c=yield t.ba(r);return new TW(JSON.parse(c),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,Ie.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,Ie.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class KW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ie.Z)(function*(c,d){const p=Xe(c),y=IC(p.M)+"/documents",w={documents:d.map(j=>SC(p.M,j))},T=yield p.co("BatchGetDocuments",y,w),A=new Map;T.forEach(j=>{const Z=function(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=Ul(e,i.found.name),c=Hr(i.found.updateTime),d=new ys({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,c,d)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Ul(e,i.missing),c=Hr(i.readTime);return _i.newNoDocument(r,c)}(n,t):ut()}(p.M,j);A.set(Z.key.toString(),Z)});const k=[];return d.forEach(j=>{const Z=A.get(j.toString());Ut(!!Z),k.push(Z)}),k}),function(c,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new wC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const c=Ye.fromPath(r);t.mutations.push(new y1(c,t.precondition(c)))}),yield(i=(0,Ie.Z)(function*(r,c){const d=Xe(r),p=IC(d.M)+"/documents",y={writes:c.map(w=>AC(d.M,w))};yield d.ro("Commit",p,y)}),function(r,c){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=At.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?pr.updateTime(e):pr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(At.min()))throw new ke(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(e)}return pr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class QW{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new W1(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,Ie.Z)(function*(){const e=new KW(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(c=>{t.Ca(c)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!Fp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!yU(e)}return!1}}class JW{constructor(t,e,i,r){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ss.UNAUTHENTICATED,this.clientId=PB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ie.Z)(function*(p){Ue("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Ue("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,Ie.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=oy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function qj(n,t){return $P.apply(this,arguments)}function $P(){return($P=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ie.Z)(function*(c){i.isEqual(c)||(yield pj(t.localStore,c),i=c)});return function(c){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function Wj(n,t){return zP.apply(this,arguments)}function zP(){return(zP=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield qP(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Rj(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,c)=>Rj(t.remoteStore,c)),n.onlineComponents=t})).apply(this,arguments)}function qP(n){return WP.apply(this,arguments)}function WP(){return(WP=(0,Ie.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield qj(n,new Gj)),n.offlineComponents})).apply(this,arguments)}function HI(n){return YP.apply(this,arguments)}function YP(){return(YP=(0,Ie.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Wj(n,new GP)),n.onlineComponents})).apply(this,arguments)}function Yj(n){return qP(n).then(t=>t.persistence)}function ZP(n){return qP(n).then(t=>t.localStore)}function Zj(n){return HI(n).then(t=>t.remoteStore)}function KP(n){return HI(n).then(t=>t.syncEngine)}function uy(n){return QP.apply(this,arguments)}function QP(){return(QP=(0,Ie.Z)(function*(n){const t=yield HI(n),e=t.eventManager;return e.onListen=xW.bind(null,t.syncEngine),e.onUnlisten=RW.bind(null,t.syncEngine),e})).apply(this,arguments)}function Kj(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,c,d,p,y){const w=new jI({next:A=>{c.enqueueAndForget(()=>pP(r,T));const k=A.docs.has(d);!k&&A.fromCache?y.reject(new ke(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&"server"===p.source?y.reject(new ke(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new _P($_(d.path),w,{includeMetadataChanges:!0,Du:!0});return hP(r,T)}(yield uy(n),n.asyncQueue,t,e,i)})),i.promise}function Qj(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,c,d,p,y){const w=new jI({next:A=>{c.enqueueAndForget(()=>pP(r,T)),A.fromCache&&"server"===p.source?y.reject(new ke(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new _P(d,w,{includeMetadataChanges:!0,Du:!0});return hP(r,T)}(yield uy(n),n.asyncQueue,t,e,i)})),i.promise}const Jj=new Map;function JP(n,t,e){if(!e)throw new ke(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Xj(n,t,e,i){if(!0===t&&!0===i)throw new ke(ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function eH(n){if(!Ye.isDocumentKey(n))throw new ke(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tH(n){if(Ye.isDocumentKey(n))throw new ke(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function In(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=GI(n);throw new ke(ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function nH(n,t){if(t<=0)throw new ke(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class iH{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class BC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iH({}),this._settingsFrozen=!1,t instanceof du?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(r.options.projectId)}(t))}get app(){if(!this._app)throw new ke(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new cz;switch(e.type){case"gapi":const i=e.client;return Ut(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new fz(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Jj.get(t);e&&(Ue("ComponentProvider","Removing Datastore"),Jj.delete(t),e.terminate())}(this),Promise.resolve()}}class vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vi(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class jl extends vs{constructor(t,e,i){super(t,e,$_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vi(this.firestore,null,new Ye(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function rH(n,t,...e){if(n=(0,gn.m9)(n),JP("collection","path",t),n instanceof BC){const i=Mn.fromString(t,...e);return tH(i),new jl(n,null,i)}{if(!(n instanceof vi||n instanceof jl))throw new ke(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return tH(i),new jl(n.firestore,null,i)}}function $I(n,t,...e){if(n=(0,gn.m9)(n),1===arguments.length&&(t=PB.R()),JP("doc","path",t),n instanceof BC){const i=Mn.fromString(t,...e);return eH(i),new vi(n,null,new Ye(i))}{if(!(n instanceof vi||n instanceof jl))throw new ke(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(t,...e));return eH(i),new vi(n.firestore,n instanceof jl?n.converter:null,new Ye(i))}}function sH(n,t){return n=(0,gn.m9)(n),t=(0,gn.m9)(t),(n instanceof vi||n instanceof jl)&&(t instanceof vi||t instanceof jl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function oH(n,t){return n=(0,gn.m9)(n),t=(0,gn.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&yC(n._query,t._query)&&n.converter===t.converter}class c4{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new W1(this,"async_queue_retry"),this.Ua=()=>{const e=VI();e&&Ue("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=VI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=VI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new Ur;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,Ie.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!Hp(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,fr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=dP.createAndSchedule(this,t,e,i,c=>this.Qa(c));return this.Oa.push(r),r}qa(){this.Fa&&ut()}verifyOperationInProgress(){}ja(){var t=this;return(0,Ie.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function XP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class u4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ai extends BC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new c4,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||aH(this),this._firestoreClient.terminate()}}function mr(n){return n._firestoreClient||aH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aH(n){var t;const e=n._freezeSettings(),i=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new vz(n._databaseId,c,n._persistenceKey,(p=e).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var c,p;n._firestoreClient=new JW(n._authCredentials,n._appCheckCredentials,n._queue,i)}function lH(n,t,e){const i=new Ur;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield qj(n,e),yield Wj(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(c=r).name?c.code===ye.FAILED_PRECONDITION||c.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var c})).then(()=>i.promise)}function cH(n){if(n._initialized||n._terminated)throw new ke(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hl(Dr.fromBase64String(t))}catch(e){throw new ke(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hl(Dr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kp{constructor(t){this._methodName=t}}class zI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return mn(this._lat,t._lat)||mn(this._long,t._long)}}const b4=/^__.*__$/;class w4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new jp(t,this.data,this.fieldMask,e,this.fieldTransforms):new bC(t,this.data,e,this.fieldTransforms)}}class uH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new jp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function dH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class qI{constructor(t,e,i,r,c,d){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===c&&this.Ja(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new qI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return ZI(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(dH(this.Ya)&&b4.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class C4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||FC(t)}uc(t,e,i,r=!1){return new qI({Ya:t,methodName:e,oc:i,path:jr.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Qp(n){const t=n._freezeSettings(),e=FC(n._databaseId);return new C4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function WI(n,t,e,i,r,c={}){const d=n.uc(c.merge||c.mergeFields?2:0,t,e,r);iN("Data must be an object, but it was:",d,i);const p=pH(i,d);let y,w;if(c.merge)y=new B_(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const k=rN(t,A,e);if(!d.contains(k))throw new ke(ye.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);mH(T,k)||T.push(k)}y=new B_(T),w=d.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,w=d.fieldTransforms;return new w4(new ys(p),y,w)}class UC extends Kp{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof UC}}function hH(n,t,e){return new qI({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class eN extends Kp{_toFieldTransform(t){return new vC(t.path,new q_)}isEqual(t){return t instanceof eN}}class E4 extends Kp{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=hH(this,t,!0),i=this.ac.map(c=>Jp(c,e)),r=new Bp(i);return new vC(t.path,r)}isEqual(t){return this===t}}class D4 extends Kp{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=hH(this,t,!0),i=this.ac.map(c=>Jp(c,e)),r=new Up(i);return new vC(t.path,r)}isEqual(t){return this===t}}class T4 extends Kp{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new W_(t.M,aU(t.M,this.cc));return new vC(t.path,e)}isEqual(t){return this===t}}function tN(n,t,e,i){const r=n.uc(1,t,e);iN("Data must be an object, but it was:",r,i);const c=[],d=ys.empty();Pp(i,(y,w)=>{const T=YI(t,y,e);w=(0,gn.m9)(w);const A=r.nc(T);if(w instanceof UC)c.push(T);else{const k=Jp(w,A);null!=k&&(c.push(T),d.set(T,k))}});const p=new B_(c);return new uH(d,p,r.fieldTransforms)}function nN(n,t,e,i,r,c){const d=n.uc(1,t,e),p=[rN(t,i,e)],y=[r];if(c.length%2!=0)throw new ke(ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)p.push(rN(t,c[k])),y.push(c[k+1]);const w=[],T=ys.empty();for(let k=p.length-1;k>=0;--k)if(!mH(w,p[k])){const j=p[k];let Z=y[k];Z=(0,gn.m9)(Z);const de=d.nc(j);if(Z instanceof UC)w.push(j);else{const Ee=Jp(Z,de);null!=Ee&&(w.push(j),T.set(j,Ee))}}const A=new B_(w);return new uH(T,A,d.fieldTransforms)}function fH(n,t,e,i=!1){return Jp(e,n.uc(i?4:3,t))}function Jp(n,t){if(gH(n=(0,gn.m9)(n)))return iN("Unsupported field value:",t,n),pH(n,t);if(n instanceof Kp)return function(e,i){if(!dH(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let c=0;for(const d of e){let p=Jp(d,i.sc(c));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),c++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,gn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aU(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ir.fromDate(e);return{timestampValue:TC(i.M,r)}}if(e instanceof ir){const r=new ir(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:TC(i.M,r)}}if(e instanceof zI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hl)return{bytesValue:SU(i.M,e._byteString)};if(e instanceof vi){const r=i.databaseId,c=e.firestore._databaseId;if(!c.isEqual(r))throw i.ic(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:b1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${GI(e)}`)}(n,t)}function pH(n,t){const e={};return LB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pp(n,(i,r)=>{const c=Jp(r,t.Za(i));null!=c&&(e[i]=c)}),{mapValue:{fields:e}}}function gH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof zI||n instanceof Hl||n instanceof vi||n instanceof Kp)}function iN(n,t,e){if(!gH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=GI(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function rN(n,t,e){if((t=(0,gn.m9)(t))instanceof gu)return t._internalPath;if("string"==typeof t)return YI(n,t);throw ZI("Field path arguments must be of type string or ",n,!1,void 0,e)}const S4=new RegExp("[~\\*/\\[\\]]");function YI(n,t,e){if(t.search(S4)>=0)throw ZI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gu(...t.split("."))._internalPath}catch(i){throw ZI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ZI(n,t,e,i,r){const c=i&&!i.isEmpty(),d=void 0!==r;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${i}`),d&&(y+=` in document ${r}`),y+=")"),new ke(ye.INVALID_ARGUMENT,p+n+y)}function mH(n,t){return n.some(e=>e.isEqual(t))}class jC{constructor(t,e,i,r,c){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(KI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class I4 extends jC{data(){return super.data()}}function KI(n,t){return"string"==typeof t?YI(n,t):t instanceof gu?t._internalPath:t._delegate._internalPath}class Xp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mu extends jC{constructor(t,e,i,r,c,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new HC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(KI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class HC extends mu{data(t={}){return super.data(t)}}class hh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Xp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new HC(this._firestore,this._userDataWriter,i.key,i,new Xp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new HC(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const p=new HC(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:A4(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function A4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function _H(n,t){return n instanceof mu&&t instanceof mu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof hh&&t instanceof hh&&n._firestore===t._firestore&&oH(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function yH(n){if(yI(n)&&0===n.explicitOrderBy.length)throw new ke(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GC{}function fh(n,...t){for(const e of t)n=e._apply(n);return n}class M4 extends GC{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=Qp(t.firestore),i=function(r,c,d,p,y,w,T){let A;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ke(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){DH(T,w);const j=[];for(const Z of T)j.push(EH(p,r,Z));A={arrayValue:{values:j}}}else A=EH(p,r,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||DH(T,w),A=fH(d,"where",T,"in"===w||"not-in"===w);const k=os.create(y,w,A);return function(j,Z){if(Z.S()){const Ee=f1(j);if(null!==Ee&&!Ee.isEqual(Z.field))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${Z.field.toString()}'`);const Ze=h1(j);null!==Ze&&TH(0,Z.field,Ze)}const de=function(Ee,Ze){for(const ze of Ee.filters)if(Ze.indexOf(ze.op)>=0)return ze.op;return null}(j,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==de)throw new ke(ye.INVALID_ARGUMENT,de===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${de.toString()}' filters.`)}(r,k),k}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new vs(t.firestore,t.converter,function(r,c){const d=r.filters.concat([c]);return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class R4 extends GC{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,c){if(null!==i.startAt)throw new ke(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new G_(r,c);return function(p,y){if(null===h1(p)){const w=f1(p);null!==w&&TH(0,w,y.field)}}(i,d),d}(t._query,this.hc,this.dc);return new vs(t.firestore,t.converter,function(i,r){const c=i.explicitOrderBy.concat([r]);return new fu(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class vH extends GC{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new vs(t.firestore,t.converter,tU(t._query,this._c,this.wc))}}class bH extends GC{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=CH(t,this.type,this.mc,this.gc);return new vs(t.firestore,t.converter,(r=e,new fu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class wH extends GC{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=CH(t,this.type,this.mc,this.gc);return new vs(t.firestore,t.converter,(r=e,new fu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function CH(n,t,e,i){if(e[0]=(0,gn.m9)(e[0]),e[0]instanceof jC)return function(r,c,d,p,y){if(!p)throw new ke(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of z_(r))if(T.field.isKeyField())w.push(j_(c,p.key));else{const A=p.data.field(T.field);if(l1(A))throw new ke(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const k=T.field.canonicalString();throw new ke(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}w.push(A)}return new rh(w,y)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Qp(n.firestore);return function(c,d,p,y,w,T){const A=c.explicitOrderBy;if(w.length>A.length)throw new ke(ye.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let j=0;j<w.length;j++){const Z=w[j];if(A[j].field.isKeyField()){if("string"!=typeof Z)throw new ke(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!p1(c)&&-1!==Z.indexOf("/"))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const de=c.path.child(Mn.fromString(Z));if(!Ye.isDocumentKey(de))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const Ee=new Ye(de);k.push(j_(d,Ee))}else{const de=fH(p,y,Z);k.push(de)}}return new rh(k,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function EH(n,t,e){if("string"==typeof(e=(0,gn.m9)(e))){if(""===e)throw new ke(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(t)&&-1!==e.indexOf("/"))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Mn.fromString(e));if(!Ye.isDocumentKey(i))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return j_(n,new Ye(i))}if(e instanceof vi)return j_(n,e._key);throw new ke(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GI(e)}.`)}function DH(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(ye.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function TH(n,t,e){if(!e.isEqual(t))throw new ke(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class sN{convertValue(t,e="none"){switch(Lp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Np(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return Pp(t.fields,(r,c)=>{i[r]=this.convertValue(c,e)}),i}convertGeoPoint(t){return new zI(Zi(t.latitude),Zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=VB(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(dC(t));default:return null}}convertTimestamp(t){const e=nh(t);return new ir(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Mn.fromString(t);Ut(FU(i));const r=new du(i.get(1),i.get(3)),c=new Ye(i.popFirst(5));return r.isEqual(e)||fr(`Document ${c} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function QI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class B4 extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}class SH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Qp(t)}set(t,e,i){this._verifyNotCommitted();const r=ph(t,this._firestore),c=QI(r.converter,e,i),d=WI(this._dataReader,"WriteBatch.set",r._key,c,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,pr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const c=ph(t,this._firestore);let d;return d="string"==typeof(e=(0,gn.m9)(e))||e instanceof gu?nN(this._dataReader,"WriteBatch.update",c._key,e,i,r):tN(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,pr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=ph(t,this._firestore);return this._mutations=this._mutations.concat(new wC(e._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ph(n,t){if((n=(0,gn.m9)(n)).firestore!==t)throw new ke(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class eg extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}function IH(n,t,e){n=In(n,vi);const i=In(n.firestore,Ai),r=QI(n.converter,t,e);return dy(i,[WI(Qp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,pr.none())])}function AH(n,t,e,...i){n=In(n,vi);const r=In(n.firestore,Ai),c=Qp(r);let d;return d="string"==typeof(t=(0,gn.m9)(t))||t instanceof gu?nN(c,"updateDoc",n._key,t,e,i):tN(c,"updateDoc",n._key,t),dy(r,[d.toMutation(n._key,pr.exists(!0))])}function MH(n,...t){var e,i,r;n=(0,gn.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||XP(t[d])||(c=t[d],d++);const p={includeMetadataChanges:c.includeMetadataChanges};if(XP(t[d])){const A=t[d];t[d]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[d+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[d+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let y,w,T;if(n instanceof vi)w=In(n.firestore,Ai),T=$_(n._key.path),y={next:A=>{t[d]&&t[d](oN(w,n,A))},error:t[d+1],complete:t[d+2]};else{const A=In(n,vs);w=In(A.firestore,Ai),T=A._query;const k=new eg(w);y={next:j=>{t[d]&&t[d](new hh(w,k,A,j))},error:t[d+1],complete:t[d+2]},yH(n._query)}return function(A,k,j,Z){const de=new jI(Z),Ee=new _P(k,de,j);return A.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return hP(yield uy(A),Ee)})),()=>{de.pa(),A.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return pP(yield uy(A),Ee)}))}}(mr(w),T,p,y)}function dy(n,t){return function(e,i){const r=new Ur;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,t,e){return CP.apply(this,arguments)}(yield KP(e),i,r)})),r.promise}(mr(n),t)}function oN(n,t,e){const i=e.docs.get(t._key),r=new eg(n);return new mu(n,r,t._key,i,new Xp(e.hasPendingWrites,e.fromCache),t.converter)}class Z4 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Qp(t)}get(t){const e=ph(t,this._firestore),i=new B4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const c=r[0];if(c.isFoundDocument())return new jC(this._firestore,i,c.key,c,e.converter);if(c.isNoDocument())return new jC(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=ph(t,this._firestore),c=QI(r.converter,e,i),d=WI(this._dataReader,"Transaction.set",r._key,c,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const c=ph(t,this._firestore);let d;return d="string"==typeof(e=(0,gn.m9)(e))||e instanceof gu?nN(this._dataReader,"Transaction.update",c._key,e,i,r):tN(this._dataReader,"Transaction.update",c._key,e),this._transaction.update(c._key,d),this}delete(t){const e=ph(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ph(t,this._firestore),i=new eg(this._firestore);return super.get(t).then(r=>new mu(this._firestore,i,e._key,r._document,new Xp(!1,!1),e.converter))}}function aN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function RH(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function kH(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){L_=Ap.SDK_VERSION,(0,Ap._registerComponent)(new BS.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),c=new Ai(r,new dz(e.getProvider("auth-internal")),new pz(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),c._setSettings(i),c},"PUBLIC")),(0,Ap.registerVersion)(RB,"3.4.7",n),(0,Ap.registerVersion)(RB,"3.4.7","esm2017")}();class $C{constructor(t){this._delegate=t}static fromBase64String(t){return kH(),new $C(Hl.fromBase64String(t))}static fromUint8Array(t){return RH(),new $C(Hl.fromUint8Array(t))}toBase64(){return kH(),this._delegate.toBase64()}toUint8Array(){return RH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lN(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class s8{enableIndexedDbPersistence(t,e){return function(n,t){cH(n=In(n,Ai));const e=mr(n),i=n._freezeSettings(),r=new GP;return lH(e,r,new $j(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){cH(n=In(n,Ai));const t=mr(n),e=n._freezeSettings(),i=new GP;return lH(t,i,new YW(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new ke(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(e=(0,Ie.Z)(function*(i){if(!Ga.vt())return Promise.resolve();const r=i+"main";yield Ga.delete(r)}),function(i){return e.apply(this,arguments)})(N1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class OH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof du||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const c=(n=In(n,BC))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==t&&cC("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,p;if("string"==typeof i.mockUserToken)d=i.mockUserToken,p=ss.MOCK_USER;else{d=(0,gn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ke(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ss(y)}n._authCredentials=new uz(new kB(d,p))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield Yj(n),e=yield Zj(n);return t.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.lu.delete(0),LC(r)}(e)}))}(mr(n=In(n,Ai)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield Yj(n),e=yield Zj(n);return t.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(r){const c=Xe(r);c.lu.add(0),yield iy(c),c._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(mr(n=In(n,Ai)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Xj("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Ur;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(n,t){return IP.apply(this,arguments)}(yield KP(t),e)})),e.promise}(mr(n=In(n,Ai)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new jI(t);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield uy(n),r=e,Xe(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield uy(n),r=e,void Xe(i).Tu.delete(r);var i,r}))}}(mr(n=In(n,Ai)),XP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new hy(this,rH(this._delegate,t))}catch(e){throw Ls(e,"collection()","Firestore.collection()")}}doc(t){try{return new pa(this,$I(this._delegate,t))}catch(e){throw Ls(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Vs(this,function(n,t){if(n=In(n,BC),JP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new fu(Mn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ls(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const i=yield(r=n,HI(r).then(c=>c.datastore));var r;new QW(n.asyncQueue,i,t,e).run()})),e.promise}(mr(n=In(n,Ai)),e=>t(new Z4(n,e)))}(this._delegate,e=>t(new PH(this,e)))}batch(){return mr(this._delegate),new NH(new SH(this._delegate,t=>dy(this._delegate,t)))}loadBundle(t){return function(n,t){const e=mr(n=In(n,Ai)),i=new u4;return function(n,t,e,i){const r=function(c,d){let p;return p="string"==typeof c?(new TextEncoder).encode(c):c,y=function(y,w){if(y instanceof Uint8Array)return zj(y,w);if(y instanceof ArrayBuffer)return zj(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new ZW(y,d);var y}(e,FC(t));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(n,t,e){const i=Xe(n);var r;(r=(0,Ie.Z)(function*(c,d,p){try{const y=yield d.getMetadata();if(yield function(k,j){const Z=Xe(k),de=Hr(j.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ee=>Z.ds.getBundleMetadata(Ee,j.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(de)>=0)}(c.localStore,y))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(k=y).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);p._updateProgress(Pj(y));const w=new SW(y,c.localStore,d.M);let T=yield d.fa();for(;T;){const k=yield w.Nu(T);k&&p._updateProgress(k),T=yield d.fa()}const A=yield w.complete();return yield pu(c,A.Ou,void 0),yield function(k,j){const Z=Xe(k);return Z.persistence.runTransaction("Save bundle","readwrite",de=>Z.ds.saveBundleMetadata(de,j))}(c.localStore,y),p._completeWith(A.progress),Promise.resolve(A.Mu)}catch(y){return cC("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var k}),function(c,d,p){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield KP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(e,i){const r=Xe(e);return r.persistence.runTransaction("Get named query","readonly",c=>r.ds.getNamedQuery(c,i))}(yield ZP(n),t)}))}(mr(n=In(n,Ai)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Vs(this,e):null)}}class JI extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $C(new Hl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return pa.forKey(e,this.firestore,null)}}class PH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new JI(t)}get(t){const e=ng(t);return this._delegate.get(e).then(i=>new zC(this._firestore,new mu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=ng(t);return i?(aN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const c=ng(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,i,...r),this}delete(t){const e=ng(t);return this._delegate.delete(e),this}}class NH{constructor(t){this._delegate=t}set(t,e,i){const r=ng(t);return i?(aN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const c=ng(t);return 2===arguments.length?this._delegate.update(c,e):this._delegate.update(c,e,i,...r),this}delete(t){const e=ng(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class tg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new HC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=tg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let c=r.get(e);return c||(c=new tg(t,new JI(t),e),r.set(e,c)),c}}tg.INSTANCES=new WeakMap;class pa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new JI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new pa(e,new vi(e._delegate,i,new Ye(t)))}static forKey(t,e,i){return new pa(e,new vi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new hy(this.firestore,rH(this._delegate,t))}catch(e){throw Ls(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,gn.m9)(t))instanceof vi&&sH(this._delegate,t)}set(t,e){e=aN("DocumentReference.set",e);try{return e?IH(this._delegate,t,e):IH(this._delegate,t)}catch(i){throw Ls(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?AH(this._delegate,t):AH(this._delegate,t,e,...i)}catch(r){throw Ls(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return dy(In(n.firestore,Ai),[new wC(n._key,pr.none())])}(this._delegate)}onSnapshot(...t){const e=FH(t),i=LH(t,r=>new zC(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return MH(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=In(n,vi);const t=In(n.firestore,Ai),e=mr(t),i=new eg(t);return function(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,c,d){try{const p=yield function(y,w){const T=Xe(y);return T.persistence.runTransaction("read document","readonly",A=>T.ai.Bs(A,w))}(r,c);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new ke(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=oy(p,`Failed to get document '${c} from cache`);d.reject(y)}}),function(r,c,d){return i.apply(this,arguments)})(yield ZP(n),t,e);var i})),e.promise}(e,n._key).then(r=>new mu(t,i,n._key,r,new Xp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=In(n,vi);const t=In(n.firestore,Ai);return Kj(mr(t),n._key,{source:"server"}).then(e=>oN(t,n,e))}(this._delegate):function(n){n=In(n,vi);const t=In(n.firestore,Ai);return Kj(mr(t),n._key).then(e=>oN(t,n,e))}(this._delegate),e.then(i=>new zC(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new pa(this.firestore,this._delegate.withConverter(t?tg.getInstance(this.firestore,t):null))}}function Ls(n,t,e){return n.message=n.message.replace(t,e),n}function FH(n){for(const t of n)if("object"==typeof t&&!lN(t))return t;return{}}function LH(n,t){var e,i;let r;return r=lN(n[0])?n[0]:lN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{r.next&&r.next(t(c))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return _H(this._delegate,t._delegate)}}class qC extends zC{data(t){const e=this._delegate.data(t);return function(n,t){n||ut()}(void 0!==e),e}}class Vs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new JI(t)}where(t,e,i){try{return new Vs(this.firestore,fh(this._delegate,function(n,t,e){const i=t,r=KI("where",n);return new M4(r,i,e)}(t,e,i)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Vs(this.firestore,fh(this._delegate,function(n,t="asc"){const e=t,i=KI("orderBy",n);return new R4(i,e)}(t,e)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Vs(this.firestore,fh(this._delegate,function(n){return nH("limit",n),new vH("limit",n,"F")}(t)))}catch(e){throw Ls(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Vs(this.firestore,fh(this._delegate,function(n){return nH("limitToLast",n),new vH("limitToLast",n,"L")}(t)))}catch(e){throw Ls(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Vs(this.firestore,fh(this._delegate,function(...n){return new bH("startAt",n,!0)}(...t)))}catch(e){throw Ls(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Vs(this.firestore,fh(this._delegate,function(...n){return new bH("startAfter",n,!1)}(...t)))}catch(e){throw Ls(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Vs(this.firestore,fh(this._delegate,function(...n){return new wH("endBefore",n,!1)}(...t)))}catch(e){throw Ls(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Vs(this.firestore,fh(this._delegate,function(...n){return new wH("endAt",n,!0)}(...t)))}catch(e){throw Ls(e,"endAt()","Query.endAt()")}}isEqual(t){return oH(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=In(n,vs);const t=In(n.firestore,Ai),e=mr(t),i=new eg(t);return function(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,c,d){try{const p=yield NI(r,c,!0),y=new Lj(c,p.hi),w=y.Gu(p.documents),T=y.applyChanges(w,!1);d.resolve(T.snapshot)}catch(p){const y=oy(p,`Failed to execute query '${c} against cache`);d.reject(y)}}),function(r,c,d){return i.apply(this,arguments)})(yield ZP(n),t,e);var i})),e.promise}(e,n._query).then(r=>new hh(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=In(n,vs);const t=In(n.firestore,Ai),e=mr(t),i=new eg(t);return Qj(e,n._query,{source:"server"}).then(r=>new hh(t,i,n,r))}(this._delegate):function(n){n=In(n,vs);const t=In(n.firestore,Ai),e=mr(t),i=new eg(t);return yH(n._query),Qj(e,n._query).then(r=>new hh(t,i,n,r))}(this._delegate),e.then(i=>new cN(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=FH(t),i=LH(t,r=>new cN(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return MH(this._delegate,e,i)}withConverter(t){return new Vs(this.firestore,this._delegate.withConverter(t?tg.getInstance(this.firestore,t):null))}}class a8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new qC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new qC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new a8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new qC(this._firestore,i))})}isEqual(t){return _H(this._delegate,t._delegate)}}class hy extends Vs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new pa(this.firestore,t):null}doc(t){try{return new pa(this.firestore,void 0===t?$I(this._delegate):$I(this._delegate,t))}catch(e){throw Ls(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=In(n.firestore,Ai),i=$I(n),r=QI(n.converter,t);return dy(e,[WI(Qp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,pr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new pa(this.firestore,e))}isEqual(t){return sH(this._delegate,t._delegate)}withConverter(t){return new hy(this.firestore,this._delegate.withConverter(t?tg.getInstance(this.firestore,t):null))}}function ng(n){return In(n,vi)}class uN{constructor(...t){this._delegate=new gu(...t)}static documentId(){return new uN(jr.keyField().canonicalString())}isEqual(t){return(t=(0,gn.m9)(t))instanceof gu&&this._delegate._internalPath.isEqual(t._internalPath)}}class ig{constructor(t){this._delegate=t}static serverTimestamp(){const t=new eN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new ig(t)}static delete(){const t=new UC("deleteField");return t._methodName="FieldValue.delete",new ig(t)}static arrayUnion(...t){const e=function(...n){return new E4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ig(e)}static arrayRemove(...t){const e=function(...n){return new D4("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ig(e)}static increment(t){const e=function(n){return new T4("increment",n)}(t);return e._methodName="FieldValue.increment",new ig(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const l8={Firestore:OH,GeoPoint:zI,Timestamp:ir,Blob:$C,Transaction:PH,WriteBatch:NH,DocumentReference:pa,DocumentSnapshot:zC,Query:Vs,QueryDocumentSnapshot:qC,QuerySnapshot:cN,CollectionReference:hy,FieldPath:uN,FieldValue:ig,setLogLevel:function(n){!function(n){th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function VH(n,t){return t?zi(()=>n,t):zi(()=>n)}!function(n){(function(n,t){n.INTERNAL.registerComponent(new BS.wA("firestore-compat",e=>((t,e)=>new OH(t,e,new s8))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},l8)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.16")}(X$.Z);var dN=P(9673),XI=P(2329);const BH=new Map,g8={activated:!1,tokenObservers:[]},m8={initialized:!1,enabled:!1};function qr(n){return BH.get(n)||g8}function $a(n,t){BH.set(n,t)}function eA(){return m8}class w8{constructor(t,e,i,r,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=r,r>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ie.Z)(function*(){e.stop();try{e.pending=new gn.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new gn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Bs=new gn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jH(n){if(!qr(n).activated)throw Bs.create("use-before-activation",{appName:n.name})}function gN(n,t){return mN.apply(this,arguments)}function mN(){return(mN=(0,Ie.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const c={method:"POST",body:JSON.stringify(t),headers:i};let d,p;try{d=yield fetch(n,c)}catch(A){throw Bs.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==d.status)throw Bs.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(A){throw Bs.create("fetch-parse-error",{originalErrorMessage:A.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(y[1]),T=Date.now();return{token:p.attestationToken,expireTimeMillis:T+w,issuedAtTimeMillis:T}})).apply(this,arguments)}function I8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const WC="firebase-app-check-store";let iA=null;function GH(){return iA||(iA=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Bs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(WC,{keyPath:"compositeKey"})}}}catch(e){t(Bs.create("storage-open",{originalErrorMessage:e.message}))}}),iA)}function _N(){return(_N=(0,Ie.Z)(function*(n,t){const i=(yield GH()).transaction(WC,"readwrite"),c=i.objectStore(WC).put({compositeKey:n,value:t});return new Promise((d,p)=>{c.onsuccess=y=>{d()},i.onerror=y=>{var w;p(Bs.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const YC=new Jd.Yd("@firebase/app-check");function WH(n,t){return(0,gn.hl)()?function(n,t){return function(n,t){return _N.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{YC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function YH(){return eA().enabled}function ZH(){return wN.apply(this,arguments)}function wN(){return(wN=(0,Ie.Z)(function*(){const n=eA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const L8={error:"UNKNOWN_ERROR"};function V8(n){return gn.US.encodeString(JSON.stringify(n),!1)}function rA(n){return CN.apply(this,arguments)}function CN(){return(CN=(0,Ie.Z)(function*(n,t=!1){const e=n.app;jH(e);const i=qr(e);let c,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&sA(y)&&(r=y)}if(!t&&r&&sA(r))return{token:r.token};let p,d=!1;if(YH()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gN(I8(e,yield ZH()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),d=!0);const y=yield i.exchangeTokenPromise;return yield WH(e,y),$a(e,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),d=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?YC.warn(y.message):YC.error(y),c=y}return r?(p={token:r.token},$a(e,Object.assign(Object.assign({},i),{token:r})),yield WH(e,r)):p=U8(c),d&&QH(e,p),p})).apply(this,arguments)}function DN(n,t){const e=qr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),$a(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function KH(n){const{app:t}=n,e=qr(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new w8((0,Ie.Z)(function*(){let i;if(i=qr(t).token?yield rA(n,!0):yield rA(n),i.error)throw i.error}),()=>!0,()=>{const e=qr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$a(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function QH(n,t){const e=qr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function sA(n){return n.expireTimeMillis-Date.now()>0}function U8(n){return{token:V8(L8),error:n}}class j8{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qr(this.app);for(const e of t)DN(this.app,e.next);return Promise.resolve()}}const s3="app-check-internal";(0,Ap._registerComponent)(new BS.wA("app-check",n=>function(n,t){return new j8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(s3).initialize()})),(0,Ap._registerComponent)(new BS.wA(s3,n=>function(n){return{getToken:t=>rA(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,c=qr(r),d={next:e,error:i,type:t};if($a(r,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&sA(c.token)){const p=c.token;Promise.resolve().then(()=>{e({token:p.token}),KH(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>KH(n))}(n,"INTERNAL",t),removeTokenListener:t=>DN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ap.registerVersion)("@firebase/app-check","0.5.5");class AN{constructor(){return(0,Qn.vb)("app-check")}}"undefined"!=typeof window&&window;var oY=P(7841);const a3=new a.OlP("angularfire2.auth.use-emulator"),l3=new a.OlP("angularfire2.auth.settings"),c3=new a.OlP("angularfire2.auth.tenant-id"),u3=new a.OlP("angularfire2.auth.langugage-code"),d3=new a.OlP("angularfire2.auth.use-device-language"),h3=new a.OlP("angularfire.auth.persistence"),f3=(n,t,e,i,r,c,d,p)=>(0,ja.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=t.runOutsideAngular(()=>n.auth());if(e&&y.useEmulator(...e),i&&(y.tenantId=i),y.languageCode=r,c&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return p&&y.setPersistence(p),y},[e,i,r,c,d,p]);let p3=(()=>{class n{constructor(e,i,r,c,d,p,y,w,T,A,k,j){const Z=new at.xQ,de=(0,tt.of)(void 0).pipe((0,qf.QV)(d.outsideAngular),zi(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4828)))),(0,_t.U)(()=>(0,ja.on)(e,c,i)),(0,_t.U)(Ee=>f3(Ee,c,p,w,T,A,y,k)),Eb({bufferSize:1,refCount:!1}));if(Qa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,tt.of)(null);else{de.pipe(gi()).subscribe();const Ze=de.pipe(zi(it=>it.getRedirectResult().then(Gt=>Gt,()=>null)),Qn.iC,Eb({bufferSize:1,refCount:!1})),ze=de.pipe(zi(it=>new Bt.y(Gt=>({unsubscribe:c.runOutsideAngular(()=>it.onAuthStateChanged(Mt=>Gt.next(Mt),Mt=>Gt.error(Mt),()=>Gt.complete()))})))),Ct=de.pipe(zi(it=>new Bt.y(Gt=>({unsubscribe:c.runOutsideAngular(()=>it.onIdTokenChanged(Mt=>Gt.next(Mt),Mt=>Gt.error(Mt),()=>Gt.complete()))}))));this.authState=Ze.pipe(VH(ze),(0,dN.R)(d.outsideAngular),(0,qf.QV)(d.insideAngular)),this.user=Ze.pipe(VH(Ct),(0,dN.R)(d.outsideAngular),(0,qf.QV)(d.insideAngular)),this.idToken=this.user.pipe(zi(it=>it?(0,Yn.D)(it.getIdToken()):(0,tt.of)(null))),this.idTokenResult=this.user.pipe(zi(it=>it?(0,Yn.D)(it.getIdTokenResult()):(0,tt.of)(null))),this.credential=(0,Gc.T)(Ze,Z,this.authState.pipe(Hn(it=>!it))).pipe((0,_t.U)(it=>(null==it?void 0:it.user)?it:null),(0,dN.R)(d.outsideAngular),(0,qf.QV)(d.insideAngular))}return(0,ja.pX)(this,de,c,{spy:{apply:(Ee,Ze,ze)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&ze.then(Ct=>Z.next(Ct))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ja.Dh),a.LFG(ja.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(a3,8),a.LFG(l3,8),a.LFG(c3,8),a.LFG(u3,8),a.LFG(d3,8),a.LFG(h3,8),a.LFG(AN,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function g3(n,t){return function(n,t=ad.z){return new Bt.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function xN(n,t){return g3(n,t).pipe((0,_t.U)(e=>({payload:e,type:"query"})))}function aA(n,t){return xN(n,t).pipe(ur(void 0),zf(),(0,_t.U)(([e,i])=>{const r=i.payload.docChanges(),c=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,p)=>{const y=r.find(T=>T.doc.ref.isEqual(d.ref)),w=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),c}))}function m3(n,t,e){return aA(n,e).pipe(Ou((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return RN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return RN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return RN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(c=>c.payload),t),[]),El(),(0,_t.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function RN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function _3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class y3{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,_t.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ur(void 0),zf(),Hn(([i,r])=>r.length>0||!i),(0,_t.U)(([i,r])=>r),Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ou((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_3(t);return m3(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Qn.iC)}get(t){return(0,Yn.D)(this.query.get(t)).pipe(Qn.iC)}add(t){return this.ref.add(t)}doc(t){return new v3(this.ref.doc(t),this.afs)}}class v3{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:c}=C3(i,e);return new y3(r,c,this.afs)}snapshotChanges(){return function(n,t){return g3(n,t).pipe(ur(void 0),zf(),(0,_t.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Yn.D)(this.ref.get(t)).pipe(Qn.iC)}}class hY{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Hn(e=>e.length>0),Qn.iC):aA(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ou((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_3(t);return m3(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Qn.iC)}get(t){return(0,Yn.D)(this.query.get(t)).pipe(Qn.iC)}}const b3=new a.OlP("angularfire2.enableFirestorePersistence"),w3=new a.OlP("angularfire2.firestore.persistenceSettings"),fY=new a.OlP("angularfire2.firestore.settings"),pY=new a.OlP("angularfire2.firestore.use-emulator");function C3(n,t=(e=>e)){return{query:t(n),ref:n}}let E3=(()=>{class n{constructor(e,i,r,c,d,p,y,w,T,A,k,j,Z,de,Ee,Ze,ze){this.schedulers=y;const Ct=(0,ja.on)(e,p,i),it=T;A&&f3(Ct,p,k,Z,de,Ee,j,Ze),[this.firestore,this.persistenceEnabled$]=(0,ja.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Gt=p.runOutsideAngular(()=>Ct.firestore());if(c&&Gt.settings(c),it&&Gt.useEmulator(...it),r&&!Qa(d)){const Mt=()=>{try{return(0,Yn.D)(Gt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ci){return"undefined"!=typeof console&&console.warn(ci),(0,tt.of)(!1)}};return[Gt,p.runOutsideAngular(Mt)]}return[Gt,(0,tt.of)(!1)]},[c,it,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:d}=C3(r,i),p=this.schedulers.ngZone.run(()=>c);return new y3(p,d,this)}collectionGroup(e,i){const r=i||(d=>d),c=this.firestore.collectionGroup(e);return new hY(r(c),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new v3(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ja.Dh),a.LFG(ja.xv,8),a.LFG(b3,8),a.LFG(fY,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(w3,8),a.LFG(pY,8),a.LFG(p3,8),a.LFG(a3,8),a.LFG(l3,8),a.LFG(c3,8),a.LFG(u3,8),a.LFG(d3,8),a.LFG(h3,8),a.LFG(AN,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gY=(()=>{class n{constructor(){oY.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:b3,useValue:!0},{provide:w3,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[E3]}),n})(),D3=(()=>{class n{constructor(e){this.firestore=e,this.getTorneos()}getTorneos(){return this.firestore.collection("torneos").snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(E3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mY=(()=>{class n{constructor(e){this.service=e,this.torneos$=this.service.getTorneos().pipe((0,_t.U)(i=>i.map(r=>r.payload.doc.data())))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(D3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _Y(n,t){1&n&&a._uU(0," FIXTURE ")}function yY(n,t){1&n&&a._uU(0," POSICIONES ")}function vY(n,t){1&n&&a._uU(0," GOLEADORES ")}function bY(n,t){1&n&&a._uU(0," TARJETAS ")}function wY(n,t){1&n&&a._uU(0," CLUBES ")}const ZC=function(){return[]},EY=[{path:"",redirectTo:"torneo",pathMatch:"full"},{path:"torneo",component:(()=>{class n{constructor(e){this.service=e,this.torneos$=this.service.torneos$}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(mY))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-torneo"]],decls:21,vars:20,consts:[["backgroundColor","accent","mat-align-tabs","center",1,"tabs-group-content"],["mat-tab-label",""],[3,"torneos"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-tab-group",0),a.TgZ(1,"mat-tab"),a.YNc(2,_Y,1,0,"ng-template",1),a._UZ(3,"app-fixture",2),a.ALo(4,"async"),a.qZA(),a.TgZ(5,"mat-tab"),a.YNc(6,yY,1,0,"ng-template",1),a._UZ(7,"app-posiciones",2),a.ALo(8,"async"),a.qZA(),a.TgZ(9,"mat-tab"),a.YNc(10,vY,1,0,"ng-template",1),a._UZ(11,"app-goleadores",2),a.ALo(12,"async"),a.qZA(),a.TgZ(13,"mat-tab"),a.YNc(14,bY,1,0,"ng-template",1),a._UZ(15,"app-tarjetas",2),a.ALo(16,"async"),a.qZA(),a.TgZ(17,"mat-tab"),a.YNc(18,wY,1,0,"ng-template",1),a._UZ(19,"app-club",2),a.ALo(20,"async"),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("torneos",a.lcZ(4,5,i.torneos$)||a.DdM(15,ZC)),a.xp6(4),a.Q6J("torneos",a.lcZ(8,7,i.torneos$)||a.DdM(16,ZC)),a.xp6(4),a.Q6J("torneos",a.lcZ(12,9,i.torneos$)||a.DdM(17,ZC)),a.xp6(4),a.Q6J("torneos",a.lcZ(16,11,i.torneos$)||a.DdM(18,ZC)),a.xp6(4),a.Q6J("torneos",a.lcZ(20,13,i.torneos$)||a.DdM(19,ZC)))},directives:[Rb,Hm,jm,_$,QR,A$,j$,YT],pipes:[_h],styles:[".tabs-group-content[_ngcontent-%COMP%]{height:100%}"]}),n})()}];let DY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jy.forRoot(EY)],Jy]}),n})(),TY=(()=>{class n{constructor(e={id:null},i,r,c,d,p){if(this.config=e,this.googleTagManagerId=i,this.googleTagManagerAuth=r,this.googleTagManagerPreview=c,this.googleTagManagerResourcePath=d,this.googleTagManagerCSPNonce=p,this.isLoaded=!1,this.browserGlobals={windowRef:()=>window,documentRef:()=>document},null==this.config&&(this.config={id:null}),this.config=Object.assign(Object.assign({},this.config),{id:i||this.config.id,gtm_auth:r||this.config.gtm_auth,gtm_preview:c||this.config.gtm_preview,gtm_resource_path:d||this.config.gtm_resource_path}),null==this.config.id)throw new Error("Google tag manager ID not provided.")}getDataLayer(){const e=this.browserGlobals.windowRef();return e.dataLayer=e.dataLayer||[],e.dataLayer}pushOnDataLayer(e){this.getDataLayer().push(e)}addGtmToDom(){return new Promise((e,i)=>{if(this.isLoaded)return e(this.isLoaded);const r=this.browserGlobals.documentRef();this.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});const c=r.createElement("script");c.id="GTMscript",c.async=!0,c.src=this.applyGtmQueryParams(this.config.gtm_resource_path?this.config.gtm_resource_path:"https://www.googletagmanager.com/gtm.js"),c.addEventListener("load",()=>e(this.isLoaded=!0)),c.addEventListener("error",()=>i(!1)),this.googleTagManagerCSPNonce&&c.setAttribute("nonce",this.googleTagManagerCSPNonce),r.head.insertBefore(c,r.head.firstChild)})}pushTag(e){return new Promise((i,r)=>{if(this.isLoaded)return this.pushOnDataLayer(e),i();this.addGtmToDom().then(()=>(this.pushOnDataLayer(e),i())).catch(()=>r())})}applyGtmQueryParams(e){return-1===e.indexOf("?")&&(e+="?"),e+Object.keys(this.config).filter(i=>this.config[i]).map(i=>`${i}=${this.config[i]}`).join("&")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG("googleTagManagerConfig",8),a.LFG("googleTagManagerId",8),a.LFG("googleTagManagerAuth",8),a.LFG("googleTagManagerPreview",8),a.LFG("googleTagManagerResourcePath",8),a.LFG("googleTagManagerCSPNonce",8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SY=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:"googleTagManagerConfig",useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const T3=["mat-button",""],S3=["*"],AY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],MY=Uf(sa(Bc(class{constructor(n){this._elementRef=n}})));let A3=(()=>{class n extends MY{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of AY)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(hs),a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(oa,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:T3,ngContentSelectors:S3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[oa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[bd,bn],bn]}),n})();function M3(n){return t=>t.lift(new RY(n))}class RY{constructor(t){this.value=t}call(t,e){return e.subscribe(new kY(t,this.value))}}class kY extends $i.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const lA=["*"];function OY(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function PY(n,t){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const NY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],FY=["mat-drawer","mat-drawer-content","*"];function LY(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function VY(n,t){1&n&&(a.TgZ(0,"mat-sidenav-content",3),a.Hsn(1,2),a.qZA())}const BY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],UY=["mat-sidenav","mat-sidenav-content","*"],x3=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",R3={transformDrawer:ta("transform",[Fr("open, open-instant",Ei({transform:"none",visibility:"visible"})),Fr("void",Ei({"box-shadow":"none",visibility:"hidden"})),na("void => open-instant",ps("0ms")),na("void <=> open, open-instant => void",ps("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},jY=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),kN=new a.OlP("MAT_DRAWER_CONTAINER");let cA=(()=>{class n extends la{constructor(e,i,r,c,d){super(r,c,d),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>O3)),a.Y36(a.SBq),a.Y36(Td),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:lA,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),k3=(()=>{class n{constructor(e,i,r,c,d,p,y){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=c,this._ngZone=d,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new at.xQ,this._animationEnd=new at.xQ,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(Hn(w=>w),(0,_t.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Hn(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),M3(void 0)),this._closedStream=this.openedChange.pipe(Hn(w=>!w),(0,_t.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Hn(w=>w.fromState!==w.toState&&"void"===w.toState),M3(void 0)),this._destroyed=new at.xQ,this.onPositionChanged=new a.vpe,this._modeChanged=new at.xQ,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Dd(this._elementRef.nativeElement,"keydown").pipe(Hn(w=>27===w.keyCode&&!this.disableClose&&!Do(w)),Vn(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe(El((w,T)=>w.fromState===T.fromState&&w.toState===T.toState)).subscribe(w=>{const{fromState:T,toState:A}=w;(0===A.indexOf("open")&&"void"===T||"void"===A&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=on(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=on(e)}get opened(){return this._opened}set opened(e){this.toggle(on(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,i){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),i)}_setOpen(e,i,r="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=r):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(Ts(1)).subscribe(d=>c(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(wf),a.Y36(hs),a.Y36(Sn),a.Y36(a.R0b),a.Y36(te,8),a.Y36(kN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&a.WFA("@transform.start",function(c){return i._animationStartListener(c)})("@transform.done",function(c){return i._animationDoneListener(c)}),2&e&&(a.uIk("align",null),a.d8E("@transform",i._animationState),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:lA,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[la],encapsulation:2,data:{animation:[R3.transformDrawer]},changeDetection:0}),n})(),O3=(()=>{class n{constructor(e,i,r,c,d,p=!1,y){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=c,this._animationMode=y,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new at.xQ,this._doCheckSubject=new at.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new at.xQ,e&&e.change.pipe(Vn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(Vn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=on(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:on(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ur(this._allDrawers),Vn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ur(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Xg(10),Vn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Hn(i=>i.fromState!==i.toState),Vn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Vn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Vn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ts(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Vn((0,Gc.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(An,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(to),a.Y36(jY),a.Y36(Ti,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,cA,5),a.Suo(r,k3,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._content=c.first),a.iGM(c=a.CRH())&&(i._allDrawers=c)}},viewQuery:function(e,i){if(1&e&&a.Gf(cA,5),2&e){let r;a.iGM(r=a.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:kN,useExisting:n}])],ngContentSelectors:FY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(a.F$t(NY),a.YNc(0,OY,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,PY,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},directives:[Ji,cA],styles:[x3],encapsulation:2,changeDetection:0}),n})(),P3=(()=>{class n extends cA{constructor(e,i,r,c,d){super(e,i,r,c,d)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>F3)),a.Y36(a.SBq),a.Y36(Td),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&a.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:lA,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),N3=(()=>{class n extends k3{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=on(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=wr(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=wr(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(a.uIk("align",null),a.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:lA,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[la],encapsulation:2,data:{animation:[R3.transformDrawer]},changeDetection:0}),n})(),F3=(()=>{class n extends O3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,P3,5),a.Suo(r,N3,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._content=c.first),a.iGM(c=a.CRH())&&(i._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:kN,useExisting:n}]),a.qOj],ngContentSelectors:UY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(a.F$t(BY),a.YNc(0,LY,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,VY,2,0,"mat-sidenav-content",1)),2&e&&(a.Q6J("ngIf",i.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!i._content))},directives:[Ji,P3,la],styles:[x3],encapsulation:2,changeDetection:0}),n})(),GY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[fi,bn,ld,Sb],Sb,bn]}),n})();const $Y=function(){return["/torneo"]};let zY=(()=>{class n{constructor(e,i){this.gtmService=e,this.router=i,this.gtmService.addGtmToDom()}ngOnInit(){this.router.events.forEach(e=>{e instanceof cl&&this.gtmService.pushTag({event:"page",pageName:e.url})})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(TY),a.Y36(Nr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:18,vars:3,consts:[["color","accent",1,"md-hue-2"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"small-content"],[1,"sidenav-content"],["mode","over"],["sidenav",""],[3,"multiple"],[3,"routerLink"],[1,"items"],[1,"icons"]],template:function(e,i){if(1&e){const r=a.EpF();a.TgZ(0,"mat-toolbar",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return a.CHM(r),a.MAs(10).toggle()}),a.TgZ(2,"mat-icon"),a._uU(3,"menu"),a.qZA(),a.qZA(),a._uU(4," La liga de las colonias\n"),a.qZA(),a.TgZ(5,"div",2),a.TgZ(6,"small"),a._uU(7,"Sitio no oficial de La liga de las Colonias"),a.qZA(),a.qZA(),a.TgZ(8,"mat-sidenav-container",3),a.TgZ(9,"mat-sidenav",4,5),a.TgZ(11,"mat-selection-list",6),a.TgZ(12,"mat-list-option",7),a.TgZ(13,"p",8),a.TgZ(14,"mat-icon",9),a._uU(15,"emoji_events"),a.qZA(),a._uU(16," 2022 "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(17,"router-outlet"),a.qZA()}2&e&&(a.xp6(11),a.Q6J("multiple",!1),a.xp6(1),a.Q6J("routerLink",a.DdM(2,$Y)))},directives:[PD,A3,cw,F3,N3,fO,h2,gf,rd],styles:[".items[_ngcontent-%COMP%]{display:flex;align-items:center}.icons[_ngcontent-%COMP%]{margin-right:10px}.small-content[_ngcontent-%COMP%]{text-align:center;background-color:bisque}.sidenav-content[_ngcontent-%COMP%]{height:100%}"]}),n})();const L3_firebase={projectId:"liga-de-futbol-ac42e",appId:"1:548165524103:web:bf93a0505aafe80c2a3622",storageBucket:"liga-de-futbol-ac42e.appspot.com",apiKey:"AIzaSyAYyKKVSCkTLWm8EaejzlDoAla_OIY1WQE",authDomain:"liga-de-futbol-ac42e.firebaseapp.com",messagingSenderId:"548165524103",measurementId:"G-GGEL229D8Y"};class WY{constructor(t,e,i,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=i,this.subjectSelector=r}call(t,e){return e.subscribe(new YY(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class YY extends $i.L{constructor(t,e,i,r,c){super(t),this.keySelector=e,this.elementSelector=i,this.durationSelector=r,this.subjectSelector=c,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(i){return void this.error(i)}this._group(t,e)}_group(t,e){let i=this.groups;i||(i=this.groups=new Map);let c,r=i.get(e);if(this.elementSelector)try{c=this.elementSelector(t)}catch(d){this.error(d)}else c=t;if(!r){r=this.subjectSelector?this.subjectSelector():new at.xQ,i.set(e,r);const d=new V3(e,r,this);if(this.destination.next(d),this.durationSelector){let p;try{p=this.durationSelector(new V3(e,r))}catch(y){return void this.error(y)}this.add(p.subscribe(new ZY(e,r,this)))}}r.closed||r.next(c)}_error(t){const e=this.groups;e&&(e.forEach((i,r)=>{i.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((e,i)=>{e.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class ZY extends $i.L{constructor(t,e,i){super(e),this.key=t,this.group=e,this.parent=i}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class V3 extends Bt.y{constructor(t,e,i){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=i}_subscribe(t){const e=new Oi.w,{refCountSubscription:i,groupSubject:r}=this;return i&&!i.closed&&e.add(new KY(i)),e.add(r.subscribe(t)),e}}class KY extends Oi.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var H3=P(4867),eZ=P(7415);function tZ(n){return new Bt.y(function(t){return{unsubscribe:(0,eZ.t)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class dA{constructor(t){return t}}const aZ=(0,Qn.u3)(tZ,!0);class KC{constructor(t){return t}}const z3=Qn.nk.async,cZ=(0,Qn.u3)(H3.Kz,!0),uZ=(0,Qn.u3)(H3.Iv,!0);let q3=(()=>{class n{constructor(e,i,r){let c;this.disposables=[],(0,XI.KN)("angularfire",Qn.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(d=>{c=d})),z3().then(()=>{const d=r.get(KC);d?this.disposables=[aZ(e).subscribe(p=>{uZ(d,null==p?void 0:p.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dA),a.LFG(a.R0b),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const W3="firebase_screen_id",NN="outlet",QC="screen_class",Y3="screen_name";let CZ=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const FN={},EZ=n=>{const t=[n[QC],n[NN]].join("#");if(FN.hasOwnProperty(t))return FN[t];{const e=CZ++;return FN[t]=e,e}};let TZ=(()=>{class n{constructor(e,i,r,c,d,p){(0,XI.KN)("angularfire",Qn.q4.full,"screen-tracking"),z3().then(()=>{const y=p.get(KC);!e||!y||c.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(Hn(r=>r instanceof Lu)).pipe(zi(r=>{var c;const p=(null===(c=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,j=>j.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===c?void 0:c.toString())||"",y=n.routerState.root.children.map(j=>j).find(j=>j.outlet===r.snapshot.outlet);if(!y)return(0,tt.of)(null);let w=y;for(;w.firstChild;)w=w.firstChild;const T=w.pathFromRoot.map(j=>{var Z;return null===(Z=j.routeConfig)||void 0===Z?void 0:Z.path}).filter(j=>j).join("/")||"/",A={[Y3]:T,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:T,[NN]:r.snapshot.outlet};t&&(A.page_title=t.getTitle());let k=y.component;if(k){if(k===dr){let j=r.snapshot;for(;j.firstChild;)j=j.firstChild;k=j.component}}else k=r.snapshot.component;if("string"==typeof k)return(0,tt.of)(Object.assign(Object.assign({},A),{[QC]:k}));if(k){const j=e.resolveComponentFactory(k);return(0,tt.of)(Object.assign(Object.assign({},A),{[QC]:j.selector}))}return(0,tt.of)(null)}),Hn(r=>!!r),(0,_t.U)(r=>Object.assign({firebase_screen_class:r[QC],[W3]:EZ(r)},r)),function(n,t,e,i){return r=>r.lift(new WY(n,void 0,void 0,void 0))}(r=>r[NN]),(0,Ri.zg)(r=>r.pipe(El((c,d)=>JSON.stringify(c)===JSON.stringify(d)),ur(void 0),zf(),(0,_t.U)(([c,d])=>c?Object.assign({firebase_previous_class:c[QC],firebase_previous_screen:c[Y3],firebase_previous_id:c[W3]},d):d)))))(e,i,r).pipe(zi(w=>function(n,t,e,i){return new(e||(e=Promise))(function(c,d){function p(T){try{w(i.next(T))}catch(A){d(A)}}function y(T){try{w(i.throw(T))}catch(A){d(A)}}function w(T){T.done?c(T.value):function(c){return c instanceof e?c:new e(function(d){d(c)})}(T.value).then(p,y)}w((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){return d&&(yield d.initialized),cZ(y,"screen_view",w)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Nr,8),a.LFG(Fh,8),a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(q3,8),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const MZ=[ND,Bd,xY,Ld,zm,GY,Rl,f2];let xZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[zY]}),n.\u0275inj=a.cJS({providers:[TZ,q3,D3,y_],imports:[[SY.forRoot({id:"GTM-K5V4FJV"}),Ph,DY,wD,jd,pk,v$,x$,G$,ja.hO.initializeApp(L3_firebase),gY,MZ]]}),n})();(0,a.G48)(),ic().bootstrapModule(xZ).catch(n=>console.error(n))},3394:(st,Te,P)=>{"use strict";P.d(Te,{Z:()=>Ae});var a=P(3854),z=P(3910),L=P(8026),oe=P(5422);class ue{constructor(Ve,_e){this._delegate=Ve,this.firebase=_e,(0,L._addComponent)(Ve,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ve,_e=L._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(Ve);return!et.isInitialized()&&"EXPLICIT"===(null===(Fe=et.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&et.initialize(),et.getImmediate({identifier:_e})}_removeServiceInstance(Ve,_e=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(_e)}_addComponent(Ve){(0,L._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,L._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ee(){const ve=function(ve){const Ve={},_e={__esModule:!0,initializeApp:function(ct,Cn={}){const xt=L.initializeApp(ct,Cn);if((0,a.r3)(Ve,xt.name))return Ve[xt.name];const vt=new ve(xt,_e);return Ve[xt.name]=vt,vt},app:et,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(ct){const Cn=ct.name,xt=Cn.replace("-compat","");if(L._registerComponent(ct)&&"PUBLIC"===ct.type){const vt=(jt=et())=>{if("function"!=typeof jt[xt])throw te.create("invalid-app-argument",{appName:Cn});return jt[xt]()};void 0!==ct.serviceProps&&(0,a.ZB)(vt,ct.serviceProps),_e[xt]=vt,ve.prototype[xt]=function(...jt){return this._getService.bind(this,Cn).apply(this,ct.multipleInstances?jt:[])}}return"PUBLIC"===ct.type?_e[xt]:null},removeApp:function(ct){delete Ve[ct]},useAsService:function(ct,Cn){return"serverAuth"===Cn?null:Cn},modularAPIs:L}};function et(ct){if(!(0,a.r3)(Ve,ct=ct||L._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:ct});return Ve[ct]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(Ve).map(ct=>Ve[ct])}}),et.App=ve,_e}(ue);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function(_e){(0,a.ZB)(ve,_e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ve}(),W=new oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=B;(0,L.registerVersion)("@firebase/app-compat","0.1.21",undefined)},8026:(st,Te,P)=>{"use strict";P.r(Te),P.d(Te,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Jn,_DEFAULT_ENTRY_NAME:()=>di,_addComponent:()=>bs,_addOrOverwriteComponent:()=>ws,_apps:()=>_n,_clearComponents:()=>en,_components:()=>Rt,_getProvider:()=>Zt,_registerComponent:()=>wi,_removeServiceInstance:()=>ni,deleteApp:()=>Rn,getApp:()=>Re,getApps:()=>En,initializeApp:()=>Ci,onLog:()=>$n,registerVersion:()=>$e,setLogLevel:()=>kn});var a=P(8239),z=P(3910),L=P(5422),oe=P(3854);class ue{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function(Le){const Ce=Le.getComponent();return"VERSION"===(null==Ce?void 0:Ce.type)}(nt)){const se=nt.getImmediate();return`${se.library}/${se.version}`}return null}).filter(nt=>nt).join(" ")}}const te="@firebase/app",ee=new L.Yd("@firebase/app"),di="[DEFAULT]",bi={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Rt=new Map;function bs(Le,Ce){try{Le.container.addComponent(Ce)}catch(nt){ee.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Le.name}`,nt)}}function ws(Le,Ce){Le.container.addOrOverwriteComponent(Ce)}function wi(Le){const Ce=Le.name;if(Rt.has(Ce))return ee.debug(`There were multiple attempts to register component ${Ce}.`),!1;Rt.set(Ce,Le);for(const nt of _n.values())bs(nt,Le);return!0}function Zt(Le,Ce){const nt=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Le.container.getProvider(Ce)}function ni(Le,Ce,nt=di){Zt(Le,Ce).clearInstance(nt)}function en(){Rt.clear()}const yn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hi{constructor(Ce,nt,se){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=se,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}const Jn="9.6.10";function Ci(Le,Ce={}){"object"!=typeof Ce&&(Ce={name:Ce});const nt=Object.assign({name:di,automaticDataCollectionEnabled:!1},Ce),se=nt.name;if("string"!=typeof se||!se)throw yn.create("bad-app-name",{appName:String(se)});const pe=_n.get(se);if(pe){if((0,oe.vZ)(Le,pe.options)&&(0,oe.vZ)(nt,pe.config))return pe;throw yn.create("duplicate-app",{appName:se})}const De=new z.H0(se);for(const O of Rt.values())De.addComponent(O);const H=new hi(Le,nt,De);return _n.set(se,H),H}function Re(Le=di){const Ce=_n.get(Le);if(!Ce)throw yn.create("no-app",{appName:Le});return Ce}function En(){return Array.from(_n.values())}function Rn(Le){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(Le){const Ce=Le.name;_n.has(Ce)&&(_n.delete(Ce),yield Promise.all(Le.container.getProviders().map(nt=>nt.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function $e(Le,Ce,nt){var se;let pe=null!==(se=bi[Le])&&void 0!==se?se:Le;nt&&(pe+=`-${nt}`);const De=pe.match(/\s|\//),H=Ce.match(/\s|\//);if(De||H){const O=[`Unable to register library "${pe}" with version "${Ce}":`];return De&&O.push(`library name "${pe}" contains illegal characters (whitespace or "/")`),De&&H&&O.push("and"),H&&O.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ee.warn(O.join(" "))}wi(new z.wA(`${pe}-version`,()=>({library:pe,version:Ce}),"VERSION"))}function $n(Le,Ce){if(null!==Le&&"function"!=typeof Le)throw yn.create("invalid-log-argument");(0,L.Am)(Le,Ce)}function kn(Le){(0,L.Ub)(Le)}const ii="firebase-heartbeat-store";let Xn=null;function hn(){return Xn||(Xn=(0,oe.X3)("firebase-heartbeat-database",1,(Le,Ce)=>{switch(Ce){case 0:Le.createObjectStore(ii)}}).catch(Le=>{throw yn.create("storage-open",{originalErrorMessage:Le.message})})),Xn}function tn(){return(tn=(0,a.Z)(function*(Le){try{return(yield hn()).transaction(ii).objectStore(ii).get(Tr(Le))}catch(Ce){throw yn.create("storage-get",{originalErrorMessage:Ce.message})}})).apply(this,arguments)}function je(Le,Ce){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(Le,Ce){try{const se=(yield hn()).transaction(ii,"readwrite");return yield se.objectStore(ii).put(Ce,Tr(Le)),se.complete}catch(nt){throw yn.create("storage-set",{originalErrorMessage:nt.message})}})).apply(this,arguments)}function Tr(Le){return`${Le.name}!${Le.options.appId}`}class Ht{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Tt(nt),this._heartbeatsCachePromise=this._storage.read().then(se=>(this._heartbeatsCache=se,se))}triggerHeartbeat(){var Ce=this;return(0,a.Z)(function*(){const se=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pe=Wn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==pe&&!Ce._heartbeatsCache.heartbeats.some(De=>De.date===pe))return Ce._heartbeatsCache.heartbeats.push({date:pe,agent:se}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(De=>{const H=new Date(De.date).valueOf();return Date.now()-H<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,a.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const nt=Wn(),{heartbeatsToSend:se,unsentEntries:pe}=function(Le,Ce=1024){const nt=[];let se=Le.slice();for(const pe of Le){const De=nt.find(H=>H.agent===pe.agent);if(De){if(De.dates.push(pe.date),wt(nt)>Ce){De.dates.pop();break}}else if(nt.push({agent:pe.agent,dates:[pe.date]}),wt(nt)>Ce){nt.pop();break}se=se.slice(1)}return{heartbeatsToSend:nt,unsentEntries:se}}(Ce._heartbeatsCache.heartbeats),De=(0,oe.L)(JSON.stringify({version:2,heartbeats:se}));return Ce._heartbeatsCache.lastSentHeartbeatDate=nt,pe.length>0?(Ce._heartbeatsCache.heartbeats=pe,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),De})()}}function Wn(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,a.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function(Le){return tn.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var nt=this;return(0,a.Z)(function*(){var se;if(yield nt._canUseIndexedDBPromise){const De=yield nt.read();return je(nt.app,{lastSentHeartbeatDate:null!==(se=Ce.lastSentHeartbeatDate)&&void 0!==se?se:De.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var nt=this;return(0,a.Z)(function*(){var se;if(yield nt._canUseIndexedDBPromise){const De=yield nt.read();return je(nt.app,{lastSentHeartbeatDate:null!==(se=Ce.lastSentHeartbeatDate)&&void 0!==se?se:De.lastSentHeartbeatDate,heartbeats:[...De.heartbeats,...Ce.heartbeats]})}})()}}function wt(Le){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Le})).length}wi(new z.wA("platform-logger",Ce=>new ue(Ce),"PRIVATE")),wi(new z.wA("heartbeat",Ce=>new Ht(Ce),"PRIVATE")),$e(te,"0.7.20",""),$e(te,"0.7.20","esm2017"),$e("fire-js","")},3910:(st,Te,P)=>{"use strict";P.d(Te,{wA:()=>L,H0:()=>ne});var a=P(8239),z=P(3854);class L{constructor(B,W,G){this.name=B,this.instanceFactory=W,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const oe="[DEFAULT]";class ue{constructor(B,W){this.name=B,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const W=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(W)){const G=new z.BH;if(this.instancesDeferred.set(W,G),this.isInitialized(W)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:W});ie&&G.resolve(ie)}catch(ie){}}return this.instancesDeferred.get(W).promise}getImmediate(B){var W;const G=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),ie=null!==(W=null==B?void 0:B.optional)&&void 0!==W&&W;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(me){if(ie)return null;throw me}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if("EAGER"===B.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:oe})}catch(W){}for(const[W,G]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(W);try{const me=this.getOrInitializeService({instanceIdentifier:ie});G.resolve(me)}catch(me){}}}}clearInstance(B=oe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,a.Z)(function*(){const W=Array.from(B.instances.values());yield Promise.all([...W.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...W.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=oe){return this.instances.has(B)}getOptions(B=oe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:W={}}=B,G=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:G,options:W});for(const[me,Ae]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(me)&&Ae.resolve(ie);return ie}onInit(B,W){var G;const ie=this.normalizeInstanceIdentifier(W),me=null!==(G=this.onInitCallbacks.get(ie))&&void 0!==G?G:new Set;me.add(B),this.onInitCallbacks.set(ie,me);const Ae=this.instances.get(ie);return Ae&&B(Ae,ie),()=>{me.delete(B)}}invokeOnInitCallbacks(B,W){const G=this.onInitCallbacks.get(W);if(G)for(const ie of G)try{ie(B,W)}catch(me){}}getOrInitializeService({instanceIdentifier:B,options:W={}}){let G=this.instances.get(B);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=B,ee===oe?void 0:ee),options:W}),this.instances.set(B,G),this.instancesOptions.set(B,W),this.invokeOnInitCallbacks(G,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,G)}catch(ie){}var ee;return G||null}normalizeInstanceIdentifier(B=oe){return this.component?this.component.multipleInstances?B:oe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const W=this.getProvider(B.name);if(W.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);W.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const W=new ue(B,this);return this.providers.set(B,W),W}getProviders(){return Array.from(this.providers.values())}}},3328:(st,Te,P)=>{"use strict";var a=P(8239),z=P(8026),L=P(3910),oe=P(3854);const ue="@firebase/installations",J="0.5.7",ne=`w:${J}`,ee="FIS_v2",Ae=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ve(re){return re instanceof oe.ZR&&re.code.includes("request-failed")}function Ve({projectId:re}){return`https://firebaseinstallations.googleapis.com/v1/projects/${re}/installations`}function _e(re){return{token:re.token,requestStatus:2,expiresIn:ct(re.expiresIn),creationTime:Date.now()}}function Fe(re,he){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(re,he){const He=(yield he.json()).error;return Ae.create("request-failed",{requestName:re,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function Yt({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function wn(re,{refreshToken:he}){const Me=Yt(re);return Me.append("Authorization",function(re){return`${ee} ${re}`}(he)),Me}function Xt(re){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(re){const he=yield re();return he.status>=500&&he.status<600?re():he})).apply(this,arguments)}function ct(re){return Number(re.replace("s","000"))}function xt(re,he){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*({appConfig:re,heartbeatServiceProvider:he},{fid:Me}){const He=Ve(re),jn=Yt(re),nn=he.getImmediate({optional:!0});if(nn){const Vi=yield nn.getHeartbeatsHeader();Vi&&jn.append("x-firebase-client",Vi)}const On={method:"POST",headers:jn,body:JSON.stringify({fid:Me,authVersion:ee,appId:re.appId,sdkVersion:ne})},Li=yield Xt(()=>fetch(He,On));if(Li.ok){const Vi=yield Li.json();return{fid:Vi.fid||Me,registrationStatus:2,refreshToken:Vi.refreshToken,authToken:_e(Vi.authToken)}}throw yield Fe("Create Installation",Li)})).apply(this,arguments)}function jt(re){return new Promise(he=>{setTimeout(he,re)})}const $t=/^[cdef][\w-]{21}$/;function sr(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const Me=function(re){return function(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return $t.test(Me)?Me:""}catch(re){return""}}function di(re){return`${re.appName}!${re.appId}`}const bi=new Map;function _n(re,he){const Me=di(re);ws(Me,he),function(re,he){const Me=(!Zt&&"BroadcastChannel"in self&&(Zt=new BroadcastChannel("[Firebase] FID Change"),Zt.onmessage=re=>{ws(re.data.key,re.data.fid)}),Zt);Me&&Me.postMessage({key:re,fid:he}),0===bi.size&&Zt&&(Zt.close(),Zt=null)}(Me,he)}function ws(re,he){const Me=bi.get(re);if(Me)for(const He of Me)He(he)}let Zt=null;const hi="firebase-installations-store";let Jn=null;function Ci(){return Jn||(Jn=(0,oe.X3)("firebase-installations-database",1,(re,he)=>{switch(he){case 0:re.createObjectStore(hi)}})),Jn}function Re(re,he){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(re,he){const Me=di(re),jn=(yield Ci()).transaction(hi,"readwrite"),nn=jn.objectStore(hi),ot=yield nn.get(Me);return yield nn.put(he,Me),yield jn.complete,(!ot||ot.fid!==he.fid)&&_n(re,he.fid),he})).apply(this,arguments)}function Rn(re){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(re){const he=di(re),He=(yield Ci()).transaction(hi,"readwrite");yield He.objectStore(hi).delete(he),yield He.complete})).apply(this,arguments)}function $e(re,he){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(re,he){const Me=di(re),jn=(yield Ci()).transaction(hi,"readwrite"),nn=jn.objectStore(hi),ot=yield nn.get(Me),On=he(ot);return void 0===On?yield nn.delete(Me):yield nn.put(On,Me),yield jn.complete,On&&(!ot||ot.fid!==On.fid)&&_n(re,On.fid),On})).apply(this,arguments)}function kn(re){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(re){let he;const Me=yield $e(re.appConfig,He=>{const jn=or(He),nn=ii(re,jn);return he=nn.registrationPromise,nn.installationEntry});return""===Me.fid?{installationEntry:yield he}:{installationEntry:Me,registrationPromise:he}})).apply(this,arguments)}function or(re){return Qe(re||{fid:sr(),registrationStatus:0})}function ii(re,he){if(0===he.registrationStatus){if(!navigator.onLine)return{installationEntry:he,registrationPromise:Promise.reject(Ae.create("app-offline"))};const Me={fid:he.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Me,registrationPromise:function(re,he){return hn.apply(this,arguments)}(re,Me)}}return 1===he.registrationStatus?{installationEntry:he,registrationPromise:_r(re)}:{installationEntry:he}}function hn(){return(hn=(0,a.Z)(function*(re,he){try{const Me=yield xt(re,he);return Re(re.appConfig,Me)}catch(Me){throw ve(Me)&&409===Me.customData.serverCode?yield Rn(re.appConfig):yield Re(re.appConfig,{fid:he.fid,registrationStatus:0}),Me}})).apply(this,arguments)}function _r(re){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(re){let he=yield je(re.appConfig);for(;1===he.registrationStatus;)yield jt(100),he=yield je(re.appConfig);if(0===he.registrationStatus){const{installationEntry:Me,registrationPromise:He}=yield kn(re);return He||Me}return he})).apply(this,arguments)}function je(re){return $e(re,he=>{if(!he)throw Ae.create("installation-not-found");return Qe(he)})}function Qe(re){return function(re){return 1===re.registrationStatus&&re.registrationTime+1e4<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function an(re,he){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*({appConfig:re,heartbeatServiceProvider:he},Me){const He=Ht(re,Me),jn=wn(re,Me),nn=he.getImmediate({optional:!0});if(nn){const Vi=yield nn.getHeartbeatsHeader();Vi&&jn.append("x-firebase-client",Vi)}const On={method:"POST",headers:jn,body:JSON.stringify({installation:{sdkVersion:ne,appId:re.appId}})},Li=yield Xt(()=>fetch(He,On));if(Li.ok)return _e(yield Li.json());throw yield Fe("Generate Auth Token",Li)})).apply(this,arguments)}function Ht(re,{fid:he}){return`${Ve(re)}/${he}/authTokens:generate`}function Wn(re){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(re,he=!1){let Me;const He=yield $e(re.appConfig,nn=>{if(!nt(nn))throw Ae.create("not-registered");const ot=nn.authToken;if(!he&&se(ot))return nn;if(1===ot.requestStatus)return Me=Tt(re,he),nn;{if(!navigator.onLine)throw Ae.create("app-offline");const On=De(nn);return Me=Le(re,On),On}});return Me?yield Me:He.authToken})).apply(this,arguments)}function Tt(re,he){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(re,he){let Me=yield Ot(re.appConfig);for(;1===Me.authToken.requestStatus;)yield jt(100),Me=yield Ot(re.appConfig);const He=Me.authToken;return 0===He.requestStatus?Wn(re,he):He})).apply(this,arguments)}function Ot(re){return $e(re,he=>{if(!nt(he))throw Ae.create("not-registered");return function(re){return 1===re.requestStatus&&re.requestTime+1e4<Date.now()}(he.authToken)?Object.assign(Object.assign({},he),{authToken:{requestStatus:0}}):he})}function Le(re,he){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(re,he){try{const Me=yield an(re,he),He=Object.assign(Object.assign({},he),{authToken:Me});return yield Re(re.appConfig,He),Me}catch(Me){if(!ve(Me)||401!==Me.customData.serverCode&&404!==Me.customData.serverCode){const He=Object.assign(Object.assign({},he),{authToken:{requestStatus:0}});yield Re(re.appConfig,He)}else yield Rn(re.appConfig);throw Me}})).apply(this,arguments)}function nt(re){return void 0!==re&&2===re.registrationStatus}function se(re){return 2===re.requestStatus&&!function(re){const he=Date.now();return he<re.creationTime||re.creationTime+re.expiresIn<he+36e5}(re)}function De(re){const he={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:he})}function q(){return(q=(0,a.Z)(function*(re){const he=re,{installationEntry:Me,registrationPromise:He}=yield kn(he);return He?He.catch(console.error):Wn(he).catch(console.error),Me.fid})).apply(this,arguments)}function R(){return(R=(0,a.Z)(function*(re,he=!1){const Me=re;return yield N(Me),(yield Wn(Me,he)).token})).apply(this,arguments)}function N(re){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function*(re){const{registrationPromise:he}=yield kn(re);he&&(yield he)})).apply(this,arguments)}function zt(re){return Ae.create("missing-app-config-values",{valueName:re})}const Un="installations";(0,z._registerComponent)(new L.wA(Un,re=>{const he=re.getProvider("app").getImmediate();return{app:he,appConfig:function(re){if(!re||!re.options)throw zt("App Configuration");if(!re.name)throw zt("App Name");const he=["projectId","apiKey","appId"];for(const Me of he)if(!re.options[Me])throw zt(Me);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(he),heartbeatServiceProvider:(0,z._getProvider)(he,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,z._registerComponent)(new L.wA("installations-internal",re=>{const he=re.getProvider("app").getImmediate(),Me=(0,z._getProvider)(he,Un).getImmediate();return{getId:()=>function(re){return q.apply(this,arguments)}(Me),getToken:jn=>function(re){return R.apply(this,arguments)}(Me,jn)}},"PRIVATE")),(0,z.registerVersion)(ue,J),(0,z.registerVersion)(ue,J,"esm2017")},5422:(st,Te,P)=>{"use strict";P.d(Te,{in:()=>z,Yd:()=>te,Ub:()=>ne,Am:()=>ee});const a=[];var z=(()=>{return(B=z||(z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",z;var B})();const L={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},oe=z.INFO,ue={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},J=(B,W,...G)=>{if(W<B.logLevel)return;const ie=(new Date).toISOString(),me=ue[W];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[me](`[${ie}]  ${B.name}:`,...G)};class te{constructor(W){this.name=W,this._logLevel=oe,this._logHandler=J,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function ne(B){a.forEach(W=>{W.setLogLevel(B)})}function ee(B,W){for(const G of a){let ie=null;W&&W.level&&(ie=L[W.level]),G.userLogHandler=null===B?null:(me,Ae,...ve)=>{const Ve=ve.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(Fe){return null}}).filter(_e=>_e).join(" ");Ae>=(null!=ie?ie:me.logLevel)&&B({level:z[Ae].toLowerCase(),message:Ve,args:ve,type:me.name})}}}},8239:(st,Te,P)=>{"use strict";function a(L,oe,ue,J,te,ne,ee){try{var B=L[ne](ee),W=B.value}catch(G){return void ue(G)}B.done?oe(W):Promise.resolve(W).then(J,te)}function z(L){return function(){var oe=this,ue=arguments;return new Promise(function(J,te){var ne=L.apply(oe,ue);function ee(W){a(ne,J,te,ee,B,"next",W)}function B(W){a(ne,J,te,ee,B,"throw",W)}ee(void 0)})}}P.d(Te,{Z:()=>z})}},st=>{st(st.s=3821)}]);